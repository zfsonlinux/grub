grub2 (2.00-13ubuntu3+zfs2~raring.tf.3) raring; urgency=low

  * grub-pc provides zfs-grub-pc
  * grub-pc-bin provides zfs-grub-pc-bin

 -- Turbo Fredriksson <turbo@bayour.com>  Mon, 20 May 2013 04:09:18 +0200

grub2 (2.00-13ubuntu3+zfs2~raring.tf.2) raring; urgency=low

  * Add fix to find the correct system boot path for zfs.
    https://github.com/zfsonlinux/zfs/issues/1441#issuecomment-17416105

 -- Turbo Fredriksson <turbo@bayour.com>  Wed, 15 May 2013 02:58:36 +0200

grub2 (2.00-13ubuntu3+zfs2~raring.tf.1) raring; urgency=low

  * Lower build depends on gcc from 4.7 to 4.4.
  * Lower build depends on libfuse-dev from 2.8.4-1.4 to 2.8.4-1.1.

 -- Turbo Fredriksson <turbo@bayour.com>  Wed, 15 May 2013 02:58:36 +0200

grub2 (2.00-13ubuntu3+zfs2~raring) raring; urgency=low

  * Provide a virtual zfs-grub package.
  * Add zfs-linux.patch for ZoL support.
  * Set --enable-libzfs in the debian/rules file.
  * Set --disable-werror in the debian/rules file.
  * Enable restore_mkdevicemap.patch
  * Import zfs-feature-flag-support.patch from Gentoo.
    Thanks: Massimo Maggi for https://github.com/maxximino/grub2
  * Disable with_check for dh_auto_test.

 -- Darik Horn <dajhorn@vanadac.com>  Tue, 09 Apr 2013 13:41:12 -0500

grub2 (2.00-13ubuntu3) raring; urgency=low

  * In 05_debian_theme treat 'Kubuntu' as Ubuntu alias in $GRUB_DISTRIBUTOR.
    Kubuntu overrides the value to establish branding in the grub OS list.

 -- Harald Sitter <apachelogger@kubuntu.org>  Tue, 09 Apr 2013 10:51:06 +0200

grub2 (2.00-13ubuntu2) raring; urgency=low

  * acpihalt: expand parser to handle SSDTs and some more opcodes.  Fixes
    test suite hang with current seabios.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 13 Mar 2013 00:31:14 +0000

grub2 (2.00-13ubuntu1) raring; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Check hardware support before using gfxpayload=keep.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Disable cursor as early as possible in grub_main.
  * Drop handling of upgrades from pre-lucid.
  * Don't call update-grub in the zz-update-grub kernel hook if
    /boot/grub/grub.cfg doesn't exist.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 11 Mar 2013 23:52:19 +0000

grub2 (2.00-13) experimental; urgency=low

  * Backport from upstream:
    - Fix booting FreeBSD >= 9.1 amd64 kernels (closes: #699002).
  * Merge from Ubuntu:
    - Stop using the /usr/share/images/desktop-base/desktop-grub.png
      alternative as the fallback background if GRUB_DISTRIBUTOR is
      "Ubuntu".
    - source_grub2.py: Use attach_default_grub from apport's hookutils.
    - Output a menu entry for firmware setup on UEFI FastBoot systems.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Remove "GNU/Linux" from default distributor string for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Apply patch from Fedora to add a "linuxefi" loader which boots kernels
      with EFI handover patches, avoiding ExitBootServices.
    - Temporarily make linuxefi refuse to validate kernels in the absence of
      a shim, until we get some other details worked out.
    - Automatically call linuxefi from linux if secure boot is enabled and
      the kernel is signed, to hand over to the kernel without calling
      ExitBootServices.  Otherwise, linux will fall through to previous
      code, call ExitBootServices itself, and boot the kernel normally.
    - Generate configuration for signed UEFI kernels if available.
    - On Ubuntu amd64, add a raw-uefi custom upload tarball for signing.
    - Install signed images if available and UEFI Secure Boot is enabled.
    - Add "splash" to default boot options on Ubuntu.

 -- Colin Watson <cjwatson@debian.org>  Fri, 01 Feb 2013 15:44:25 +0000

grub2 (2.00-12ubuntu1) raring; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Check hardware support before using gfxpayload=keep.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Disable cursor as early as possible in grub_main.
    - Apply patch from Fedora to add a "linuxefi" loader.
    - Automatically call linuxefi from linux when necessary.
    - On amd64, add raw-uefi custom upload tarballs for signing.
    - Generate configuration for signed UEFI kernels if available.
    - Install signed images if UEFI Secure Boot is enabled.
    - Output a menu entry for firmware setup on UEFI FastBoot systems.
    - Stop using the /usr/share/images/desktop-base/desktop-grub.png
      alternative as the fallback background.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 25 Jan 2013 00:36:50 +0000

grub2 (2.00-12) experimental; urgency=low

  * Silence output from running-in-container.
  * Also skip update-grub when running in a container (LP: #1060404).

 -- Colin Watson <cjwatson@debian.org>  Thu, 24 Jan 2013 23:21:48 +0000

grub2 (2.00-11ubuntu1) raring; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Check hardware support before using gfxpayload=keep.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Disable cursor as early as possible in grub_main.
    - Apply patch from Fedora to add a "linuxefi" loader.
    - Automatically call linuxefi from linux when necessary.
    - On amd64, add raw-uefi custom upload tarballs for signing.
    - Generate configuration for signed UEFI kernels if available.
    - Install signed images if UEFI Secure Boot is enabled.
    - Output a menu entry for firmware setup on UEFI FastBoot systems.
    - Stop using the /usr/share/images/desktop-base/desktop-grub.png
      alternative as the fallback background.
  * Revert to build-depending on qemu-system rather than qemu-kvm, as in
    Debian, now that it exists in Ubuntu and is in main.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 21 Jan 2013 14:02:41 +0000

grub2 (2.00-11) experimental; urgency=low

  [ Adam Conrad ]
  * debian/{postinst,config}.in: Don't fail if /etc/default/grub.d
    configuration snippets exist, but /etc/default/grub does not.

  [ Colin Watson ]
  * Merge wheezy branch up to 1.99-27, fixing overzealous removal of
    load_video call when GRUB_GFXPAYLOAD_LINUX is empty (closes: #661789).
  * Merge from Ubuntu:
    - If the postinst is running in a container, skip grub-install and all
      its associated questions (LP: #1060404).
    - Fix backslash-escaping in merge_debconf_into_conf (LP: #448413).  Note
      that this differs slightly from the fix in Ubuntu, which corrected
      behaviour when amending an existing configuration item but
      accidentally over-escaped when adding a new one.
    - Replace "single" with "recovery" when friendly-recovery is installed
      (LP: #575469).
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      Ubuntu's backport of the grub-doc split (LP: #493968).

 -- Colin Watson <cjwatson@debian.org>  Mon, 21 Jan 2013 10:49:00 +0000

grub2 (2.00-10ubuntu1) raring; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
    - Disable cursor as early as possible in grub_main.
    - Apply patch from Fedora to add a "linuxefi" loader.
    - Automatically call linuxefi from linux when necessary.
    - On amd64, add raw-uefi custom upload tarballs for signing.
    - Generate configuration for signed UEFI kernels if available.
    - Install signed images if UEFI Secure Boot is enabled.
    - Output a menu entry for firmware setup on UEFI FastBoot systems.
    - Stop using the /usr/share/images/desktop-base/desktop-grub.png
      alternative as the fallback background.
    - If the postinst is running in a container, skip grub-install and all
      its associated questions.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 03 Jan 2013 11:40:44 +0000

grub2 (2.00-10) experimental; urgency=low

  * Support parallel builds.
  * Remove /boot/grub/unicode.pf2 on purge of grub-efi-{amd64,i386} (closes:
    #697183).
  * Build with GCC 4.7.
  * Merge from Ubuntu:
    - Don't permit loading modules on UEFI Secure Boot (since in such a
      setup the GRUB core image must be signed but it has no provision for
      verifying module signatures).
    - Read /etc/default/grub.d/*.cfg after /etc/default/grub (LP: #901600).
    - Blacklist 1440x900x32 from VBE preferred mode handling until a better
      solution is available (LP: #701111).

 -- Colin Watson <cjwatson@debian.org>  Thu, 03 Jan 2013 09:38:25 +0000

grub2 (2.00-9) experimental; urgency=low

  * Ensure /boot/grub exists before copying files to it for EFI installs
    (closes: #696962).

 -- Colin Watson <cjwatson@debian.org>  Sat, 29 Dec 2012 23:44:51 +0000

grub2 (2.00-8) experimental; urgency=low

  * debian/apport/source_grub2.py:
    - Use context managers to avoid (harmless) file descriptor leaks.
    - Set a file encoding, per PEP 0263.
  * Drop grub-ieee1275-bin's dependency on bc in favour of powerpc-ibm-utils
    (>= 1.2.12-1) (cf. #625728).
  * Move powerpc-ibm-utils and powerpc-utils dependencies from
    grub-ieee1275-bin to grub-ieee1275 (closes: #693400).
  * Merge from Ubuntu:
    - Ignore symlink traversal failures in grub-mount readdir
      (LP: #1051306).
    - Fix incorrect initrd minimum address calculation (LP: #1055686).
    - Avoid assuming that gets is declared.
  * Copy unicode.pf2 to /boot/grub/ for EFI installs so that it is more
    likely to be readable by GRUB (closes: #661789).

 -- Colin Watson <cjwatson@debian.org>  Fri, 28 Dec 2012 17:34:32 +0000

grub2 (2.00-7ubuntu14) raring; urgency=low

  * When installing to removable media with UEFI Secure Boot, install
    gcdx64.efi.signed rather than grubx64.efi.signed (LP: #1087653).
  * Make gcdx64.efi.signed fall back to sourcing $prefix/grub.cfg if
    $prefix/x86_64-efi/grub.cfg is missing, as is likely when using
    'grub-install --removable'.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 10 Dec 2012 11:29:04 +0000

grub2 (2.00-7ubuntu13) raring; urgency=low

  * Avoid assuming that gets is declared.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 31 Oct 2012 10:36:57 +0000

grub2 (2.00-7ubuntu12) raring; urgency=low

  * Add a little bit more debugging to signed/unsigned kernel logic.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 31 Oct 2012 06:59:10 +0000

grub2 (2.00-7ubuntu11) quantal-proposed; urgency=low

  * Fix incorrect initrd minimum address calculation (LP: #1055686).
  * Add keystatus and loadenv to signed image (LP: #1066399).

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 14 Oct 2012 09:30:55 +0100

grub2 (2.00-7ubuntu10) quantal; urgency=low

  * Ignore symlink traversal failures in grub-mount readdir (LP: #1051306).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 12 Oct 2012 17:14:04 +0100

grub2 (2.00-7ubuntu9) quantal; urgency=low

  * Fix patch to forbid insmod on UEFI secure boot to also forbid other
    methods of loading modules (LP: #1065621).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 12 Oct 2012 01:09:31 +0100

grub2 (2.00-7ubuntu8) quantal; urgency=low

  * Add some extra debugging to signed/unsigned kernel logic, to make it
    easier to work out why it fails for some people.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 11 Oct 2012 14:48:03 +0100

grub2 (2.00-7ubuntu7) quantal; urgency=low

  * Make embedded FAT filesystem a multiple of 32 blocks so that mtools is
    happy with it.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 10 Oct 2012 13:28:20 +0100

grub2 (2.00-7ubuntu6) quantal; urgency=low

  * GRUB's rescue parser doesn't understand 'if', so the embedded
    configuration file in gcdx64.efi emitted errors.  Add the memdisk
    module, embed a tiny FAT filesystem containing the grub.cfg with the
    search-and-chain logic, and embed a bootstrap configuration file that
    loads that using 'normal'.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 10 Oct 2012 12:19:10 +0100

grub2 (2.00-7ubuntu5) quantal; urgency=low

  * Embed a configuration file in gcdx64.efi which looks for a real boot
    disk containing /.disk/info or /.disk/mini-info and chains to
    /boot/grub/$platform/grub.cfg there.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 09 Oct 2012 15:35:11 +0100

grub2 (2.00-7ubuntu4) quantal; urgency=low

  [ Colin Watson ]
  * Install signed images if UEFI Secure Boot is enabled (LP: #1063602).

  [ Steve Langasek ]
  * debian/patches/ubuntu_uefi_firmware_setup.patch: Output a menu entry
    for firmware setup on UEFI FastBoot systems.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 08 Oct 2012 12:16:40 +0100

grub2 (2.00-7ubuntu3) quantal; urgency=low

  * If the postinst is running in a container, skip grub-install and all its
    associated questions (LP: #1060404).
  * Merge UEFI secure boot tweaks from Fedora:
    - Don't error on insmod on UEFI/SB, but also don't do any insmodding.
    - Add sleep to the list of modules in the signed image.
  * Move Ubuntu modifications to the Fedora linuxefi patch into separate
    patches, to ease maintenance.
  * Implement secure boot handling policy as outlined by Steve Langasek:
    - Make the linux module call linuxefi when necessary, simplifying
      configuration.  Add the linux module to the signed image.
    - If secure boot is enabled and the kernel is signed, linux will call
      linuxefi to hand over to it without calling ExitBootServices.
    - Otherwise, linux will fall through to previous code, call
      ExitBootServices itself, and boot the kernel normally.
    - Change linuxefi to return GRUB_ERR_ACCESS_DENIED rather than
      GRUB_ERR_INVALID_COMMAND in the case of an invalid signature, to make
      it easier to implement different handling of unsigned kernels in
      future if necessary.
  * Build two images for signing: one with prefix /EFI/BOOT for use on
    removable media, and one with prefix /EFI/ubuntu (and with the lvm,
    mdraid09, and mdraid1x modules added) for use on fixed disks.  Setup
    mostly borrowed from Fedora.
  * Generate configuration for signed UEFI kernels if available.

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 07 Oct 2012 11:36:29 +0100

grub2 (2.00-7ubuntu2) quantal; urgency=low

  * For now, stop using the /usr/share/images/desktop-base/desktop-grub.png
    alternative as the fallback background.  We should ultimately have some
    Ubuntu branding here, but at the moment it just confuses people who
    accidentally install desktop-base.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 04 Oct 2012 10:34:01 +0100

grub2 (2.00-7ubuntu1) quantal; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
    - Disable cursor as early as possible in grub_main.
    - Apply patch from Fedora to forbid insmod on UEFI secure boot.
    - Apply patch from Fedora to add a "linuxefi" loader.
    - On amd64, add a raw-uefi custom upload tarball for signing.
  * Fix hwmatch to not override more informative errors from grub_file_open
    with "file not found".
  * Read /etc/default/grub.d/*.cfg after /etc/default/grub (LP: #901600).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 27 Sep 2012 16:16:51 +0100

grub2 (2.00-7) experimental; urgency=low

  * Backport from upstream:
    - Fix stderr leakage from grub-probe in is_path_readable_by_grub.
    - Fix tftp endianness problem.
  * Merge from Ubuntu:
    - Prefer translations from language packs (LP: #537998).  (No-op for
      Debian, but harmless.)
    - Avoid getting confused by inaccessible loop device backing paths
      (LP: #938724).

 -- Colin Watson <cjwatson@debian.org>  Wed, 26 Sep 2012 16:05:07 +0100

grub2 (2.00-6) experimental; urgency=low

  [ Colin Watson ]
  * Adjust package descriptions to talk about update-grub, not update-grub2.
  * Backport from upstream:
    - Fix grub-emu build on FreeBSD.
  * Revert gcc-4.6-multilib build-dependency change from 2.00-1, since
    kfreebsd-i386 and hurd-i386 don't have gcc-4.6-multilib.  Instead, make
    sure to only install efiemu32.o and efiemu64.o on (linux-)i386,
    kopensolaris-i386, and any-amd64.
  * Manually expand @PACKAGE@ symbols in grub-efi.postinst (closes:
    #688725), grub-linuxbios.postinst (closes: #688726), and grub2.postinst
    (closes: #688724).

  [ Debconf translations ]
  * Lithuanian (Rimas Kudelis).  Closes: #675628
  * Galician (Jorge Barreiro).  Closes: #677389
  * Welsh (Daffyd Tomos).
  * Greek (galaxico).  Closes: #685201
  * Romanian (Andrei POPESCU).  Closes: #685477
  * Finnish (Timo Jyrinki).

  [ Cyril Brulebois ]
  * Use xz compression for all binaries to save up some space on CD images
    (closes: #688773).

 -- Colin Watson <cjwatson@debian.org>  Tue, 25 Sep 2012 22:47:03 +0100

grub2 (2.00-5ubuntu3) quantal; urgency=low

  * Rename raw-uefi custom upload tarball to grub2_* rather than
    grub-efi-amd64_*, to produce a more sensible archive URL.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 21 Sep 2012 11:01:41 +0100

grub2 (2.00-5ubuntu2) quantal; urgency=low

  * Apply patch from Fedora to add a "linuxefi" loader which boots kernels
    with EFI handover patches, avoiding ExitBootServices.
  * On amd64, add a raw-uefi custom upload tarball for signing.
  * Temporarily make linuxefi refuse to validate kernels in the absence of a
    shim, until we get some other details worked out.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 20 Sep 2012 18:31:48 +0100

grub2 (2.00-5ubuntu1) quantal; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
    - Disable cursor as early as possible in grub_main.
    - Avoid getting confused by inaccessible loop device backing paths.
    - Apply patch from Fedora to forbid insmod on UEFI secure boot.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 19 Sep 2012 10:56:33 +0100

grub2 (2.00-5) experimental; urgency=low

  * Backport from upstream:
    - Remove extra layer of escaping from grub_probe.
    - Add efifwsetup module to reboot into firmware setup menu.
    - Revert incorrect off-by-one fix when embedding in MBR (LP: #1051154).
  * Switch watch file to point to ftp.gnu.org.
  * Build-depend on liblzma-dev, enabling 'grub-mkimage -C xz'.
  * Adjust /etc/grub.d/30_os-prober to detect Ubuntu's use of "recovery"
    rather than "single".

 -- Colin Watson <cjwatson@debian.org>  Wed, 19 Sep 2012 08:52:27 +0100

grub2 (2.00-4ubuntu1) quantal; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
    - Disable cursor as early as possible in grub_main.
    - Avoid getting confused by inaccessible loop device backing paths.
    - Apply patch from Fedora to forbid insmod on UEFI secure boot.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 14 Sep 2012 14:58:15 +0100

grub2 (2.00-4) experimental; urgency=low

  * Fix platform postinsts to handle new core.img location.
  * Only fix up powerpc key repeat on IEEE1275 machines.  Fixes powerpc-emu
    compilation.
  * Move grub-install to grub2-common, since it's now common across
    platforms but clashes with grub-legacy.
  * Move grub-mknetdir to grub-common, since it's now common across
    platforms.
  * Make grub-install fall back to i386-pc if booted using EFI but the
    relevant *-efi target is not available (because only grub-pc is
    installed).

 -- Colin Watson <cjwatson@debian.org>  Fri, 14 Sep 2012 13:38:37 +0100

grub2 (2.00-3ubuntu1) quantal; urgency=low

  * Resynchronise with Debian (LP: #1046890).  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
    - Disable cursor as early as possible in grub_main.
    - Avoid getting confused by inaccessible loop device backing paths.
  * Apply patch from Fedora to forbid insmod on UEFI secure boot.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 13 Sep 2012 18:02:04 +0100

grub2 (2.00-3) experimental; urgency=low

  * Use dh-autoreconf.
  * Bail out if trying to run grub-mkconfig during upgrade to 2.00 (e.g.
    while configuring a kernel image), since the old /etc/grub.d/00_header
    conffile breaks until such time as grub-common is configured.

 -- Colin Watson <cjwatson@debian.org>  Thu, 13 Sep 2012 17:07:18 +0100

grub2 (2.00-2) experimental; urgency=low

  * Add -Wno-error=unused-result to HOST_CFLAGS for the moment, since at
    least grub-core/lib/crypto.c fails to compile on Ubuntu otherwise.
  * Update default/grub.md5sum to include Ubuntu maverick's default md5sum.
  * Autogenerate packaging files for grub-emu, in order that its postinst
    does not contain unexpanded @PACKAGE@ symbols.
  * Only try to install efiemu*.o into grub-emu on *-i386.

 -- Colin Watson <cjwatson@debian.org>  Sat, 08 Sep 2012 10:32:33 +0100

grub2 (2.00-1) experimental; urgency=low

  [ Jordi Mallach, Colin Watson ]
  * New upstream release.
    - Add LUKS and GELI encrypted disk support (closes: #463107).
    - Lazy scanning to avoid accessing devices which aren't really used.
      This avoids boot delay due to slow device scanning (closes: #549905,
      #550015, #550083, #564252, #595059, #632408).
    - Don't override more informative errors when loading kernel/initrd
      (closes: #551630).
    - Support 4K-sector NTFS (closes: #567728).
    - Unify grub-mkrescue interface on powerpc with that on other
      architectures (closes: #570119).
    - Fix infinite recursion in gettext when translation fails (closes:
      #611537, #612454, #616487, #619618, #626853, #643608).
    - Add more missing quotes to grub-mkconfig (closes: #612417).
    - Import gnulib change to fix argp_help segfault with help filter
      (closes: #612692).
    - Support %1$d syntax in grub_printf (closes: #630647).
    - Use write-combining MTRR to speed up video with buggy BIOSes (closes:
      #630926).
    - Remove multiboot header from PXE images to avoid confusing ipxe
      (closes: #635877).
    - Fix crash when attempting to install to a non-BIOS disk (closes:
      #637208).
    - Fix handling of grub-mkrescue --xorriso= option (closes: #646788).
    - Use umask rather than chmod to create grub.cfg.new to avoid insecure
      grub.cfg (closes: #654599).
    - Improve font installation logic (closes: #654645).
    - Add grub-probe info documentation (closes: #666031).
    - Don't crash on canonicalize_file_name failure in grub-probe (closes:
      #677211).

  [ Colin Watson ]
  * Adjust debian/watch to point to xz-compressed tarballs.
  * debian/grub.d/05_debian_theme: Source grub-mkconfig_lib from
    /usr/share/grub, not the /usr/lib/grub compatibility link.
  * Convert to source format 3.0 (quilt).  Developers, note that patches are
    stored applied in bzr; you may want to 'quilt pop -a' / 'quilt push -a'
    around merges.
  * Remove pointless debian/grub-mount-udeb.install.hurd-i386;
    grub-mount-udeb is not built on the Hurd.
  * Refactor debian/grub-common.install.hurd-i386 into .in files so that it
    imposes less of a maintenance burden.
  * Restore grub-mkdevicemap for now.  While it's kind of a mess, requiring
    lots of OS-specific code to iterate over all possible devices, we use it
    in a number of scripts to discover devices and reimplementing those in
    terms of something else would be very complicated.
  * Add grub-efi-ia64-bin and grub-efi-ia64 packages.  These are currently
    experimental, and grub-efi-ia64 does not automatically run grub-install.
  * Build-depend on gcc-4.6-multilib on kfreebsd-i386 and hurd-i386 as well
    as the other i386 architectures, since we need it to build efiemu32.o
    and efiemu64.o.
  * Add per-platform *-dbg packages containing files needed to use GRUB's
    GDB stub.  These are relatively large and thus worth splitting out.
  * Build-depend on ttf-dejavu-core for the starfield theme.
  * Add a grub-theme-starfield package containing the starfield theme.
  * Backport from upstream:
    - Don't decrease efi_mmap_size (LP: #1046429).
  * grub-common Suggests: console-setup for grub-kbdcomp (closes: #686815).
  * Silence error messages when translations are unavailable.
  * Don't pass *.module to dpkg-shlibdeps, avoiding lots of build-time
    warnings.
  * Move transitional package to Section: oldlibs.
  * Acknowledge NMU (closes: #676609).

  [ Debconf translations ]
  * Lithuanian (Rimas Kudelis).  Closes: #675628
  * Galician (Jorge Barreiro).  Closes: #677389
  * Welsh (Daffyd Tomos).
  * Greek (galaxico).  Closes: #685201
  * Romanian (Andrei POPESCU).  Closes: #685477
  * Finnish (Timo Jyrinki).

 -- Colin Watson <cjwatson@debian.org>  Thu, 06 Sep 2012 19:04:21 +0100

grub2 (1.99-27) unstable; urgency=low

  * Amend gfxpayload_keep_default.patch to no longer remove the call to
    load_video when GRUB_GFXPAYLOAD_LINUX is empty (closes: #661789).

 -- Colin Watson <cjwatson@debian.org>  Sun, 20 Jan 2013 16:37:52 +0000

grub2 (1.99-26) unstable; urgency=low

  * Remove /boot/grub/unicode.pf2 on purge of grub-efi-{amd64,i386} (closes:
    #697183).

 -- Colin Watson <cjwatson@debian.org>  Wed, 02 Jan 2013 11:54:50 +0000

grub2 (1.99-25) unstable; urgency=low

  * Ensure /boot/grub exists before copying files to it for EFI installs
    (closes: #696962).

 -- Colin Watson <cjwatson@debian.org>  Sat, 29 Dec 2012 23:45:01 +0000

grub2 (1.99-24) unstable; urgency=low

  * Acknowledge NMU with thanks.
  * Fix namespace of EFI boot failure patch file added in NMU.
  * Copy unicode.pf2 to /boot/grub/ for EFI installs so that it is more
    likely to be readable by GRUB (closes: #661789).
  * Fix infinite recursion in gettext when translation fails (closes:
    #611537, #612454, #616487, #619618, #626853, #643608).
  * Fix grammar in Finnish translation (closes: #687681).

 -- Colin Watson <cjwatson@debian.org>  Fri, 28 Dec 2012 13:01:38 +0000

grub2 (1.99-23.1) unstable; urgency=low

  * Non-maintainer upload.
  * Apply Ubuntu patch fixing some EFI boot failures (closes: #687320)
    - Thanks to Colin Watson.

 -- Michael Gilbert <mgilbert@debian.org>  Sun, 14 Oct 2012 04:09:51 -0400

grub2 (1.99-23) unstable; urgency=low

  [ Debconf translations ]
  * Lithuanian (Rimas Kudelis).  Closes: #675628
  * Galician (Jorge Barreiro).  Closes: #677389
  * Welsh (Daffyd Tomos).
  * Greek (galaxico).  Closes: #685201
  * Romanian (Andrei POPESCU).  Closes: #685477
  * Finnish (Timo Jyrinki).

  [ Cyril Brulebois ]
  * Use xz compression for all binaries to save up some space on CD images
    (closes: #688773).

  [ Colin Watson ]
  * Autogenerate packaging files for grub-emu (closes: #688727), in order
    that its postinst does not contain unexpanded @PACKAGE@ symbols.
  * Manually expand @PACKAGE@ symbols in grub-efi.postinst (closes:
    #688725), grub-linuxbios.postinst (closes: #688726), and grub2.postinst
    (closes: #688724).

 -- Colin Watson <cjwatson@debian.org>  Tue, 25 Sep 2012 18:59:18 +0100

grub2 (1.99-22.1) unstable; urgency=low

  * Non-maintainer upload.
  * Apply upstream patches for hurd-i386:
    - Test inode number (Closes: #634799).
    - Disable zfs code on GNU/Hurd (Closes: #670069).
    - Add userland partition support (Closes: #670186).
  * Fix packages build without libfuse (Closes: #670189).

 -- Samuel Thibault <sthibault@debian.org>  Fri, 08 Jun 2012 01:19:00 +0200

grub2 (1.99-22ubuntu2) quantal; urgency=low

  [ Brian Murray ]
  * source_grub2.py: use attach_default_grub from apport's hookutils
    This also fixes the missing encoding statement if the file contains
    non-ASCII characters. (LP: #919956)

 -- Brian Murray <brian@ubuntu.com>  Tue, 04 Sep 2012 08:59:05 -0700

grub2 (1.99-22ubuntu1) quantal; urgency=low

  [ Colin Watson ]
  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
    - Use qemu -no-kvm in tests for now to work around LP #947597.
    - Disable cursor as early as possible in grub_main.
    - Don't crash on inaccessible loop device backing paths.
    - Backport several upstream EFI device discovery patches.

  [ Ben Howard ]
  * Parameterization of recordfail setting. This allows users to define the
    default time out of GRUB when recordfail has been set. The current
    setting causes hangs on headless and appliances where access to the
    console is limited or prohibited.  (LP: #669481)

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 30 May 2012 12:11:57 +0100

grub2 (1.99-22) unstable; urgency=low

  [ Debconf translations ]
  * Khmer added (Khoem Sokhem)
  * Slovenian (Vanja Cvelbar).  Closes: #670616
  * Traditional Chinese (Vincent Chen).
  * Vietnamese (Hai Lang).
  * Marathi (Sampada Nakhare)
  * Finnish (Timo Jyrinki).  Closes: #673976
  * Latvian (Rūdolfs Mazurs).  Closes: #674697

  [ Colin Watson ]
  * Make apport hook compatible with Python 3.
  * Add upstream r3476 (fix memory leak in grub_disk_read_small) to
    4k_sectors.patch, otherwise the larger disk cache due to
    efi_disk_cache.patch can cause EFI systems to run out of memory.

 -- Colin Watson <cjwatson@debian.org>  Wed, 30 May 2012 10:38:40 +0100

grub2 (1.99-21ubuntu4) quantal; urgency=low

  * Switch to backwards compatible ${} syntax for grub.cfg (LP: #978464)

 -- Dmitrijs Ledkovs <dmitrij.ledkov@ubuntu.com>  Tue, 15 May 2012 08:03:30 -0700

grub2 (1.99-21ubuntu3) precise; urgency=low

  * Backport several upstream EFI device discovery patches to fix boot
    failures (LP: #975061).

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 17 Apr 2012 16:11:45 +0100

grub2 (1.99-21ubuntu2) precise; urgency=low

  [ Andy Whitcroft ]
  * Only supply vt.handoff=7 when we are using gfxpayload=keep.  Do this
    even when the command line is modified before execution.  (LP: #942846)

  [ Colin Watson ]
  * Don't crash on inaccessible loop device backing paths (LP: #938724).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 05 Apr 2012 13:36:57 +0100

grub2 (1.99-21ubuntu1) precise; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
    - Use qemu -no-kvm in tests for now to work around LP #947597.
    - Disable cursor as early as possible in grub_main.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 03 Apr 2012 18:15:58 +0100

grub2 (1.99-21) unstable; urgency=low

  * Backport from upstream:
    - Fix hook calling for unaligned segments (closes: #666992,
      LP: #972250).

 -- Colin Watson <cjwatson@debian.org>  Tue, 03 Apr 2012 14:19:18 +0100

grub2 (1.99-20ubuntu1) precise; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
    - Use qemu -no-kvm in tests for now to work around LP #947597.
    - Disable cursor as early as possible in grub_main.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 02 Apr 2012 22:42:18 +0100

grub2 (1.99-20) unstable; urgency=low

  * Backport kFreeBSD support from upstream to 4k_sectors.patch.

 -- Colin Watson <cjwatson@debian.org>  Mon, 02 Apr 2012 21:53:02 +0100

grub2 (1.99-19) unstable; urgency=low

  [ Colin Watson ]
  * Add grub-probe to grub-mount-udeb (LP: #963471).
  * Backport from upstream:
    - Restore CFLAGS after efiemu check (closes: #665772).
    - Include __ctzdi2 and __ctzsi2 from libgcc if present (closes:
      #665993).
    - Support non-512B sectors and agglomerate reads.

  [ Debconf translations ]
  * Croatian (Tomislav Krznar).

 -- Colin Watson <cjwatson@debian.org>  Mon, 02 Apr 2012 18:26:09 +0100

grub2 (1.99-18ubuntu1) precise; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
    - Use qemu -no-kvm in tests for now to work around LP #947597.
    - Disable cursor as early as possible in grub_main.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 19 Mar 2012 20:00:22 +0000

grub2 (1.99-18) unstable; urgency=low

  [ Colin Watson ]
  * Ensure that /sbin and /usr/sbin are in $PATH when running tests (closes:
    #662916).
  * mkconfig_loopback.patch: Use different GRUB loop devices for different
    OS loop devices (thanks, bcbc; LP: #888281).
  * Backport from upstream:
    - Add support for LZO compression in btrfs (LP: #727535).
    - Fix efiemu configure check.

  [ Ilya Yanok ]
  * Backport from upstream:
    - Make FAT UUID uppercase to match Linux (LP: #948716).

  [ Debconf translations ]
  * Norwegian Bokmål (Hans Fredrik Nordhaug). 
  * Gujarati (Kartik Mistry).  Closes: #663542

 -- Colin Watson <cjwatson@debian.org>  Mon, 19 Mar 2012 18:24:33 +0000

grub2 (1.99-17ubuntu1) precise; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
    - Use qemu -no-kvm in tests for now to work around LP #947597.
    - Disable cursor as early as possible in grub_main.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 06 Mar 2012 18:42:33 +0000

grub2 (1.99-17) unstable; urgency=low

  * efi_disk_cache.patch: Fix incorrect GRUB_DISK_CACHE_BITS (LP: #944347).

 -- Colin Watson <cjwatson@debian.org>  Tue, 06 Mar 2012 17:43:42 +0000

grub2 (1.99-16ubuntu1) precise; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.
  * Use qemu -no-kvm in tests for now to work around LP #947597.
  * Disable cursor as early as possible in grub_main (LP: #861048).

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 06 Mar 2012 14:06:58 +0000

grub2 (1.99-16) unstable; urgency=low

  * Backport from upstream:
    - Build with -fno-asynchronous-unwind-tables to save space (closes:
      #662787).

 -- Colin Watson <cjwatson@debian.org>  Tue, 06 Mar 2012 12:45:42 +0000

grub2 (1.99-15) unstable; urgency=low

  [ Adam Conrad ]
  * grub.cfg_400.patch: Redirect grep stdout to /dev/null since
    grub-mkconfig is "exec > grub.cfg.new", which causes grep's input
    and output to be the same FD (LP: #934269) (closes: #652972)
  * efi_disk_cache.patch: Bump the disk cache on EFI systems to
    dramatically reduce load times for vmlinux/initrd (LP: #944347)

  [ Colin Watson ]
  * no_libzfs.patch: Use xasprintf rather than asprintf.
  * Backport from upstream:
    - Rewrite XFS btree parsing; fixes invalid BMAP (closes: #657776).
    - Handle newer autotools, and add some missing quotes in the process.
      (Note that this moves grub-mkconfig_lib and update-grub_lib to
      /usr/share/grub; I added links in /usr/lib/grub for compatibility.)
    - Fix incorrect identifiers in bash-completion (closes: #661415).
    - Add support for GRUB_CMDLINE_GNUMACH (closes: #660493).
  * Build with GCC 4.6 (closes: #654727).

  [ Debconf translations ]
  * Dutch (Jeroen Schot).  Closes: #651275
  * Bulgarian (Damyan Ivanov).  Closes: #653356
  * Icelandic (Sveinn í Felli). 
  * Ukrainian (Yatsenko Alexandr).  Closes: #654294
  * Italian (Luca Monducci).  Closes: #654304
  * Thai (Theppitak Karoonboonyanan).  Closes: #656551
  * Uyghur (Abduqadir Abliz)
  * Indonesian (Mahyuddin Susanto).  Closes: #656705
  * Hebrew (Omer Zak).  Closes: #656852
  * Turkish (Atila KOÇ).  Closes: #656907
  * Polish (Michał Kułach).  Closes: #657265
  * Asturian (Mikel González).
  * Dzongkha (Dawa Pemo)
  * Tamil (Dr.T.Vasudevan). 
  * Belarusian (Viktar Siarhiejczyk).  Closes: #662615

 -- Colin Watson <cjwatson@debian.org>  Mon, 05 Mar 2012 16:58:01 +0000

grub2 (1.99-14ubuntu2) precise; urgency=low

  * no_libzfs.patch: Use xasprintf rather than asprintf.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 28 Nov 2011 01:37:30 +0000

grub2 (1.99-14ubuntu1) precise; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - In recovery mode, add nomodeset to the Linux kernel arguments, and
      remove the 'set gfxpayload=keep' command.
    - Skip Windows os-prober entries on Wubi systems, and suppress the menu
      by default if those are the only other-OS entries.
    - Handle probing striped DM-RAID devices.
    - Replace 'single' by 'recovery' when friendly-recovery is installed.

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 27 Nov 2011 17:20:49 +0000

grub2 (1.99-14) unstable; urgency=low

  * Rewrite no_libzfs.patch using a different approach.  (Closes: #648539)

 -- Robert Millan <rmh@debian.org>  Sun, 13 Nov 2011 00:14:38 +0100

grub2 (1.99-13) unstable; urgency=low

  [ Debconf translations ]
  * Portuguese (Miguel Figueiredo).  Closes: #641226
  * German (Martin Eberhard Schauer).  Closes: #641630
  * Sinhala (Danishka Navin).  Closes: #644080
  * Uyghur (Gheyret Tohti).  Closes: #627011

  [ Robert Millan ]
  * LVM support for GNU/kFreeBSD.
    - kfreebsd_lvm.patch
  * Cherry-pick several ZFS updates from upstream Bazaar.
    - zfs_update.patch
  * Build without libzfs.

 -- Robert Millan <rmh@debian.org>  Fri, 11 Nov 2011 23:04:58 +0100

grub2 (1.99-12ubuntu5) oneiric; urgency=low

  * Never use 'set gfxpayload=keep' in recovery mode (LP: #854967).

 -- Colin Watson <cjwatson@ubuntu.com>  Sat, 01 Oct 2011 10:30:39 +0100

grub2 (1.99-12ubuntu4) oneiric; urgency=low

  * Add ubuntu_recovery_nosingle.patch:
    - Replace "single" by "recovery" to trigger friendly-recovery (LP: #575469)
  * Mark grub-common as breaking friendly-recovery << 0.2.13

 -- Stéphane Graber <stgraber@ubuntu.com>  Thu, 15 Sep 2011 16:05:14 -0400

grub2 (1.99-12ubuntu3) oneiric; urgency=low

  * Add a GRUB_MOD_LICENSE declaration to hwmatch (LP: #850202).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 15 Sep 2011 16:18:15 +0100

grub2 (1.99-12ubuntu2) oneiric; urgency=low

  * Handle probing striped DM-RAID devices (thanks, Robert Collins;
    LP: #803658).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 14 Sep 2011 13:10:54 +0100

grub2 (1.99-12ubuntu1) oneiric; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - Add nomodeset to Linux kernel arguments in recovery mode.
    - Skip Windows os-prober entries on Wubi systems.
  * Suppress the menu by default on Wubi systems with no other-OS entries
    apart from Windows (LP: #826378).
  * Always store hostdisk drive names in canonical form, fixing 'grub-probe
    --target=drive' output when device.map is absent (LP: #820500).

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 05 Sep 2011 16:12:50 +0100

grub2 (1.99-12) unstable; urgency=low

  [ Robert Millan ]
  * Fix grub-probe detection for LSI MegaRAID SAS devices on kFreeBSD.
    - kfreebsd_mfi_devices.patch

  [ Colin Watson ]
  * Backport from upstream:
    - Canonicalise the path argument to grub-probe (closes: #637768).
    - Skip */README* as well as README* (LP: #537123).

 -- Colin Watson <cjwatson@debian.org>  Mon, 05 Sep 2011 15:17:20 +0100

grub2 (1.99-11ubuntu1) oneiric; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - Add nomodeset to Linux kernel arguments in recovery mode.
    - Skip Windows os-prober entries on Wubi systems.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 09 Aug 2011 13:13:26 +0100

grub2 (1.99-11) unstable; urgency=low

  * Backport from upstream:
    - Honour GRUB_CMDLINE_LINUX_XEN_REPLACE and
      GRUB_CMDLINE_LINUX_XEN_REPLACE_DEFAULT, which replace
      GRUB_CMDLINE_LINUX and GRUB_CMDLINE_LINUX_DEFAULT (complementing the
      existing options which append; closes: #617538).

 -- Colin Watson <cjwatson@debian.org>  Mon, 08 Aug 2011 17:55:21 +0100

grub2 (1.99-10) unstable; urgency=high

  * Mark la_array as packed.
    - zfs_packed_la_array.patch

 -- Robert Millan <rmh@debian.org>  Sun, 07 Aug 2011 20:16:31 +0000

grub2 (1.99-9) unstable; urgency=low

  [ Colin Watson ]
  * Adjust apport hook to attach /boot/grub/device.map if it exists.
  * Fix regression in gfxterm background_color handling.
  * Improve detection of invalid shell syntax in apport hook.

  [ Debconf translations ]
  * Esperanto (Felipe E. F. de Castro).  Closes: #632157
  * Slovak (Slavko).

  [ Robert Millan ]
  * Enable grub-mount on kfreebsd-any.
  * Build grub-mount-udeb on kfreebsd-i386 and kfreebsd-amd64.

 -- Robert Millan <rmh@debian.org>  Mon, 25 Jul 2011 15:36:31 +0200

grub2 (1.99-8ubuntu1) oneiric; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - Add nomodeset to Linux kernel arguments in recovery mode.
  * Skip Windows os-prober entries on Wubi systems.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 21 Jun 2011 13:25:48 +0100

grub2 (1.99-8) unstable; urgency=low

  [ Robert Millan ]
  * Avoid buggy versions of libgeom-dev (see #630107).  Closes: #630197
  * Fix grub-probe detection for ATA devices using `ata' driver on kFreeBSD 9.
    - kfreebsd-9_ada_devices.patch

  [ Colin Watson ]
  * Update ntldr-img from grub-extras:
    - Handle ext3 inode sizes other than 128.

  [ Debconf translations ]
  * Kazakh (Baurzhan Muftakhidinov). Closes: #630915

 -- Colin Watson <cjwatson@debian.org>  Tue, 21 Jun 2011 02:10:10 +0100

grub2 (1.99-7ubuntu1) oneiric; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
    - Add nomodeset to Linux kernel arguments in recovery mode.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 16 Jun 2011 01:31:01 +0100

grub2 (1.99-7) unstable; urgency=low

  [ Debconf translations ]
  * Basque (Iñaki Larrañaga Murgoitio).  Closes: #628716
  * Swedish (Martin Bagge / brother).  Closes: #628866
  * Czech (Miroslav Kure).  Closes: #628978
  * Brazilian Portuguese (Flamarion Jorge).  Closes: #629135
  * Spanish (Francisco Javier Cuadrado).  Closes: #629633

  [ Colin Watson ]
  * Cope with btrfs / inside an encrypted block device (thanks, alexeagar;
    LP: #757631).
  * Merge from Ubuntu:
    - Give up scanning partitions after ten consecutive open failures
      (LP: #787461).

 -- Colin Watson <cjwatson@debian.org>  Thu, 16 Jun 2011 00:13:14 +0100

grub2 (1.99-6) unstable; urgency=low

  [ Colin Watson ]
  * Update Vcs-* fields for Alioth changes.
  * Backport from upstream, removing the need for Breaks: udev (<< 168-1):
    - Don't stat devices unless we have to.

  [ Debconf translations ]
  * Catalan (Jordi Mallach).
  * Farsi (Behrad Eslamifar).  Closes: #628648

 -- Colin Watson <cjwatson@debian.org>  Tue, 31 May 2011 09:20:54 +0100

grub2 (1.99-5) unstable; urgency=low

  [ Colin Watson ]
  * Change grub2/linux_cmdline and grub2/kfreebsd_cmdline descriptions to
    indicate that the command line is allowed to be empty, since this is a
    common source of confusion (thanks, Jordan Uggla).
  * On non-Ubuntu-derived systems, add Breaks: udev (<< 168-1) to
    grub-common, for the sake of (some?) users without initrds (closes:
    #627587).

  [ Debconf translations ]
  * French (Christian Perrier)
  * Russian (Yuri Kozlov).  Closes: #628196
  * Simplified Chinese (YunQiang Su).  Closes: #628210
  * Japanese (Hideki Yamane).  Closes: #628382
  * Danish (Joe Hansen).  Closes: #628427

 -- Colin Watson <cjwatson@debian.org>  Sun, 29 May 2011 21:58:55 +0100

grub2 (1.99-4ubuntu2) oneiric; urgency=low

  * Give up scanning partitions after ten consecutive open failures
    (LP: #787461).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 27 May 2011 14:07:30 +0100

grub2 (1.99-4ubuntu1) oneiric; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
  * Add nomodeset to Linux kernel arguments in recovery mode, by request of
    the X team.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 23 May 2011 13:55:34 +0100

grub2 (1.99-4) unstable; urgency=low

  * Make grub-<platform>-bin packages depend on grub-common rather than
    grub2-common, and add grub2-common dependencies to grub-<platform>.
    This ensures that grub-<platform>-bin packages are coinstallable with
    grub-legacy, making it easier to use them as build-dependencies.
  * Stop trying to install the non-existent grub-ofpathname(8) on sparc for
    now.  It will exist in the next upstream snapshot.

 -- Colin Watson <cjwatson@debian.org>  Thu, 19 May 2011 12:38:45 +0100

grub2 (1.99-3) unstable; urgency=low

  * Ship grub-mkrescue on non-Linux amd64/i386 architectures.
  * Don't try to ship grub-mkrescue on sparc.
  * Drop boot_blocklist_hack.patch, fixed differently upstream some time ago
    by being smarter about filesystem-root-relative path conversion.

 -- Colin Watson <cjwatson@debian.org>  Wed, 18 May 2011 14:06:51 +0100

grub2 (1.99-2ubuntu1) oneiric; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an appropriate background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Update default/grub.md5sum to include maverick's default md5sum.
  * Drop grub-rescue-efi-amd64, superseded by grub-efi-amd64-bin.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 17 May 2011 23:59:10 +0100

grub2 (1.99-2) unstable; urgency=low

  * Include both old and new Lintian override styles for
    statically-linked-binary tag, since ftp-master has not yet been updated
    to 2.5.0~rc1.

 -- Colin Watson <cjwatson@debian.org>  Tue, 17 May 2011 01:36:10 +0100

grub2 (1.99-1) unstable; urgency=low

  * New upstream release.
    - Ensure uniqueness of RAID array numbers even if some elements have a
      name (closes: #609804).
    - Remove unnecessary brackets from tr arguments (closes: #612564).
    - Add grub-mkrescue info documentation (closes: #612585).
    - Avoid generating invalid configuration when something that looks like
      a Xen hypervisor is present without any Xen kernels (closes: #612898).
    - Fix memory alignment when calling 'linux' multiple times on EFI
      (closes: #616638).
    - Fix grub-install on amd64 EFI systems (closes: #617388).
    - Automatically export pager variable (closes: #612995).
    - Fix parser error with "time" (closes: #612991).
    - Ignore case of bitmap extensions (closes: #611123).
    - Skip vmlinux-* on x86 platforms (closes: #536846, #546008).
    - Accept old-style Xen kernels (closes: #610428).
    - Skip damaged LVM volumes (closes: #544731).
    - Handle LVM mirroring (closes: #598441).
    - Detect spares and report them as not RAID members (closes: #611561).
    - Don't enable localisation unless gfxterm is available (closes:
      #604609).
    - Fix partitioned RAID support (closes: #595071, #613444).
    - Dynamically count the number of lines for the lower banner (closes:
      #606494).
    - Improve quoting in grub-mkconfig, to support background image file
      names containing spaces (closes: #612417).
    - Flush BIOS disk devices more accurately (closes: #623124).
    - Identify RAID devices by their UUID rather than by their guessed name
      (closes: #624232).
    - Add "SEE ALSO" sections to most man pages (closes: #551428).

  [ Christian Perrier ]
  * Drop extra word in French debconf translation. Thanks to David
    Prévôt.
  * Fix spelling error in French debconf translation. Thanks to David
    Prévôt.

  [ Colin Watson ]
  * Set PACKAGE_VERSION and PACKAGE_STRING using configure arguments rather
    than sedding configure.ac in debian/rules (which sometimes has annoying
    interactions with quilt, etc.).
  * Update branch_embed-sectors.patch:
    - Detect sector used by HighPoint RAID controller (closes: #394868).
  * Add debian/README.source (from quilt).
  * Make debian/rules more explicit about when autogen.sh is run.  We need
    to be careful that all full builds run it, since we use GRUB extras.
  * Merge from Ubuntu:
    - Handle filesystems loop-mounted on file images.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Add grub-mount-udeb, containing just grub-mount.  This can be used by
      os-prober and other parts of d-i.
    - Artificially bump Replaces: grub-common versioning to account for
      grub-reboot/grub-set-default movement in Ubuntu.
  * Don't do a separate build pass for grub-common.  It will be identical to
    the build for the default platform for the CPU architecture anyway, so
    reuse that.
  * Build with GCC 4.5 on all architectures.
  * Update Lintian overrides for changes in Lintian 2.5.0~rc1.
  * Invert how files are split among binary packages: rather than code in
    debian/rules to remove files we don't want, add dh_install configuration
    to declare the files we do want.  This means a little more repetition
    for platform-specific programs, but it seems less confusing and easier
    to extend.
  * Drop versioned dependencies on base-files.  GPL-3 has been there for two
    Debian releases now, and the dependency was never upgrade-critical
    anyway.
  * Create grub2-common package containing files that are common among GRUB
    platform packages but that would break GRUB Legacy, or that are too
    confusing when coinstalled with GRUB Legacy (closes: #564167).
  * Drop conflict on an ancient (pre-lenny/hardy) version of desktop-base.
  * Move /etc/grub.d/05_debian_theme to grub-common, to go with the other
    /etc/grub.d/* files.
  * Drop redundant Suggests: os-prober from several platform packages, as
    grub-common already Recommends: os-prober.
  * Create grub-<platform>-bin packages corresponding to all grub-<platform>
    packages (except for grub-emu).  These do not automatically install the
    boot loader or update grub.cfg, and they install their binaries to
    /usr/lib/grub/<cpu>-<platform>/; this means that they can be installed
    in parallel, making it easier to use them to build GRUB-based disk
    images (e.g. d-i).  The grub-<platform> packages now depend on these and
    include symlinks, so their behaviour will remain as before.
  * Make grub-emu depend on grub-common.
  * Make the documentation directory in most binary packages be a symlink to
    that in grub-common.
  * Drop lenny compatibility from grub2-common's dpkg/install-info
    dependency, since it produces a Lintian warning and using the current
    packaging on lenny is probably rather a stretch anyway.

  [ Updated translations ]
  * Belarusian (Viktar Siarheichyk).  Closes: #606864
  * Danish (Joe Hansen).  Closes: #606879
  * Romanian (Andrei POPESCU).  Closes: #606888
  * Italian (Luca Monducci).  Closes: #606891
  * Brazilian Portuguese (Flamarion Jorge).  Closes: #610613
  * Greek (Emmanuel Galatoulas).  Closes: #604847

 -- Colin Watson <cjwatson@debian.org>  Mon, 16 May 2011 17:42:07 +0100

grub2 (1.99~rc1-13ubuntu3) natty; urgency=low

  * Cherry-pick from upstream:
    - Fix grub-install on amd64 EFI systems.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 21 Apr 2011 12:16:55 +0100

grub2 (1.99~rc1-13ubuntu2) natty; urgency=low

  [ Stéphane Graber ]
  * Update default/grub.md5sum to include maverick's default md5sum to avoid
    prompt during update (LP: #759545).

  [ Colin Watson ]
  * Cherry-pick from upstream:
    - Support huge btrfs chunks.
    - Fix stack pointer handling in 16-bit relocator (LP: #683904).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 21 Apr 2011 00:11:40 +0100

grub2 (1.99~rc1-13ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, just update wubildr rather than asking for an install device.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Add grub-mount-udeb, containing just grub-mount.
  * Use /lib/plymouth/themes/default.grub if it exists, rather than
    hardcoding an aubergine background (LP: #696915).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 15 Apr 2011 14:37:43 +0100

grub2 (1.99~rc1-13) unstable; urgency=low

  * Cherry-pick from upstream:
    - Use correct limits for mips initrd.
  * Run grub-install on install or upgrade of grub-yeeloong.
  * Update branch_fuse.patch:
    - Tell FUSE to run single-threaded, since GRUB code is not thread-safe
      (LP: #756297).

 -- Colin Watson <cjwatson@debian.org>  Fri, 15 Apr 2011 12:11:21 +0100

grub2 (1.99~rc1-12ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, just update wubildr rather than asking for an install device.
    - Check hardware support before using gfxpayload=keep.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Add grub-mount-udeb, containing just grub-mount.
  * Default to gfxpayload=keep if gfxblacklist.txt is missing (LP: #757603).
  * Depend on grub-gfxpayload-lists on i386 and amd64.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 11 Apr 2011 17:39:23 +0100

grub2 (1.99~rc1-12) unstable; urgency=low

  * Update branch_butter.patch:
    - Fix filename comparison.
    - Take extent offset in account on uncompressed extents.
    - Use filled extent size if available.
  * Allow use of first sector on btrfs (LP: #757446).
  * Merge from Ubuntu:
    - Build part_msdos and vfat into EFI boot images (LP: #677758).

 -- Colin Watson <cjwatson@debian.org>  Mon, 11 Apr 2011 16:22:08 +0100

grub2 (1.99~rc1-11ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Add grub-mount-udeb, containing just grub-mount.

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 10 Apr 2011 23:31:06 +0100

grub2 (1.99~rc1-11) unstable; urgency=low

  * Update branch_fuse.patch:
    - Make grub-mount exit non-zero if opening the device or filesystem
      fails.
    - Translate GRUB error codes into OS error codes for FUSE (LP: #756456).
  * Merge from Ubuntu:
    - Fix use of freed memory when replacing existing loopback device
      (LP: #742967).

 -- Colin Watson <cjwatson@debian.org>  Sun, 10 Apr 2011 21:52:26 +0100

grub2 (1.99~rc1-10ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Fix use of freed memory when replacing existing loopback device.
    - Add grub-mount-udeb, containing just grub-mount.

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 10 Apr 2011 00:12:09 +0100

grub2 (1.99~rc1-10) unstable; urgency=low

  * Update branch_butter.patch, fixing RAID1/duplicated chunk size
    calculation (thanks, Vladimir Serbinenko; LP: #732149).

 -- Colin Watson <cjwatson@debian.org>  Sat, 09 Apr 2011 21:22:15 +0100

grub2 (1.99~rc1-9ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Fix use of freed memory when replacing existing loopback device.
  * Add grub-mount-udeb, containing just grub-mount.  This can be used by
    os-prober and other parts of d-i.

 -- Colin Watson <cjwatson@ubuntu.com>  Sat, 09 Apr 2011 11:33:02 +0100

grub2 (1.99~rc1-9) unstable; urgency=low

  * Update branch_parse-color.patch, to blend text when any background is
    set as opposed to only when a stretched background is set (closes:
    #613120).
  * Make update-grub2 a symlink to update-grub, rather than bothering with a
    wrapper script.
  * Cherry-pick from upstream:
    - Check RAID superblock offset (closes: #610184).
    - Flush buffer cache on close and not on open (closes: #620663).
    - Handle special naming of yeeloong directory (closes: #620420).
  * Add grub-mount utility, from the upstream 'fuse' branch.
  * efibootmgr is only available on Linux architectures, so only make
    grub-efi-ia32 and grub-efi-amd64 depend on it on Linux.

 -- Colin Watson <cjwatson@debian.org>  Sat, 09 Apr 2011 03:39:56 +0100

grub2 (1.99~rc1-8ubuntu2) natty; urgency=low

  * Make sure to reinstall GRUB on upgrade if Wubi is in use (LP: #742967).

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 05 Apr 2011 19:30:09 +0100

grub2 (1.99~rc1-8ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
  * Drop patch to use qemu rather than qemu-system-i386, now that qemu-kvm
    ships a symlink.
  * Rewrite hwmatch.lua in C.  Drop lua grub-extras module.
  * Update ubuntu_vbe_autodetect.patch, bringing GRUB_GFXMODE documentation
    up to date.
  * Fix use of freed memory when replacing existing loopback device
    (LP: #742967).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 01 Apr 2011 17:35:59 +0100

grub2 (1.99~rc1-8) unstable; urgency=low

  * Cherry-pick from upstream:
    - Fix FreeBSD compilation problem.

 -- Colin Watson <cjwatson@debian.org>  Tue, 29 Mar 2011 15:13:51 +0100

grub2 (1.99~rc1-7) unstable; urgency=low

  * Add /proc/mdstat, LVM information, and listings of /dev/disk/by-id/ and
    /dev/disk/by-uuid/ to bug reports, by request of upstream.
  * Cherry-pick from upstream:
    - Use libgeom on FreeBSD to detect partitions (closes: #612128).
    - Copy the partition table zone if floppy support is disabled, even if
      no partition table is found (LP: #741867).
    - Fix an ext2 overflow affecting inodes past 2TiB.
    - Fix RAID-0 disk size calculation for metadata 1.x (LP: #743136).
  * Merge from Ubuntu:
    - Build with gcc-4.5 on ppc64.
    - Add apport hook for ProblemType = 'Package', thanks to Jean-Baptiste
      Lallement (LP: #591753).

 -- Colin Watson <cjwatson@debian.org>  Tue, 29 Mar 2011 12:30:36 +0100

grub2 (1.99~rc1-6ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Enable lua from grub-extras.
    - Incorporate the bitop library into lua.
    - Add enum_pci function to grub module in lua.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Build with gcc-4.5 on ppc64.
    - Add apport hook for ProblemType = 'Package'.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 25 Mar 2011 23:44:33 +0000

grub2 (1.99~rc1-6) unstable; urgency=low

  * Cherry-pick from upstream:
    - Fix crash when extending menu entry line beyond 79 characters (closes:
      #615893).
    - Account for FreeBSD module headers when calculating allocation size.
    - Switch back to framebuffer page zero before loading the kernel
      (thanks, Felix Kuehling).
  * Merge from Ubuntu:
    - If we're upgrading and /boot/grub/core.img doesn't exist, then don't
      ask where to install GRUB, since it probably means we're in some kind
      of specialised environment such as a live USB stick (LP: #591202).
    - Drop the default priority of grub2/linux_cmdline to medium.  We only
      need to ask it if we're upgrading from GRUB Legacy and found an empty
      kopt in menu.lst (LP: #591202).
  * Update branch_embed-sectors.patch, avoiding consuming lots of space and
    time if the first partition is not near the start of the disk (closes:
    #619458, LP: #691569).

 -- Colin Watson <cjwatson@debian.org>  Fri, 25 Mar 2011 19:23:04 +0000

grub2 (1.99~rc1-5ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Enable lua from grub-extras.
    - Incorporate the bitop library into lua.
    - Add enum_pci function to grub module in lua.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Don't ask where to install if upgrading and core.img doesn't exist.
    - Drop the default priority of grub2/linux_cmdline to medium.
    - Build with gcc-4.5 on ppc64.
    - Add apport hook for ProblemType = 'Package'.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 23 Mar 2011 23:51:04 +0000

grub2 (1.99~rc1-5) unstable; urgency=low

  * Update debian/legacy/update-grub to the version from grub 0.97-65.
  * Mark binary packages as Multi-Arch: foreign (for example, an amd64
    kernel installed on an i386 system could use the native architecture's
    GRUB).
  * Rewrite find_root_device_from_mountinfo to cope with move-mounts
    (LP: #738345).

  [ Updated translations ]
  * Esperanto (Felipe Castro).  Closes: #606524
  * Thai (Theppitak Karoonboonyanan).  Closes: #607706

 -- Colin Watson <cjwatson@debian.org>  Wed, 23 Mar 2011 15:51:47 +0000

grub2 (1.99~rc1-4ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Enable lua from grub-extras.
    - Incorporate the bitop library into lua.
    - Add enum_pci function to grub module in lua.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Don't ask where to install if upgrading and core.img doesn't exist.
    - Drop the default priority of grub2/linux_cmdline to medium.
    - Build with gcc-4.5 on ppc64.
    - Add apport hook for ProblemType = 'Package'.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 15 Mar 2011 13:47:34 +0000

grub2 (1.99~rc1-4) unstable; urgency=low

  * Don't touch /boot/grub/grub2-installed if using the --root-directory
    option to grub-install (thanks, Nicolas George; closes: #614927).
  * Update branch_devmapper.patch, adding partitioned MD RAID support
    (untested) and support for probing multipath disks.
  * Update ntldr-img from grub-extras:
    - Only call ntfs_fix_mmft if the attribute to find is AT_DATA.  This
      matches GRUB's NTFS module.
    - Install grubinst as grub-ntldr-img.
  * Fix loading GRUB from lnxboot (LP: #693671).
  * Update branch_embed-sectors.patch to avoid straying into first partition
    when embedding-area sectors are in use (closes: #613409, LP: #730225).

 -- Colin Watson <cjwatson@debian.org>  Tue, 15 Mar 2011 11:01:48 +0000

grub2 (1.99~rc1-3ubuntu5) natty; urgency=low

  * Fix loading GRUB from lnxboot (LP: #693671).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 11 Mar 2011 13:38:53 +0000

grub2 (1.99~rc1-3ubuntu4) natty; urgency=low

  * debian/grub-common.install, debian/apport/source_grub2.py: add
    apport hook for ProblemType = 'Package', thanks to Jean-Baptiste
    Lallement (LP: #591753).

 -- Kees Cook <kees@ubuntu.com>  Thu, 10 Mar 2011 14:52:27 -0800

grub2 (1.99~rc1-3ubuntu3) natty; urgency=low

  * Blacklist 1440x900x32 from VBE preferred mode handling until a better
    solution is available (LP: #701111).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 04 Mar 2011 15:29:44 +0000

grub2 (1.99~rc1-3ubuntu2) natty; urgency=low

  * Build with gcc-4.5 on ppc64.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 21 Feb 2011 17:59:20 +0000

grub2 (1.99~rc1-3ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Enable lua from grub-extras.
    - Incorporate the bitop library into lua.
    - Add enum_pci function to grub module in lua.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Don't ask where to install if upgrading and core.img doesn't exist.
    - Drop the default priority of grub2/linux_cmdline to medium.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 21 Feb 2011 16:46:49 +0000

grub2 (1.99~rc1-3) unstable; urgency=low

  * Build for ppc64 (except for grub-emu, which doesn't build cleanly yet).
  * Suppress output from debconf-communicate in upgrade-from-grub-legacy.
  * Refer to the info documentation at the top of /etc/default/grub (closes:
    #612538).
  * We need at least freebsd-utils (>= 8.0-4) on kFreeBSD architectures for
    camcontrol, so depend on it.
  * Tolerate camcontrol failing to read capacity of IDE devices, until such
    time as we know how to do this properly (see #612128).
  * Adjust /etc/default/grub for rename of GRUB_DISABLE_LINUX_RECOVERY to
    GRUB_DISABLE_RECOVERY (closes: #612777).
  * Update ntldr-img from grub-extras:
    - Install g2hdr.bin and g2ldr.mbr (closes: #613245).

 -- Colin Watson <cjwatson@debian.org>  Wed, 16 Feb 2011 13:11:11 +0000

grub2 (1.99~rc1-2ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Enable lua from grub-extras.
    - Incorporate the bitop library into lua.
    - Add enum_pci function to grub module in lua.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
    - Don't ask where to install if upgrading and core.img doesn't exist.
    - Drop the default priority of grub2/linux_cmdline to medium.
  * Fix quoting glitch in ubuntu_gfxpayload_filter.patch.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 08 Feb 2011 12:42:13 +0000

grub2 (1.99~rc1-2) unstable; urgency=low

  * Merge 1.98+20100804-13 and 1.98+20100804-14, updating translations:
    - Kazakh (Baurzhan Muftakhidinov / Timur Birsh).
  * mkconfig_skip_dmcrypt.patch: Refer to GRUB_PRELOAD_MODULES rather than
    suggesting people write a /etc/grub.d/01_modules script (thanks, Jordan
    Uggla).
  * Handle empty dir passed to grub_find_root_device_from_mountinfo; fixes
    grub-mkrelpath on btrfs subvolumes (LP: #712029).
  * Add rootflags=subvol=<name> if / is on a btrfs subvolume (LP: #712029).
  * Upload to unstable.

 -- Colin Watson <cjwatson@debian.org>  Tue, 08 Feb 2011 11:39:26 +0000

grub2 (1.99~rc1-1ubuntu2) natty; urgency=low

  * Don't add vt.handoff=7 if splash isn't going to be used (LP: #700686).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 21 Jan 2011 14:43:05 +0000

grub2 (1.99~rc1-1ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Enable lua from grub-extras.
    - Incorporate the bitop library into lua.
    - Add enum_pci function to grub module in lua.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
  * Fix logic error in VBE resolution detection that meant EDID information
    was never used (LP: #693093).
  * Export linux_gfx_mode so that it's usable in submenus (LP: #702594).
  * Restore grub_mkdevicemap and associated options to grub-install, since
    it's needed when doing EFI installs (thanks, Jason Gunthorpe;
    LP: #702707).
  * Don't fail when there are no *.lua files in $pkglibdir (thanks, Jason
    Gunthorpe; LP: #702707).
  * If we're upgrading and /boot/grub/core.img doesn't exist, then don't ask
    where to install GRUB, since it probably means we're in some kind of
    specialised environment such as a live USB stick (LP: #591202).
  * Drop the default priority of grub2/linux_cmdline to medium.  We only
    need to ask it if we're upgrading from GRUB Legacy and found an empty
    kopt in menu.lst (LP: #591202).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 20 Jan 2011 15:02:53 +0000

grub2 (1.99~rc1-1) experimental; urgency=low

  [ Colin Watson ]
  * New upstream release candidate.

  [ Alexander Kurtz ]
  * 05_debian_theme:
    - If we find a background image and no colours were specified, use
      upstream defaults for color_normal and color_highlight rather than
      setting color_normal to black/black.
    - Make the code more readable by replacing code for handling
      alternatives.
    - Make the code for searching for pictures in /boot/grub more readable
      and robust (for example against newlines in the filename).
    - Don't try the other alternatives when $GRUB_BACKGROUND is set; you can
      now add GRUB_BACKGROUND= to /etc/default/grub to force no background
      image (closes: #608263).

 -- Colin Watson <cjwatson@debian.org>  Mon, 17 Jan 2011 13:43:06 +0000

grub2 (1.99~20110112-1ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Enable lua from grub-extras.
    - Incorporate the bitop library into lua.
    - Add enum_pci function to grub module in lua.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 13 Jan 2011 08:58:59 -0600

grub2 (1.99~20110112-1) experimental; urgency=low

  * New Bazaar snapshot.
    - Disable ieee1275_fb on sparc (closes: #560823).
    - Fix pf2 font generation on big-endian platforms (closes: #609818).
  * branch_butter.patch: Resolve the device returned by
    grub_find_root_device_from_mountinfo or find_root_device_from_libzfs
    using grub_find_device (closes: #609590, #609814, LP: #700147).

 -- Colin Watson <cjwatson@debian.org>  Thu, 13 Jan 2011 00:12:41 +0000

grub2 (1.99~20110111-1ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Enable lua from grub-extras.
    - Incorporate the bitop library into lua.
    - Add enum_pci function to grub module in lua.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 11 Jan 2011 16:39:18 -0600

grub2 (1.99~20110111-1) experimental; urgency=low

  * New Bazaar snapshot.
    - Don't check amount of low memory, as reportedly INT 12h can be broken
      and if low memory is too low we wouldn't have gotten into
      grub_machine_init anyway (closes: #588293, LP: #513528).
    - Submenu default support (LP: #691878).
    - Fix optimisation-dependent grub-mklayout crash (closes: #609584).
  * branch_butter.patch: Don't free an uninitialised pointer if /proc is
    unmounted (LP: #697493).
  * Add a po/LINGUAS file listing the translations we've synced from the TP
    (closes: #609671).

 -- Colin Watson <cjwatson@debian.org>  Tue, 11 Jan 2011 17:11:44 +0000

grub2 (1.99~20110106-1ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Program vesafb on BIOS systems rather than efifb.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Enable lua from grub-extras.
    - Incorporate the bitop library into lua.
    - Add enum_pci function to grub module in lua.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 07 Jan 2011 14:04:23 +0000

grub2 (1.99~20110106-1) experimental; urgency=low

  * New Bazaar snapshot.
    - Check that named RAID array devices exist before using them (closes:
      #606035).
    - Clear terminfo output on initialisation (closes: #569678).
    - Fix grub-probe when btrfs is on / without a separate /boot.

 -- Colin Watson <cjwatson@debian.org>  Thu, 06 Jan 2011 13:38:57 +0000

grub2 (1.99~20110104-2ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel option.
    - Bypass menu unless other OSes are installed or Shift is pressed.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Reduce visual clutter in normal mode.
    - Remove verbose messages printed before reading configuration.
    - Suppress kernel/initrd progress messages, except in recovery mode.
    - Handle filesystems loop-mounted on file images.
    - Ignore devices loop-mounted from files in Linux grub.d scripts.
    - Show the boot menu if the previous boot failed.
    - Don't generate device.map during grub-install or grub-mkconfig.
    - Adjust upgrade version checks for Ubuntu.
    - Suppress "GRUB loading" message unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack first.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Program vesafb on BIOS systems rather than efifb.
    - Add a grub-rescue-efi-amd64 package.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - Enable lua from grub-extras.
    - Incorporate the bitop library into lua.
    - Add enum_pci function to grub module in lua.
    - Check hardware support before using gfxpayload=keep.
    - Build part_msdos and vfat into EFI boot images.
    - Put second and subsequent Linux menu entries in a submenu.
    - Preferred resolution detection for VBE.
    - Set vt.handoff=7 for smooth handoff to kernel graphical mode.
  * Update Ubuntu patch tags to DEP-3.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 05 Jan 2011 17:28:55 +0000

grub2 (1.99~20110104-2) experimental; urgency=low

  * Support long command lines as per the 2.06 Linux boot protocol, from the
    upstream 'longlinuxcmd' branch.
  * Add a background_color command, from the upstream 'parse-color' branch.
  * Update branch_devmapper.patch, adding a #include to fix a build failure
    on Ubuntu amd64.
  * When embedding the core image in a post-MBR gap, check for and avoid
    sectors matching any of a number of known signatures, from the upstream
    'embed-sectors' branch.

 -- Colin Watson <cjwatson@debian.org>  Wed, 05 Jan 2011 13:31:05 +0000

grub2 (1.99~20110104-1ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Program vesafb on BIOS systems rather than efifb.
    - Add a grub-rescue-efi-amd64 package containing a rescue CD-ROM image
      for EFI-AMD64.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - When embedding the core image in a post-MBR gap, check for and avoid
      sectors matching any of a list of known signatures.
    - Put second and subsequent Linux menu entries in a submenu.
    - Add a background_color command.
    - Add preferred resolution detection for VBE.  GRUB_GFXMODE now defaults
      to "auto".
    - Set vt.handoff=7 for as smooth a handoff as possible to kernel
      graphical mode.
  * Drop patch to disable video_bochs and video_cirrus on PC BIOS systems;
    PCI probing should be fixed now.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 04 Jan 2011 18:42:36 +0000

grub2 (1.99~20110104-1) experimental; urgency=low

  * New Bazaar snapshot.
    - Don't emit drivemap directive for Windows Server 2008 (closes:
      #607687).
    - Don't add spurious RAID array members (closes: #605357).
    - Improve presentation of Xen menu entries (closes: #607867).
    - Fix PCI probing hangs by skipping remaining functions on devices that
      do not implement function 0 (closes: #594967).
    - Fix typo in descriptions of extract_legacy_entries_source and
      extract_legacy_entries_configfile (LP: #696721).
  * Merge 1.98+20100804-12:
    - Use semicolons rather than commas to separate size from model in
      debconf disk and partition descriptions.
  * Add full btrfs support, from the upstream 'butter' branch.
  * Support partitioned loop devices and improve devmapper support, from the
    upstream 'devmapper' branch.
  * Add squashfs 4 support, from the upstream 'squash' branch.

 -- Colin Watson <cjwatson@debian.org>  Tue, 04 Jan 2011 16:12:45 +0000

grub2 (1.99~20101221-1ubuntu2) natty; urgency=low

  * Refresh Ubuntu patches so that they actually apply.  Whoops.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 21 Dec 2010 19:43:19 +0000

grub2 (1.99~20101221-1ubuntu1) natty; urgency=low

  * Resynchronise with Debian experimental.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme and an aubergine background for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Program vesafb on BIOS systems rather than efifb.
    - Add a grub-rescue-efi-amd64 package containing a rescue CD-ROM image
      for EFI-AMD64.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - When embedding the core image in a post-MBR gap, check for and avoid
      sectors matching any of a list of known signatures.
    - Disable video_bochs and video_cirrus on PC BIOS systems, as probing
      PCI space seems to break on some systems.
    - Downgrade "ACPI shutdown failed" error to a debug message, since it
      can cause spurious test failures.
    - Put second and subsequent Linux menu entries in a submenu.
    - Add a background_color command.
    - Add preferred resolution detection for VBE.  GRUB_GFXMODE now defaults
      to "auto".
    - Set vt.handoff=7 for as smooth a handoff as possible to kernel
      graphical mode.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 21 Dec 2010 19:17:50 +0000

grub2 (1.99~20101221-1) experimental; urgency=low

  * New Bazaar snapshot.
    - Initialise next pointer when creating multiboot module (closes:
      #605567).
    - Fix gettext quoting to work with bash as /bin/sh, and make echo
      UTF-8-clean so that (at least) Catalan boot messages are displayed
      properly (closes: #605615).
    - Fix use of uninitialised memory in Reed-Solomon recovery code
      (LP: #686705).

 -- Colin Watson <cjwatson@debian.org>  Tue, 21 Dec 2010 17:43:52 +0000

grub2 (1.99~20101210-2) experimental; urgency=low

  * Automatically remove MD devices from device.map on upgrade, since the
    BIOS cannot read from these and including them in device.map will break
    GRUB's ability to read from such devices (LP: #690030).
  * Merge 1.98+20100804-9, 1.98+20100804-10, and 1.98+20100804-11:
    - Apply debconf template review by debian-l10n-english and mark several
      more strings for translation, thanks to David Prévot and Justin B Rye.
    - Incorporate rewritten 05_debian_theme by Alexander Kurtz, which works
      when /usr is inaccessible by GRUB.

 -- Colin Watson <cjwatson@debian.org>  Sun, 19 Dec 2010 13:25:14 +0000

grub2 (1.99~20101210-1ubuntu2) natty; urgency=low

  * Use /boot/grub/gfxblacklist.txt for gfxpayload=keep blacklisting rather
    than /boot/grub/gfxblacklist.lst, since *.lst files are handled by
    grub-install and this turns out to be inconvenient.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 16 Dec 2010 14:37:30 +0000

grub2 (1.99~20101210-1ubuntu1) natty; urgency=low

  [ Colin Watson ]
  * Resynchronise with Debian experimental.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Program vesafb on BIOS systems rather than efifb.
    - Add a grub-rescue-efi-amd64 package containing a rescue CD-ROM image
      for EFI-AMD64.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - When embedding the core image in a post-MBR gap, check for and avoid
      sectors matching any of a list of known signatures.
    - Disable video_bochs and video_cirrus on PC BIOS systems, as probing
      PCI space seems to break on some systems.
    - Downgrade "ACPI shutdown failed" error to a debug message, since it
      can cause spurious test failures.
    - Put second and subsequent Linux menu entries in a submenu.
  * Add a background_color command.
  * Disable lua enum_pci on ieee1275 platforms, where <grub/cpu/pci.h> isn't
    available.
  * Add preferred resolution detection for VBE.  GRUB_GFXMODE now defaults
    to "auto".
  * Set an aubergine background, and set vt.handoff=7 for as smooth a
    handoff as possible to kernel graphical mode (LP: #386047).

  [ Mario Limonciello ]
  * grub-mkrescue efi amd64 images:
    When searching for .disk/info, set the 'root' parameter as the regular
    search requires the variable being set as an argument.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 15 Dec 2010 13:54:16 +0000

grub2 (1.99~20101210-1) experimental; urgency=low

  * New Bazaar snapshot.
    - ZFS moved into grub-core.
    - Extend gettext to fall back from ll_CC to ll, and set lang to include
      country part by default so that Chinese works (LP: #686788).
  * Remove grub-mknetdir from grub-emu.
  * Exit silently from zz-update-grub kernel hook if update-grub does not
    exist (e.g. if grub-pc has been removed but not purged; closes:
    #606184).

 -- Colin Watson <cjwatson@debian.org>  Sat, 11 Dec 2010 01:22:26 +0000

grub2 (1.99~20101126-1ubuntu3) natty; urgency=low

  * Remove grub-mknetdir from grub-emu (LP: #683130).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 03 Dec 2010 12:33:19 +0000

grub2 (1.99~20101126-1ubuntu2) natty; urgency=low

  * Simplify the auto-generated menu entries for Linux to avoid using
    syntax not supported by older GRUB releases.

 -- Evan Broder <evan@ebroder.net>  Tue, 30 Nov 2010 03:08:36 +0000

grub2 (1.99~20101126-1ubuntu1) natty; urgency=low

  * Resynchronise with Debian experimental.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Program vesafb on BIOS systems rather than efifb.
    - Add a grub-rescue-efi-amd64 package containing a rescue CD-ROM image
      for EFI-AMD64.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - When embedding the core image in a post-MBR gap, check for and avoid
      sectors matching any of a list of known signatures.
    - Disable video_bochs and video_cirrus on PC BIOS systems, as probing
      PCI space seems to break on some systems.
    - Downgrade "ACPI shutdown failed" error to a debug message, since it
      can cause spurious test failures.
  * Put second and subsequent Linux menu entries in a submenu (LP: #540452).
  * Don't check the device abstraction before probing all devices, and
    restore the normal reinitialisation of LVM and RAID in grub-probe; this
    broke RAID probing when a device map exists (LP: #681535).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 26 Nov 2010 14:34:13 +0000

grub2 (1.99~20101126-1) experimental; urgency=low

  * New Bazaar snapshot (mipsel build fix, LVM-on-RAID probing fix).
  * Fix comma-separation in handling of grub-pc/install_devices.

 -- Colin Watson <cjwatson@debian.org>  Fri, 26 Nov 2010 13:08:52 +0000

grub2 (1.99~20101124-1ubuntu1) natty; urgency=low

  [ Colin Watson ]
  * Resynchronise with Debian experimental.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Program vesafb on BIOS systems rather than efifb.
    - Add a grub-rescue-efi-amd64 package containing a rescue CD-ROM image
      for EFI-AMD64.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - When embedding the core image in a post-MBR gap, check for and avoid
      sectors matching any of a list of known signatures.
    - Disable video_bochs and video_cirrus on PC BIOS systems, as probing
      PCI space seems to break on some systems.
  * Downgrade "ACPI shutdown failed" error to a debug message, since it can
    cause spurious test failures.

  [ Evan Broder ]
  * Enable lua from grub-extras.
  * Incorporate the bitop library into lua.
  * Add enum_pci function to grub module in lua.
  * Switch back to gfxpayload=keep by default, unless the video hardware
    is known to not support it.

  [ Mario Limonciello ]
  * Built part_msdos and vfat into bootx64.efi (LP: #677758)

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 24 Nov 2010 13:59:55 +0000

grub2 (1.99~20101124-1) experimental; urgency=low

  * New Bazaar snapshot (command priorities, build fixes, grub-mkdevicemap
    segfault).
  * Don't try to build grub-efi-amd64 on kfreebsd-i386 or hurd-i386
    (requires gcc-4.4-multilib).

 -- Colin Watson <cjwatson@debian.org>  Wed, 24 Nov 2010 12:12:33 +0000

grub2 (1.99~20101123-1) experimental; urgency=low

  * New Bazaar snapshot (build fixes).
  * Build-depend on qemu-utils and parted on non-Hurd architectures.
  * qemu_img_exists.patch: Skip partmap test if qemu-img doesn't exist (as
    is the case on the Hurd).
  * Make grub-efi-ia32 and grub-efi-amd64 depend on efibootmgr so that
    grub-install works properly.
  * Upgrade the installed core image when upgrading grub-efi-ia32 or
    grub-efi-amd64, although only if /boot/efi/EFI/<id> (where <id> is an
    identifier based on GRUB_DISTRIBUTOR, e.g. 'debian') already exists.
  * Re-expand a couple of dpkg architecture wildcards to exclude certain
    special cases: gcc-4.4-multilib is not available on kfreebsd-i386 or
    hurd-i386, and qemu-system is not available on hurd-i386.

 -- Colin Watson <cjwatson@debian.org>  Tue, 23 Nov 2010 10:51:23 +0000

grub2 (1.99~20101122-1) experimental; urgency=low

  [ Colin Watson ]
  * New Bazaar snapshot.  Too many changes to list in full, but some of the
    more user-visible ones are as follows:
    - GRUB script:
      + Function parameters, "break", "continue", "shift", "setparams",
        "return", and "!".
      + "export" command supports multiple variable names.
      + Multi-line quoted strings support.
      + Wildcard expansion.
    - sendkey support.
    - USB hotunplugging and USB serial support.
    - Rename CD-ROM to cd on BIOS.
    - Add new --boot-directory option to grub-install, grub-reboot, and
      grub-set-default; the old --root-directory option is still accepted
      but was often confusing.
    - Basic btrfs detection/UUID support (but no file reading yet).
    - bash-completion for utilities.
    - If a device is listed in device.map, always assume that it is
      BIOS-visible rather than using extra layers such as LVM or RAID.
    - Add grub-mknetdir script (closes: #550658).
    - Remove deprecated "root" command.
    - Handle RAID devices containing virtio components.
    - GRUB Legacy configuration file support (via grub-menulst2cfg).
    - Keyboard layout support (via grub-mklayout and grub-kbdcomp).
    - Check generated grub.cfg for syntax errors before saving.
    - Pause execution for at most ten seconds if any errors are displayed,
      so that the user has a chance to see them.
    - Support submenus.
    - Write embedding zone using Reed-Solomon, so that it's robust against
      being partially overwritten (closes: #550702, #591416, #593347).
    - GRUB_DISABLE_LINUX_RECOVERY and GRUB_DISABLE_NETBSD_RECOVERY merged
      into a single GRUB_DISABLE_RECOVERY variable.
    - Fix loader memory allocation failure (closes: #551627).
    - Don't call savedefault on recovery entries (closes: #589325).
    - Support triple-indirect blocks on ext2 (closes: #543924).
    - Recognise DDF1 fake RAID (closes: #603354).

  [ Robert Millan ]
  * Use dpkg architecture wildcards.

  [ Updated translations ]
  * Slovenian (Vanja Cvelbar).  Closes: #604003
  * Dzongkha (dawa pemo via Tenzin Dendup).  Closes: #604102

 -- Colin Watson <cjwatson@debian.org>  Mon, 22 Nov 2010 12:24:56 +0000

grub2 (1.98+20100804-14) unstable; urgency=low

  [ Updated translations ]
  * Kazakh (Baurzhan Muftakhidinov / Timur Birsh).  Closes: #609187

  [ Alexander Kurtz ]
  * 05_debian_theme:
    - If we find a background image and no colours were specified, use
      upstream defaults for color_normal and color_highlight rather than
      setting color_normal to black/black.
    - Don't try the other alternatives when $GRUB_BACKGROUND is set; you can
      now add GRUB_BACKGROUND= to /etc/default/grub to force no background
      image (closes: #608263).

 -- Colin Watson <cjwatson@debian.org>  Mon, 17 Jan 2011 23:19:38 +0000

grub2 (1.98+20100804-13) unstable; urgency=low

  * Backport from upstream:
    - Don't add spurious RAID array members (closes: #605357).

 -- Colin Watson <cjwatson@debian.org>  Tue, 04 Jan 2011 14:07:14 +0000

grub2 (1.98+20100804-12) unstable; urgency=low

  * Backport from upstream:
    - Support big ext2 files (closes: #543924).
    - Fix gettext quoting to work with bash as /bin/sh, and make echo
      UTF-8-clean so that (at least) Catalan boot messages are displayed
      properly (closes: #605615).
    - Initialise next pointer when creating multiboot module (closes:
      #605567).
    - Fix PCI probing hangs by skipping remaining functions on devices that
      do not implement function 0 (closes: #594967).
  * Use semicolons rather than commas to separate size from model in debconf
    disk and partition descriptions; commas are too easily confused with the
    multiselect choice separator, and in particular make it impossible to
    answer questions properly in the editor frontend (closes: #608449).
    Unfuzzy all translations where possible.

 -- Colin Watson <cjwatson@debian.org>  Tue, 04 Jan 2011 00:42:29 +0000

grub2 (1.98+20100804-11) unstable; urgency=low

  * Exit silently from zz-update-grub kernel hook if update-grub does not
    exist (e.g. if grub-pc has been removed but not purged; closes:
    #606184).
  * Apply debconf template review by debian-l10n-english and mark several
    more strings for translation, thanks to David Prévot and Justin B Rye
    (closes: #605748).
  * Unfuzzy some translations that were not updated in this round (thanks,
    David Prévot; closes: #606921).
  * Incorporate rewritten 05_debian_theme by Alexander Kurtz, which works
    when /usr is inaccessible by GRUB (closes: #605705).
  * Backport from upstream:
    - Recognise DDF1 DM-RAID (closes: #603354).

  [ Updated translations ]
  * Chinese (YunQiang Su).  Closes: #606426
  * Indonesian (Arief S Fitrianto).  Closes: #606431
  * Slovenian (Vanja Cvelbar).  Closes: #606445
  * Swedish (Martin Bagge / brother).  Closes: #606455
  * Ukrainian (Yatsenko Alexandr).  Closes: #606538
  * Basque (Iñaki Larrañaga Murgoitio).  Closes: #606644
  * Slovak (Slavko).  Closes: #606663
  * Catalan (Jordi Mallach).
  * Bulgarian (Damyan Ivanov).  Closes: #606452
  * Persian (Morteza Fakhraee).  Closes: #606672
  * Russian (Yuri Kozlov).  Closes: #606753
  * Dutch (Paul Gevers).  Closes: #606807
  * Japanese (Hideki Yamane).  Closes: #606836
  * French (Christian Perrier).  Closes: #606842
  * Czech (Miroslav Kure).  Closes: #606854
  * Spanish (Francisco Javier Cuadrado).  Closes: #606903
  * Portuguese (Tiago Fernandes / Miguel Figueiredo).  Closes: #606908
  * German (Martin Eberhard Schauer).  Closes: #606896

 -- Colin Watson <cjwatson@debian.org>  Sat, 18 Dec 2010 17:20:09 +0000

grub2 (1.98+20100804-10) unstable; urgency=low

  * fix_crash_condition_in_kfreebsd_loader.patch: Import from upstream.
    Fixes crash condition in case kfreebsd_* commands are used after
    kfreebsd has (gracefully) failed.

 -- Robert Millan <rmh@debian.org>  Tue, 30 Nov 2010 19:40:11 +0100

grub2 (1.98+20100804-9) unstable; urgency=low

  [ Robert Millan ]
  * Import from upstream:
    - refuse_embedingless_cross_disk.patch: Refuse to do a cross-disk
      embeddingless install rather than creating a broken install.
    - fix_grub_install_error_msg.patch: Replace useless recomendation to
      pass --modules with a recomendation to report a bug.
    - message_refresh.patch: Make error messages visible again. (Closes: #605485)

  [ Jordi Mallach ]
  * Update Catalan translation with latest file from the Translation Project.

  [ Updated translations ]
  * Slovenian (Vanja Cvelbar).  Closes: #604003
  * Dzongkha (dawa pemo via Tenzin Dendup).  Closes: #604102

 -- Robert Millan <rmh@debian.org>  Tue, 30 Nov 2010 15:44:02 +0100

grub2 (1.98+20100804-8) unstable; urgency=low

  [ Robert Millan ]
  * increase_disk_limit.patch: Increase SCSI/IDE disk limits to cope with
    Sun Fire X4500.
  * linux_mdraid_1x.patch: Support for Linux MD RAID v1.x.  (Closes: #593652)
  * yeeloong_boot_info.patch: On Yeeloong, pass machine type information
    to Linux.

  [ Updated translations ]
  * Portuguese fixed by Christian Perrier (variable names
    were translated)

 -- Robert Millan <rmh@debian.org>  Fri, 05 Nov 2010 23:43:15 +0100

grub2 (1.98+20100804-7ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Adjust hostdisk id for hard disks, allowing grub-setup to use its
      standard workaround for broken BIOSes.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Extend the EFI version of grub-install to be able to install into an
      EFI System Partition mounted on /boot/efi in a location that complies
      with the EFI specification.
    - Upgrade the installed core image when upgrading grub-efi-ia32 or
      grub-efi-amd64, although only if /boot/efi/EFI/ubuntu already exists.
    - Make grub-efi-ia32 and grub-efi-amd64 depend on efibootmgr so that
      grub-install works properly.
    - Program vesafb on BIOS systems rather than efifb.
    - Add a grub-rescue-efi-amd64 package containing a rescue CD-ROM image
      for EFI-AMD64.
    - Extend EFI initialisation code to understand (,$partition)-style
      prefixes.  If the EFI System Partition is on the same disk as
      /boot/grub, use this rather than allowing GRUB to set the prefix to
      the EFI System Partition by default.
    - Handle partition devices without corresponding disk devices.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - When embedding the core image in a post-MBR gap, check for and avoid
      sectors matching any of a list of known signatures.
    - Disable video_bochs and video_cirrus on PC BIOS systems, as probing
      PCI space seems to break on some systems.

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 24 Oct 2010 20:34:29 +0100

grub2 (1.98+20100804-7) unstable; urgency=low

  [ Robert Millan ]
  * zfs_fix_mkrelpath.patch: Replace with proper fix from upstream Bazaar.
    (Closes: #601087)

  [ Updated translations ]
  * Vietnamese (Clytie Siddall). Closes: #598327
  * Icelandic (Sveinn í Felli).  Closes: #600126

 -- Robert Millan <rmh@debian.org>  Sun, 24 Oct 2010 16:35:37 +0200

grub2 (1.98+20100804-6ubuntu1) natty; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Adjust hostdisk id for hard disks, allowing grub-setup to use its
      standard workaround for broken BIOSes.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Extend the EFI version of grub-install to be able to install into an
      EFI System Partition mounted on /boot/efi in a location that complies
      with the EFI specification.
    - Upgrade the installed core image when upgrading grub-efi-ia32 or
      grub-efi-amd64, although only if /boot/efi/EFI/ubuntu already exists.
    - Make grub-efi-ia32 and grub-efi-amd64 depend on efibootmgr so that
      grub-install works properly.
    - Program vesafb on BIOS systems rather than efifb.
    - Add a grub-rescue-efi-amd64 package containing a rescue CD-ROM image
      for EFI-AMD64.
    - Extend EFI initialisation code to understand (,$partition)-style
      prefixes.  If the EFI System Partition is on the same disk as
      /boot/grub, use this rather than allowing GRUB to set the prefix to
      the EFI System Partition by default.
    - Handle partition devices without corresponding disk devices.
    - On Wubi, don't ask for an install device, but just update wubildr
      using the diverted grub-install.
    - When embedding the core image in a post-MBR gap, check for and avoid
      sectors matching any of a list of known signatures.
    - Disable video_bochs and video_cirrus on PC BIOS systems, as probing
      PCI space seems to break on some systems.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 22 Oct 2010 12:50:13 +0100

grub2 (1.98+20100804-6) unstable; urgency=low

  [ Robert Millan ]
  * zfs_v23.patch: Accept ZFS up to v23 (no changes required).
  * fix_usb_boot.patch: Fix boot on USB devices, for BIOSes that
    expose them as floppies.  (Closes: #600580)
  * zfs_fix_mkrelpath.patch: Fix grub-mkrelpath for non-root ZFS.
    (Closes: #600578)

  [ Updated translations ]
  * Kazakh (kk.po) by Baurzhan Muftakhidinov via Timur Birsh (closes:
    #598188).
  * Portuguese (pt.po) by Tiago Fernandes via Rui Branco (closes: #599767).
  * Catalan (ca.po) by Jordi Mallach.

 -- Robert Millan <rmh@debian.org>  Thu, 21 Oct 2010 23:45:23 +0200

grub2 (1.98+20100804-5ubuntu3) maverick; urgency=low

  * Improve message if too many embedding area sectors need to be avoided
    (thanks, Vladimir Serbinenko).
  * Expand on "sector already in use" message to note that the software in
    question may cause other problems and suggest reporting a bug (thanks,
    Vladimir Serbinenko).
  * Disable video_bochs and video_cirrus on PC BIOS systems, as probing PCI
    space seems to break on some systems (LP: #641259).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 06 Oct 2010 11:55:58 +0100

grub2 (1.98+20100804-5ubuntu2) maverick; urgency=low

  * When embedding the core image in a post-MBR gap, check for and avoid
    sectors matching any of a list of known signatures (mitigates LP
    #441941; more work may be required).

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 27 Sep 2010 18:42:42 +0100

grub2 (1.98+20100804-5ubuntu1) maverick; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Adjust hostdisk id for hard disks, allowing grub-setup to use its
      standard workaround for broken BIOSes.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Extend the EFI version of grub-install to be able to install into an
      EFI System Partition mounted on /boot/efi in a location that complies
      with the EFI specification.
    - Upgrade the installed core image when upgrading grub-efi-ia32 or
      grub-efi-amd64, although only if /boot/efi/EFI/ubuntu already exists.
    - Make grub-efi-ia32 and grub-efi-amd64 depend on efibootmgr so that
      grub-install works properly.
    - Program vesafb on BIOS systems rather than efifb.
    - Add a grub-rescue-efi-amd64 package containing a rescue CD-ROM image
      for EFI-AMD64.
    - Extend EFI initialisation code to understand (,$partition)-style
      prefixes.  If the EFI System Partition is on the same disk as
      /boot/grub, use this rather than allowing GRUB to set the prefix to
      the EFI System Partition by default.
    - Handle partition devices without corresponding disk devices.
  * Extend ubuntu_linux_no_loopmount.patch to ignore devices loop-mounted
    from files in /etc/grub.d/20_linux_xen as well as /etc/grub.d/10_linux,
    quelling a warning message on Wubi.
  * On Wubi, don't ask for an install device, but just update wubildr using
    the diverted grub-install (LP: #581760).

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 20 Sep 2010 09:13:08 +0100

grub2 (1.98+20100804-5) unstable; urgency=low

  [ Updated translations ]
  * Hebrew (he.po) by Omer Zak and Lior Kaplan (closes: #593855).
  * Romanian (ro.po) by ioan-eugen STAN (closes: #595727).
  * Esperanto (eo.po) by Felipe Castro (closes: #596171).

  [ Colin Watson ]
  * Make grub-efi-amd64 conflict with grub-pc as well as the other way
    round.
  * Backport upstream patches to fix DM-RAID support (closes: #594221,
    LP: #634840).

  [ Robert Millan ]
  * enable_zfs.patch: Fix grub-fstest build problem.
  * zfs_fix_label_arg.patch: Fix kfreebsd_device initialization on ZFS
    for non-main filesystems.

 -- Colin Watson <cjwatson@debian.org>  Fri, 17 Sep 2010 23:45:10 +0100

grub2 (1.98+20100804-4ubuntu6) maverick; urgency=low

  * Handle partition devices without corresponding disk devices
    (LP: #623609).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 10 Sep 2010 18:35:49 +0100

grub2 (1.98+20100804-4ubuntu5) maverick; urgency=low

  [ Colin Watson ]
  * Make grub-efi-amd64 conflict with grub-pc as well as the other way round
    (LP: #632642).
  * Extend EFI initialisation code to understand (,$partition)-style
    prefixes.  If the EFI System Partition is on the same disk as
    /boot/grub, use this rather than allowing GRUB to set the prefix to the
    EFI System Partition by default (LP: #632775).  (If they're on different
    disks, grub-install already used a UUID to find /boot/grub.)

  [ Mario Limonciello ]
  * Modify ubuntu_efi_install to check for case-insensitive EFI distributor.
    (LP: #632706)

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 08 Sep 2010 13:41:18 +0100

grub2 (1.98+20100804-4ubuntu4) maverick; urgency=low

  * Adjust the EFI-AMD64 rescue CD image to find itself at boot time by
    looking for /.disk/info, rather than by UUID.  This is a temporary
    measure to allow parts of this image to be incorporated into other CD
    images.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 25 Aug 2010 22:58:53 +0100

grub2 (1.98+20100804-4ubuntu3) maverick; urgency=low

  * Build-depend on mtools for grub-rescue-efi-amd64 build.
  * Only build grub-rescue-efi-amd64 on architectures where we build
    grub-efi-amd64.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 25 Aug 2010 15:23:31 +0100

grub2 (1.98+20100804-4ubuntu2) maverick; urgency=low

  * Add a grub-rescue-efi-amd64 package containing a rescue CD-ROM image for
    EFI-AMD64.  For the moment, the purpose of this is mainly to deliver
    files to debian-installer.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 25 Aug 2010 13:45:56 +0100

grub2 (1.98+20100804-4ubuntu1) maverick; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Adjust hostdisk id for hard disks, allowing grub-setup to use its
      standard workaround for broken BIOSes.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Extend the EFI version of grub-install to be able to install into an
      EFI System Partition mounted on /boot/efi in a location that complies
      with the EFI specification.
    - Upgrade the installed core image when upgrading grub-efi-ia32 or
      grub-efi-amd64, although only if /boot/efi/EFI/ubuntu already exists.
    - Make grub-efi-ia32 and grub-efi-amd64 depend on efibootmgr so that
      grub-install works properly.
    - Program vesafb on BIOS systems rather than efifb.
  * Go back to gfxpayload=text by default for Ubuntu 10.10, as the kernel
    needs more work to avoid lockups with some video cards
    (LP: #605614, #608429, #612626).

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 23 Aug 2010 13:11:28 +0100

grub2 (1.98+20100804-4) unstable; urgency=low

  [ Updated translations ]
  * Italian (it.po) by Luca Monducci (closes: #593685).
  * Finnish (fi.po) by Esko Arajärvi (closes: #593921).

  [ Colin Watson ]
  * Run update-grub from kernel hooks if DEB_MAINT_PARAMS is unset, for
    compatibility with old kernel packages.  This may produce duplicate runs
    of update-grub, but that's better than not running it at all (closes:
    #594037).

 -- Colin Watson <cjwatson@debian.org>  Mon, 23 Aug 2010 12:11:55 +0100

grub2 (1.98+20100804-3) unstable; urgency=low

  [ Updated translations ]
  * Brazilian Portuguese (pt_BR.po) by Flamarion Jorge (closes: #592156).
  * Asturian (ast.po) by Maacub (closes: #592313).
  * Galician (gl.po) by Jorge Barreiro (closes: #592816).

  [ Robert Millan ]
  * Backport ZFS bugfixes from upstream Bazaar:
    - zfs_fix_chroot.patch: Fix breakage when running grub-probe inside chroot.
    - zfs_fix_label_arg.patch: Fix grub-probe fs_label argument.
    - zfs_fix_pathname.patch: Fix pathname for non-root ZFS filesystems.
    - zfs_fix_segfault.patch: Fix segfault when /dev is not mounted.

  [ Colin Watson ]
  * Escape single quotes when removing them from $mode in zz-update-grub, so
    that this works when /bin/sh is bash (thanks, Will Dyson; closes:
    #593242).
  * Add support for ext2 root on GNU/kFreeBSD (thanks, Aurelien Jarno;
    closes: #593467).

 -- Colin Watson <cjwatson@debian.org>  Thu, 19 Aug 2010 18:21:45 +0100

grub2 (1.98+20100804-2) unstable; urgency=low

  [ Colin Watson ]
  * Make /etc/kernel/postrm.d/zz-update-grub a real file rather than a
    symlink (closes: #592076).

  [ Updated translations ]
  * Norwegian Bokmål (nb.po) by Hans Nordhaug (closes: #591569).

 -- Colin Watson <cjwatson@debian.org>  Sat, 07 Aug 2010 17:53:34 +0100

grub2 (1.98+20100804-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Fix grub-emu build on GNU/kFreeBSD (closes: #591490).

  [ Colin Watson ]
  * Add kernel hook scripts and remove any uses of update-grub as a
    postinst_hook or postrm_hook in /etc/kernel-img.conf (closes: #554175).
    Thanks to Ben Hutchings for advice and to Harald Braumann for an early
    implementation.
  * Extend the existing GRUB_LEGACY_0_BASED_PARTITIONS handling to avoid
    new-style partition naming when generating output for GRUB Legacy
    (closes: #590554).

  [ Updated translations ]
  * Slovak (sk.po) by Slavko (closes: #591458).

 -- Colin Watson <cjwatson@debian.org>  Wed, 04 Aug 2010 04:48:11 +0100

grub2 (1.98+20100802-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Remove compatibility with terminal.mod prior to
      terminal_input/terminal_output separation (LP: #519358).
    - Enable `grub-probe -t device' resolution on ZFS.
    - Don't use UUID for LVM root when generating Xen entries (closes:
      #591093).
    - Restore missing whitespace to commands' --help output (closes:
      #590874).
    - Select unique numbers for named RAID arrays, for use as keys in the
      disk cache.

  [ Updated translations ]
  * German (Martin Eberhard Schauer).  Closes: #590108
  * Spanish (Francisco Javier Cuadrado).  Closes: #590448
  * Traditional Chinese (Tetralet).  Closes: #591191
  * Danish (Joe Hansen).  Closes: #591223
  * Dutch (Paul Gevers).  Closes: #590864
  * Japanese (Hideki Yamane).  Closes: #591058

  [ Robert Millan ]
  * postinst.in: Fill in device size and model information on GNU/kFreeBSD,
    using camcontrol.
  * patches/enable_zfs.patch: New patch. Link ZFS from grub-extras into
    grub-probe and grub-setup.
  * control: Build-Depend on libzfs-dev and libnvpair-dev on kfreebsd-*.

  [ Colin Watson ]
  * Offer RAID devices as GRUB installation targets if they contain /,
    /boot, or /boot/grub.

 -- Colin Watson <cjwatson@debian.org>  Tue, 03 Aug 2010 02:13:07 +0100

grub2 (1.98+20100722-1ubuntu1) maverick; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Adjust hostdisk id for hard disks, allowing grub-setup to use its
      standard workaround for broken BIOSes.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Extend the EFI version of grub-install to be able to install into an
      EFI System Partition mounted on /boot/efi in a location that complies
      with the EFI specification.
    - Upgrade the installed core image when upgrading grub-efi-ia32 or
      grub-efi-amd64, although only if /boot/efi/EFI/ubuntu already exists.
    - Make grub-efi-ia32 and grub-efi-amd64 depend on efibootmgr so that
      grub-install works properly.
    - Program vesafb on BIOS systems rather than efifb, and return to
      enabling gfxpayload=keep by default if the kernel has the necessary
      support built-in.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 22 Jul 2010 21:44:52 +0100

grub2 (1.98+20100722-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Don't count named RAID arrays when looking for unused array numbers.

  [ Colin Watson ]
  * Merge from Ubuntu:
    - grub-common Breaks: lupin-support (<< 0.30) due to a grub-mkimage
      syntax change (lupin-support isn't in Debian, but this is harmless
      anyway).

 -- Colin Watson <cjwatson@debian.org>  Thu, 22 Jul 2010 14:33:34 +0100

grub2 (1.98+20100720-1ubuntu1) maverick; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Adjust hostdisk id for hard disks, allowing grub-setup to use its
      standard workaround for broken BIOSes.
    - grub-common Breaks: lupin-support (<< 0.30) due to a grub-mkimage
      syntax change.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Extend the EFI version of grub-install to be able to install into an
      EFI System Partition mounted on /boot/efi in a location that complies
      with the EFI specification.
    - Upgrade the installed core image when upgrading grub-efi-ia32 or
      grub-efi-amd64, although only if /boot/efi/EFI/ubuntu already exists.
    - Make grub-efi-ia32 and grub-efi-amd64 depend on efibootmgr so that
      grub-install works properly.
    - Program vesafb on BIOS systems rather than efifb, and return to
      enabling gfxpayload=keep by default if the kernel has the necessary
      support built-in.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 21 Jul 2010 10:10:21 +0100

grub2 (1.98+20100720-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Link to Info documentation on changes from GRUB Legacy in README
      (closes: #502623).
    - Add support for mdadm metadata formats 1.x (closes: #492897).

  [ Aaron M. Ucko ]
  * Compare -trunk kernels earlier than numeric ABIs (closes: #568160).

  [ Colin Watson ]
  * Remove /boot/grub/device.map, /boot/grub/grubenv,
    /boot/grub/installed-version, and /boot/grub/locale/ on purge, if
    permitted (closes: #547679).
  * Convert from CDBS to dh.
  * Use exact-version dependencies in grub2 and grub-efi, to reduce
    potential confusion.
  * Raise priority of grub-common and grub-pc to optional (also done in
    archive overrides).
  * Copy-edit debian/presubj.
  * Use 'mktemp -t' rather than hardcoding /tmp (closes: #589537).

  [ Mario 'BitKoenig' Holbe ]
  * Update /etc/grub.d/05_debian_theme to handle multiple entries in
    GRUB_TERMINAL_OUTPUT (closes: #589322).

  [ Updated translations ]
  * Simplified Chinese (zh_CN.po) by YunQiang Su (closes: #589013).
  * Russian (ru.po) by Yuri Kozlov (closes: #589244).
  * Swedish (sv.po) by Martin Bagge / brother (closes: #589259).
  * Bulgarian (bg.po) by Damyan Ivanov (closes: #589272).
  * Indonesian (id.po) by Arief S Fitrianto (closes: #589318).
  * Arabic (ar.po) by Ossama M. Khayat.
  * Basque (eu.po) by Iñaki Larrañaga Murgoitio (closes: #589489).
  * Persian (fa.po) by Bersam Karbasion (closes: #589544).
  * Czech (cs.po) by Miroslav Kure (closes: #589568).
  * Belarusian (be.po) by Viktar Siarheichyk (closes: #589634).

 -- Colin Watson <cjwatson@debian.org>  Wed, 21 Jul 2010 09:11:14 +0100

grub2 (1.98+20100710-1ubuntu1) maverick; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Keep the loopback file open so that subsequent changes to the "root"
      environment variable don't affect it.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Change priority to optional to match the priority of grub.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Adjust hostdisk id for hard disks, allowing grub-setup to use its
      standard workaround for broken BIOSes.
    - grub-common Breaks: lupin-support (<< 0.30) due to a grub-mkimage
      syntax change.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Extend the EFI version of grub-install to be able to install into an
      EFI System Partition mounted on /boot/efi in a location that complies
      with the EFI specification.
    - Upgrade the installed core image when upgrading grub-efi-ia32 or
      grub-efi-amd64, although only if /boot/efi/EFI/ubuntu already exists.
    - Make grub-efi-ia32 and grub-efi-amd64 depend on efibootmgr so that
      grub-install works properly.
  * Canonicalise device paths when building a device map on the fly.
  * Program vesafb on BIOS systems rather than efifb, and return to enabling
    gfxpayload=keep by default if the kernel has the necessary support
    built-in.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 12 Jul 2010 15:02:28 +0100

grub2 (1.98+20100710-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Handle degraded RAID arrays in grub-probe and grub-setup.
    - Fix gfxterm pager handling.

  [ Fabian Greffrath ]
  * Get value of correct debconf question when deciding whether to purge
    /boot/grub (closes: #588331).

  [ Colin Watson ]
  * Generate device.map in something closer to the old ordering (thanks,
    Vadim Solomin).

  [ Updated translations ]
  * Croatian (hr.po) by Josip Rodin, closes: #588350.
  * French (fr.po) by Christian Perrier (closes: #588695).

 -- Colin Watson <cjwatson@debian.org>  Mon, 12 Jul 2010 11:46:53 +0100

grub2 (1.98+20100706-1) unstable; urgency=low

  * New Bazaar snapshot.
    - USB hub support.
    - Fix GRUB_BACKGROUND configuration ordering.
    - Fix corruption of first entry name in a reiserfs directory.
    - Don't include MD devices when generating device.map (if you're using
      RAID and upgraded through 1.98+20100702-1 or 1.98+20100705-1, you may
      need to fix this up manually).

 -- Colin Watson <cjwatson@debian.org>  Tue, 06 Jul 2010 18:06:40 +0100

grub2 (1.98+20100705-1ubuntu1) maverick; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu.  Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed.  If it is, show the
      menu, otherwise boot immediately.  If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt.  Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Keep the loopback file open so that subsequent changes to the "root"
      environment variable don't affect it.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Adjust upgrade version checks for Ubuntu.
    - Change priority to optional to match the priority of grub.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Adjust hostdisk id for hard disks, allowing grub-setup to use its
      standard workaround for broken BIOSes.
    - grub-common Breaks: lupin-support (<< 0.30) due to a grub-mkimage
      syntax change.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.
    - Extend the EFI version of grub-install to be able to install into an
      EFI System Partition mounted on /boot/efi in a location that complies
      with the EFI specification.
    - Upgrade the installed core image when upgrading grub-efi-ia32 or
      grub-efi-amd64, although only if /boot/efi/EFI/ubuntu already exists.
    - Make grub-efi-ia32 and grub-efi-amd64 depend on efibootmgr so that
      grub-install works properly.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 05 Jul 2010 10:28:07 +0100

grub2 (1.98+20100705-1) unstable; urgency=medium

  * New Bazaar snapshot.
    - Bidi and diacritics support.
      + Use terminfo for ieee1275 terminals (closes: #586953).
    - Don't use empty grub_device in EFI grub-install (closes: #587838).
    - Fix grub-setup core.img comparison when not embedding (thanks, Matt
      Kraai and M. Vefa Bicakci; closes: #586621).

  * Update Source: in debian/copyright (thanks, Jörg Sommer).
  * Convert by-id disk device names from device.map to traditional device
    names for display (closes: #587951).
  * Set urgency=medium.  We've cleared out most of the apparent regressions
    at this point, and #550704 is getting more and more urgent to fix in
    testing.

 -- Colin Watson <cjwatson@debian.org>  Mon, 05 Jul 2010 02:09:58 +0100

grub2 (1.98+20100702-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Use video functions in Linux loader rather than hardcoding UGA; load
      all available video backends (closes: #565576, probably).
    - Add support for initrd images on Fedora 13.
    - Output grub.cfg stanzas for Xen (closes: #505517).
    - Add 'cat --dos' option to treat DOS-style "\r\n" line endings as
      simple newlines (closes: #586358).
    - Change grub-mkdevicemap to emit /dev/disk/by-id/ names where possible
      on Linux.
    - Return CF correctly in mmap e820/e801 int15 hook (closes: #584846).
    - The info documentation now has no broken references, although of
      course it could still use more work (closes: #553460).
    - Support GRUB_BADRAM in grub-mkconfig.
    - Skip LVM snapshots (closes: #574863).

  [ Colin Watson ]
  * Mention grub-rescue-usb.img in grub-rescue-pc description (closes:
    #586462).
  * Add instructions for using grub-rescue-usb.img (closes: #586463).
  * Remove /usr/lib/grub/mips-* from grub-common rather than the incorrect
    /usr/lib/grub/mipsel-*, so that it stops clashing with grub-yeeloong;
    add a versioned Replaces to grub-yeeloong just in case (closes:
    #586526).
  * Remove qemu-system build-dependency on hurd-i386, where it doesn't seem
    to exist.  Disable tests if qemu-system-i386 isn't available.
  * Mark "upgrade-from-grub-legacy" paragraph in
    grub-pc/chainload_from_menu.lst as untranslatable.
  * Update Homepage field (thanks, Sedat Dilek).
  * On Linux, if /boot/grub/device.map exists on upgrade to this version,
    regenerate it to use stable device names in /dev/disk/by-id/.  If it had
    more than one entry, then display a critical-priority debconf note
    (sorry, but it's better than silently breaking boot menu entries)
    advising people to check custom boot menu entries and update them if
    necessary (closes: #583271).
  * Use 'set -e' rather than '#! /bin/sh -e' or '#! /bin/bash -e', to avoid
    accidents when debugging with 'sh -x'.
  * Store grub-pc/install_devices as persistent device names under
    /dev/disk/by-id/ (closes: #554790).  Migrate previous device names to
    that, with explicit confirmation in non-trivial cases to make sure we
    got the right ones.  If the devices we were told to install to ever go
    away, ask again.  (This is based on the implementation in Ubuntu.)
  * If grub-install fails during upgrade-from-grub-legacy, allow the user to
    try again with a different device, but failing that cancel the upgrade
    (closes: #587790).
  * Remove numbering from patch files.  The order is now explicit in a quilt
    series file, and renumbering from time to time is tedious.

  [ Updated translations ]
  * Ukrainian (uk.po) by Yatsenko Alexandr / Borys Yanovych (closes:
    #586611).
  * Indonesian (id.po) by Arief S Fitrianto (closes: #586799).
  * Swedish (sv.po) by Martin Bagge (closes: #586827).
  * Persian (fa.po) by Behrad Eslamifar (closes: #587085).
  * French (fr.po) by Christian Perrier (closes: #587383).
  * Galician (gl.po) by Jorge Barreiro (closes: #587796).

  [ Robert Millan ]
  * Add commented GRUB_BADRAM example in debian/default/grub.

 -- Colin Watson <cjwatson@debian.org>  Fri, 02 Jul 2010 17:42:56 +0100

grub2 (1.98+20100617-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Fix i386-pc prefix handling with nested partitions (closes: #585068).

  * When running grub-pc.postinst from upgrade-from-grub-legacy, tell it to
    disregard the fact that /boot/grub/stage2 and /boot/grub/menu.lst still
    exist (closes: #550477).
  * Touch a marker file when grub-install is run but GRUB Legacy files are
    still around.  If that marker file is present, pretend that GRUB Legacy
    files are missing when upgrading.
  * If GRUB Legacy files are present when upgrading, scan boot sectors of
    all disks for GRUB 2.  If we find GRUB 2 installed anywhere, then ask
    the user if they want to finish conversion to GRUB 2, and warn them that
    not doing so may render the system unbootable (closes: #586143).  Thanks
    to Sedat Dilek for helping to narrow down this bug.
  * Leaving grub-pc/install_devices empty makes sense in some situations,
    but more often than not is a mistake.  On the other hand, automatically
    selecting all disk devices would upset some people too.  Compromise by
    simply asking for explicit confirmation if grub-pc/install_devices is
    left empty, defaulting to false so that simply selecting all the
    defaults in debconf can't leave you with an unbootable system (closes:
    #547944, #557425).

 -- Colin Watson <cjwatson@debian.org>  Sat, 19 Jun 2010 01:31:40 +0100

grub2 (1.98+20100614-2ubuntu4) maverick; urgency=low

  * Rearrange postinst install_devices logic so that preparatory code is run
    only once and the while loop only encloses actual asking of questions,
    and so that the question being asked is always marked for redisplay when
    going round the while loop again (LP: #580408).
  * Only offer partitions containing /, /boot, or /boot/grub for
    grub-install; installing to other partitions may have harmful effects
    such as making Windows unbootable, and installing GRUB to every single
    partition is likely to result in confusion anyway (LP: #576724).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 01 Jul 2010 18:26:37 +0100

grub2 (1.98+20100614-2ubuntu3) maverick; urgency=low

  * Hide errors from grub-install if efivars is built-in.
  * Source /usr/lib/grub/grub-mkconfig_lib in EFI grub-install, for
    make_system_path_relative_to_its_root.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 23 Jun 2010 08:53:25 +0100

grub2 (1.98+20100614-2ubuntu2) maverick; urgency=low

  * Set have_grubenv=true when $prefix/grubenv exists, which should fix
    recordfail.  This was lost as part of the savedefault upstream merge.
  * Extend the EFI version of grub-install to be able to install into an EFI
    System Partition mounted on /boot/efi in a location that complies with
    the EFI specification.
  * Upgrade the installed core image when upgrading grub-efi-ia32 or
    grub-efi-amd64, although only if /boot/efi/EFI/ubuntu already exists.
  * Make grub-efi-ia32 and grub-efi-amd64 depend on efibootmgr so that
    grub-install works properly.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 18 Jun 2010 15:19:03 +0100

grub2 (1.98+20100614-2ubuntu1) maverick; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu. Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed. If it is, show the
      menu, otherwise boot immediately. If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt. Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Keep the loopback file open so that subsequent changes to the "root"
      environment variable don't affect it.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Store grub-pc/install_devices as persistent device names under
      /dev/disk/by-id/.
    - Change priority to optional to match the priority of grub.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Don't run /etc/grub.d/README, even if it somehow ended up being
      executable.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Adjust hostdisk id for hard disks, allowing grub-setup to use its
      standard workaround for broken BIOSes.
    - grub-common Breaks: lupin-support (<< 0.30) due to a grub-mkimage
      syntax change.
    - Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
    - Use qemu rather than qemu-system-i386.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 16 Jun 2010 18:22:38 +0100

grub2 (1.98+20100614-2) unstable; urgency=low

  * Build-depend on gcc-4.4-multilib on i386 and kopensolaris-i386 too, in
    order to build grub-efi-amd64.
  * Ignore non-option arguments in grub-mkconfig (closes: #586056).

 -- Colin Watson <cjwatson@debian.org>  Wed, 16 Jun 2010 17:58:48 +0100

grub2 (1.98+20100614-1ubuntu2) maverick; urgency=low

  * Build-depend on gcc-4.4-multilib on i386 and kopensolaris-i386 too, in
    order to build grub-efi-amd64.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 16 Jun 2010 13:28:11 +0100

grub2 (1.98+20100614-1ubuntu1) maverick; urgency=low

  * Resynchronise with Debian:
    - Add btrfs probing support, currently only in the single-device case
      (LP: #450260).
    - Insert partmap module in prepare_grub_to_access_device to handle
      cross-partmap setups (LP: #451585).
    - Fix verbose error output when device-mapper isn't supported by the
      running kernel (LP: #526045).
    Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu. Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed. If it is, show the
      menu, otherwise boot immediately. If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt. Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Keep the loopback file open so that subsequent changes to the "root"
      environment variable don't affect it.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Don't generate /boot/grub/device.map during grub-install or
      grub-mkconfig by default.
    - Store grub-pc/install_devices as persistent device names under
      /dev/disk/by-id/.
    - Change priority to optional to match the priority of grub.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Fix LVM/RAID probing in the absence of /boot/grub/device.map.
    - Look for .mo files in /usr/share/locale-langpack as well, in
      preference.
    - Don't run /etc/grub.d/README, even if it somehow ended up being
      executable.
    - Make sure GRUB_TIMEOUT isn't quoted unnecessarily.
    - Probe all devices in 'grub-probe --target=drive' if
      /boot/grub/device.map is missing.
    - Adjust hostdisk id for hard disks, allowing grub-setup to use its
      standard workaround for broken BIOSes.
  * grub-common Breaks: lupin-support (<< 0.30) due to a grub-mkimage syntax
    change.
  * Renumber Ubuntu patches to start from 950 with no gaps.
  * Build-depend on qemu-kvm rather than qemu-system for grub-pc tests.
  * Use qemu rather than qemu-system-i386 (see LP #594888).
  * Fix quoting in failed_boot_menu and quick_boot patches.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 16 Jun 2010 12:13:14 +0100

grub2 (1.98+20100614-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Make target-related error messages from grub-mkimage slightly more
      helpful (closes: #584415).
    - Fix underquoting that broke savedefault (thanks, Mario 'BitKoenig'
      Holbe; closes: #584812).
    - Expand 'info grub' substantially, including a new section on
      configuring authentication (closes: #584822).
    - Give all manual pages proper NAME sections (closes: #496706).

  * Update 915resolution from grub-extras:
    - Fix a hang with 945GME (thanks, Sergio Perticone; closes: #582142).

  [ Colin Watson ]
  * Disable grub-emu on sparc for the time being.  We're currently trying to
    use TARGET_* flags to build it, which won't work.
  * Don't build-depend on libsdl1.2-dev on hurd-i386.  Although
    libsdl1.2-dev exists there, it's currently uninstallable due to missing
    libpulse-dev, and we can happily live without it for now.
  * kfreebsd-amd64 needs gcc-4.4-multilib too (closes: #585668).
  * Warn and return without error from prepare_grub_to_access_device if
    /boot is a dm-crypt device (thanks, Marc Haber; closes: #542165).
  * Make /etc/grub.d/05_debian_theme usable by shells other than bash
    (thanks, Alex Chiang; closes: #585561).
  * Remove grub-mkisofs leftovers from debian/copyright.
  * Fix reversed sense of DEB_BUILD_OPTIONS=nocheck handling.
  * Build-depend on qemu-system for grub-pc tests.

 -- Colin Watson <cjwatson@debian.org>  Tue, 15 Jun 2010 12:45:35 +0100

grub2 (1.98+20100602-2) unstable; urgency=low

  * Only build-depend on libdevmapper-dev on Linux architectures.
  * Don't build-depend on libusb-dev on hurd-i386, where it doesn't seem to
    be available.
  * Fix printf format mismatch in disk/usbms.c (closes: #584474).
  * Fix verbose error output when device-mapper isn't supported by the
    running kernel (closes: #584196).
  * Prepend "part_" to partmap module names in grub-mkconfig, in line with
    grub-install (closes: #584426).

 -- Colin Watson <cjwatson@debian.org>  Fri, 04 Jun 2010 14:01:58 +0100

grub2 (1.98+20100602-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Add btrfs probing support, currently only in the single-device case
      (closes: #540786).
    - Fix grub-emu build on mips/powerpc/sparc.
    - Add safety check to make sure that /boot/grub/locale exists before
      trying to probe it (closes: #567211).
    - Several 'info grub' improvements, including a new section on
      configuration file generation using grub-mkconfig which documents the
      available keys in /etc/default/grub (closes: #497085).
    - Many USB fixes.

  [ Colin Watson ]
  * Reorganise configure and build targets in debian/rules to use stamp
    files.  configure/* never existed and build/* was always a directory, so
    make never considered either of them up to date (closes: #450505).
  * Remove config.h.in from AUTOGEN_FILES, since autoheader doesn't
    necessarily update it.
  * Remove conf/gcry.mk from AUTOGEN_FILES, and conf/gcry.rmk from their
    dependencies.  autogen.sh runs util/import_gcry.py after autoconf et al,
    so conf/gcry.rmk's timestamp will be later than some of the
    autogenerated outputs.
  * Go back to shipping rescue images in the grub-rescue-pc .deb itself
    rather than generating them in the postinst.  This means that (a) they
    get removed when the package is removed (closes: #584176); (b) they are
    listed in package metadata, as is proper for files in /usr (closes:
    #584218); (c) grub-rescue-pc can potentially be used as a
    build-dependency for other packages that need to build GRUB images into
    installation media etc., without having to build-depend on grub-pc which
    isn't coinstallable with other platform variants and does invasive
    things in its postinst.
  * Add grub-mkrescue patch from Thomas Schmitt to allow reducing the size
    of xorriso-created images.  Use this to ensure that
    grub-rescue-floppy.img fits well within size limits (closes: #548320).

 -- Colin Watson <cjwatson@debian.org>  Thu, 03 Jun 2010 11:24:41 +0100

grub2 (1.98+20100527-2) unstable; urgency=low

  * Always override statically-linked-binary Lintian tag for kernel.img;
    dynamic linking makes no sense here.
  * kernel.img is stripped upstream where it can be, but override Lintian's
    error for the cases where it can't.
  * Override binary-from-other-architecture for kernel.img as well as *.mod
    when building grub-efi-amd64 on i386.

 -- Colin Watson <cjwatson@debian.org>  Tue, 01 Jun 2010 13:48:14 +0100

grub2 (1.98+20100527-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Support multiple terminals in grub-mkconfig, e.g.
      GRUB_TERMINAL='serial console' (closes: #506707).
    - Speed up consecutive hostdisk operations on the same device (closes:
      #508834, #574088).
    - Fix grammar error in grub-setup warning (closes: #559005).
    - Use xorriso for image creation rather than embedding a modified copy
      of mkisofs (closes: #570156).
    - Issue an error rather than segfaulting if only some LVM component
      devices are in device.map (closes: #577808).
    - Fix typo in make_device_name which caused grub-probe problems on
      systems with BSD disk labels (closes: #578201).
    - Add DM-RAID probe support (closes: #579919).
    - Include all gnumach kernels on Hurd, not just gnumach and gnumach.gz
      (closes: #581584).

  [ Colin Watson ]
  * Restore TEXTDOMAINDIR correction in grub.d files, lost by mistake in a
    merge.  Noticed by Anthony Fok.
  * Don't fail on purge if the ucf association has already been taken over
    by a different grub package (closes: #574176).
  * Add debian/grub-extras/*/conf/*.mk to AUTOGEN_FILES.
  * Remove support for the lpia architecture, now removed from Ubuntu.
  * Conflict with grub (<< 0.97-54) as well as grub-legacy.
  * Build-depend on libdevmapper-dev for DM-RAID probe support.
  * Switch to quilt.
  * Suggest xorriso (>= 0.5.6.pl00) in grub-common, since grub-mkrescue now
    needs it.  Depend on it in grub-rescue-pc.
  * Move grub-mkimage to grub-common, now that it only has one
    implementation.
  * Clean up temporary files used while building grub-firmware-qemu.
  * Make grub-probe work with symlinks under /dev/mapper (closes: #550704).
  * When upgrading a system where GRUB 2 is chainloaded from GRUB Legacy and
    upgrade-from-grub-legacy has not been run, upgrade the chainloaded image
    rather than confusing the user by prompting them where they want to
    install GRUB (closes: #546822).
  * Build-depend on libsdl1.2-dev for SDL support in grub-emu.
  * Don't leak debconf's file descriptor to update-grub, so that the LVM
    tools called from os-prober don't complain about it (closes: #549976).
    Other leaks are not this package's fault, may not be bugs at all, and in
    any case os-prober 1.36 suppresses the warnings.
  * Build-depend on flex (>= 2.5.35).
  * Build-depend on gcc-4.4-multilib on amd64.

  [ Updated translations ]
  * Slovenian (sl.po) by Vanja Cvelbar (closes: #570110).
  * Vietnamese (vi.po) by Clytie Siddall (closes: #574578).
  * Tamil (ta.po) by Tirumurti Vasudevan (closes: #578282).
  * Portuguese (pt.po) by Tiago Fernandes (closes: #580140).
  * Romanian (ro.po) by Eddy Petrișor / Andrei Popescu (closes: #583185).

 -- Colin Watson <cjwatson@debian.org>  Tue, 01 Jun 2010 11:24:38 +0100

grub2 (1.98-1ubuntu6) lucid-proposed; urgency=low

  * When migrating from the old grub-pc/install_devices scheme, check if the
    old value indicated installation to a single partition on a single disk.
    In that case, if there is only one disk present and it has a matching
    partition number, then we can install to that partition without asking
    (LP: #508173).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 28 Apr 2010 15:48:02 +0100

grub2 (1.98-1ubuntu5) lucid; urgency=low

  * Enclose all translated strings in grub.cfg in single quotes, and escape
    them appropriately (LP: #552921).

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 13 Apr 2010 14:29:45 +0100

grub2 (1.98-1ubuntu4) lucid; urgency=low

  * Only use the first word of GRUB_DISTRIBUTOR for --class, to avoid
    problems if somebody puts spaces in GRUB_DISTRIBUTOR (LP: #557606).
  * Probe all devices in 'grub-probe --target=drive' if
    /boot/grub/device.map is missing (LP: #549980).
  * Adjust hostdisk id for hard disks, allowing grub-setup to use its
    standard workaround for broken BIOSes (thanks to TJ for detailed
    investigation; LP: #555500).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 09 Apr 2010 09:46:44 +0100

grub2 (1.98-1ubuntu3) lucid; urgency=low

  * Make sure GRUB_TIMEOUT isn't quoted unnecessarily (LP: #544890).

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 30 Mar 2010 10:23:42 +0100

grub2 (1.98-1ubuntu2) lucid; urgency=low

  * Fix LVM/RAID probing in the absence of /boot/grub/device.map
    (LP: #525085, #527401).
  * Backport my upstream patch to copy .mo files from /usr/share/locale to
    match where 'make install' puts them (LP: #537998).
  * Look for .mo files in /usr/share/locale-langpack as well, in preference
    (LP: #537998).
  * Don't generate /boot/grub/device.map during grub-mkconfig (we already
    suppressed it during grub-install, but then grub-mkconfig generated it
    shortly afterwards, producing confusing results).
  * Don't run /etc/grub.d/README, even if it somehow ended up being
    executable (LP: #537123).

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 22 Mar 2010 19:57:10 +0000

grub2 (1.98-1ubuntu1) lucid; urgency=low

  * Resynchronise with Debian (bug-fixes relative to previous snapshot
    release).  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Conflict with grub (<< 0.97-54) as well as grub-legacy.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu. Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed. If it is, show the
      menu, otherwise boot immediately. If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt. Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Keep the loopback file open so that subsequent changes to the "root"
      environment variable don't affect it.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Improve DM-RAID probing support.
    - Don't generate /boot/grub/device.map during grub-install by default.
    - Store grub-pc/install_devices as persistent device names under
      /dev/disk/by-id/.
    - Change priority to optional to match the priority of grub.
    - Shave eight bytes off the pre-partition-table part of boot.img.
    - Don't display "GRUB loading" unless Shift is held down.
    - Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
      our backport of the grub-doc split.
    - Optimise hostdisk device handling, substantially speeding up
      grub-probe filesystem reads.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 09 Mar 2010 22:18:14 +0000

grub2 (1.98-1) unstable; urgency=low

  * New upstream release (closes: #572898).
    - Fix grub-script-check to handle empty lines (closes: #572302).
    - Fix offset computation when reading last sectors.  Partition reads and
      writes within and outside a partition (closes: #567469, #567884).
    - Fix script execution error handling bug that meant that an error in a
      menuentry's last statement caused the whole menuentry to fail (closes:
      #566538, LP: #464743).
    - Support GRUB_GFXPAYLOAD_LINUX (closes: #536453, LP: #416772).

  [ Samuel Thibault ]
  * Add GRUB_INIT_TUNE example to /etc/default/grub (closes: #570340).

  [ Colin Watson ]
  * Build-depend on libusb-dev so that grub-emu is reliably built with USB
    support (closes: #572854).
  * Update directions in debian/rules on exporting grub-extras to account
    for it being maintained in Bazaar nowadays.
  * Add myself to Uploaders.
  * Acknowledge NMUs, thanks to Torsten Landschoff and Julien Cristau.

 -- Colin Watson <cjwatson@debian.org>  Tue, 09 Mar 2010 13:25:35 +0000

grub2 (1.98~20100128-1.2) unstable; urgency=low

  * Non-maintainer upload.
  * Stop setting gfxpayload=keep (closes: #567245).

 -- Julien Cristau <jcristau@debian.org>  Sun, 14 Feb 2010 20:37:51 +0100

grub2 (1.98~20100128-1.1) unstable; urgency=low

  * Non-maintainer upload.
  * Apply trivial patch (already merged upstream) fixing the offset
    computation for non-cached reads (closes: #567637).

 -- Torsten Landschoff <torsten@debian.org>  Mon, 08 Feb 2010 22:15:01 +0100

grub2 (1.98~20100128-1ubuntu4) lucid; urgency=low

  [ Colin Watson ]
  * Update DM-RAID probing patch, removing some configure.ac cruft.
  * Add patch from Colin King to shave eight bytes off the
    pre-partition-table part of boot.img.
  * Don't display "GRUB loading" unless Shift is held down.
  * Use light-gray as the default background for highlighted menu entries;
    white is not safe because some systems interpret the top bit as blink
    (thanks, proski; LP: #527334).
  * Adjust versions of grub-doc and grub-legacy-doc conflicts to tolerate
    our backport of the grub-doc split (LP: #493968).
  * Optimise hostdisk device handling, substantially speeding up grub-probe
    filesystem reads (LP: #425650).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 03 Mar 2010 20:33:03 +0000

grub2 (1.98~20100128-1ubuntu3) lucid; urgency=low

  * Stop forcing gfxpayload=keep when CONFIG_FB_EFI=y, which it always is on
    Ubuntu kernels; this apparently causes trouble with some KMS
    framebuffers.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 04 Feb 2010 18:23:39 -0800

grub2 (1.98~20100128-1ubuntu2) lucid; urgency=low

  [ Michael Vogt ]
  * Change the priority to optional to match the priority of grub.  This
    prevents grub-pc getting removed in favour of grub (LP: #449679).

  [ Colin Watson ]
  * Stop the postinst failing if there are no devices.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 04 Feb 2010 12:44:29 -0800

grub2 (1.98~20100128-1ubuntu1) lucid; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Conflict with grub (<< 0.97-54) as well as grub-legacy.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu. Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed. If it is, show the
      menu, otherwise boot immediately. If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt. Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Suppress progress messages as the kernel and initrd load for
      non-recovery kernel menu entries.
    - Keep the loopback file open so that subsequent changes to the "root"
      environment variable don't affect it.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
    - Improve DM-RAID probing support.
  * Don't generate /boot/grub/device.map during grub-install by default.
  * Store grub-pc/install_devices as persistent device names under
    /dev/disk/by-id/ (LP: #496435).  Migrate previous device names to that,
    with explicit confirmation in non-trivial cases to make sure we got the
    right ones.  If the devices we were told to install to ever go away, ask
    again.
  * If the user opts to install GRUB nowhere, make sure they really mean it.
  * Backport disk read fixes from upstream.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 03 Feb 2010 16:53:33 -0800

grub2 (1.98~20100128-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Fix corruption problem when reading files from CDROM.  (Closes: #567219)

  [ Felix Zielcke ]
  * Never strip kernel.img in rules. Upstream already does it when it
    can be done. (Closes: #561933)
  * Bump Standards-Version to 3.8.4.

  [ Robert Millan ]
  * rules: Run the testsuite (make check) when building grub-pc.

 -- Robert Millan <rmh.debian@aybabtu.com>  Thu, 28 Jan 2010 16:28:45 +0100

grub2 (1.98~20100126-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Includes mipsel-yeeloong port.

  [ Robert Millan ]
  * config.in: Lower priority of grub2/linux_cmdline_default.

  [ Felix Zielcke ]
  * Drop `CFLAGS=-O0' workaround on powerpc. Should be fixed correctly now.
  * Ship grub-bin2h and grub-script-check in grub-common.
  * Terminate NEWS.Debian with a blank line like lintian would suggest
    if that check would be working correctly.

 -- Felix Zielcke <fzielcke@z-51.de>  Tue, 26 Jan 2010 19:26:25 +0100

grub2 (1.98~20100115-1ubuntu3) lucid; urgency=low

  * Build-depend on libdevmapper-dev for DM-RAID probing patch.
  * Handle conversion of DM-RAID disk paths (as well as partition paths) to
    GRUB drive names.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 01 Feb 2010 15:31:07 +0000

grub2 (1.98~20100115-1ubuntu2) lucid; urgency=low

  * Restore patch to suppress progress messages as the kernel and initrd
    load for non-recovery kernel menu entries.  The messages were just moved
    into the configuration file upstream, not removed entirely as I'd
    mistakenly thought.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 28 Jan 2010 18:31:37 +0000

grub2 (1.98~20100115-1ubuntu1) lucid; urgency=low

  * Resynchronise with Debian.  Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Conflict with grub (<< 0.97-54) as well as grub-legacy.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu. Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed. If it is, show the
      menu, otherwise boot immediately. If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt. Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - Keep the loopback file open so that subsequent changes to the "root"
      environment variable don't affect it.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
  * Improve DM-RAID probing support; grub-probe and grub-mkdevicemap should
    both now do something reasonable.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 28 Jan 2010 14:04:48 +0000

grub2 (1.98~20100115-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Includes savedefault / grub-reboot branch.
    - Includes Multiboot video support (from latest 1.x draft).

 -- Robert Millan <rmh.debian@aybabtu.com>  Fri, 15 Jan 2010 18:15:26 +0100

grub2 (1.98~20100110-1) unstable; urgency=low

  * New Bazaar snapshot.

  [ Robert Millan ]
  * grub-rescue-pc.postinst: Fix image generation during upgrades.
    (Closes: #564261)

 -- Robert Millan <rmh.debian@aybabtu.com>  Sun, 10 Jan 2010 02:45:52 +0100

grub2 (1.98~20100107-1) unstable; urgency=low

  * New Bazaar snapshot.

  [ Robert Millan ]
  * grub-rescue-pc.postinst: Use grub-mkrescue for floppy as well.

  [ Updated translations ]
  * Chinese (zh_TW.po) by Tetralet. (Closes: #564044)

 -- Robert Millan <rmh.debian@aybabtu.com>  Thu, 07 Jan 2010 17:56:10 +0100

grub2 (1.98~20100101-1ubuntu2) lucid; urgency=low

  * Renumber Ubuntu patches to start from 950 with no gaps.
  * Don't record failed boots when using grub-reboot, as that can leave
    remote users stranded at a timeout=-1 menu (thanks, Jordan Uggla).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 15 Jan 2010 12:29:50 +0000

grub2 (1.98~20100101-1ubuntu1) lucid; urgency=low

  * Resynchronise with Debian. Remaining changes:
    - Adjust for default Ubuntu boot options ("quiet splash").
    - Default to hiding the menu; holding down Shift at boot will show it.
    - Set a monochromatic theme for Ubuntu.
    - Apply Ubuntu GRUB Legacy changes to legacy update-grub script: title,
      recovery mode, quiet option, tweak how memtest86+ is displayed, and
      use UUIDs where appropriate.
    - Conflict with grub (<< 0.97-54) as well as grub-legacy.
    - Fix backslash-escaping in merge_debconf_into_conf.
    - Remove "GNU/Linux" from default distributor string.
    - Add crashkernel= options if kdump and makedumpfile are available.
    - If other operating systems are installed, then automatically unhide
      the menu. Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus
      if available to check whether Shift is pressed. If it is, show the
      menu, otherwise boot immediately. If keystatus is not available, then
      fall back to a short delay interruptible with Escape.
    - Allow Shift to interrupt 'sleep --interruptible'.
    - Don't display introductory message about line editing unless we're
      actually offering a shell prompt. Don't clear the screen just before
      booting if we never drew the menu in the first place.
    - Remove some verbose messages printed before reading the configuration
      file.
    - If the environment variable "quiet" is set to something other than 0,
      suppress progress messages as the kernel and initrd load. Set this for
      non-recovery kernel menu entries.
    - Add GRUB_DEFAULT=saved, as well as grub-set-default and grub-reboot
      utilities. Provides functionality essentially equivalent to GRUB
      Legacy's savedefault.
    - Keep the loopback file open so that subsequent changes to the "root"
      environment variable don't affect it.
    - Change prepare_grub_to_access_device to handle filesystems
      loop-mounted on file images.
    - Ignore devices loop-mounted from files in 10_linux.
    - Show the boot menu if the previous boot failed, that is if it failed
      to get to the end of one of the normal runlevels.
    - Handle RAID devices containing virtio components.
  * Update savedefault patch from current Bazaar branch, fixing grub-reboot
    to have distinct behaviour from grub-set-default (LP: #497326).
  * Fix grub-mkisofs compilation error with FORTIFY_SOURCE.
  * Convert recordfail boilerplate in each menu entry to use a function.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 11 Jan 2010 11:12:55 +0000

grub2 (1.98~20100101-1) unstable; urgency=high

  * New Bazaar snapshot.
    - Fix FTBS on sparc.

  [ Robert Millan ]
  * rules: Auto-update version from debian/changelog.

  [ Felix Zielcke ]
  * Add -O0 to CFLAGS on powerpc to avoid the `_restgpr_31_x in boot is
    not defined' FTBFS.

 -- Felix Zielcke <fzielcke@z-51.de>  Fri, 01 Jan 2010 00:31:37 +0100

grub2 (1.98~20091229-1) unstable; urgency=high

  * New Bazaar snapshot.
    - Fix slowness when $prefix uses an UUID.
      (Closes: #541145, LP: #420933)
    - Correctly set TARGET_CFLAGS. (Closes: #562953)

  [ Robert Millan ]
  * grub-rescue-pc.postinst: Build USB rescue image.
  * rules: Invoke configure with relative path.  This makes binaries smaller,
    since dprintf strings are constructed using this path.

  [ Felix Zielcke ]
  * Urgency=high due to RC bug fix.
  * Fix version comparison in grub-common.preinst for handling obsolete
    /etc/grub.d/10_freebsd. (Closes: #562921)

 -- Felix Zielcke <fzielcke@z-51.de>  Tue, 29 Dec 2009 16:05:00 +0100

grub2 (1.98~20091222-1) unstable; urgency=low

  * New Baazar snapshot.
    - Make 30_os-prober again dash compatible. (Closes: #562034) 

 -- Felix Zielcke <fzielcke@z-51.de>  Tue, 22 Dec 2009 12:50:57 +0100

grub2 (1.98~20091221-1) unstable; urgency=low

  * New Bazaar snapshot.
    - Fix search command failing on some broken BIOSes. (Closes: #530357)

  [ Felix Zielcke ]
  * Add Replaces:/Conflicts: grub-linuxbios to grub-coreboot. (Closes: #561811)
  * Delete obsolete /etc/grub.d/10_freebsd if it has not been modified,
    else disable it. (Closes: #560346)

 -- Robert Millan <rmh.debian@aybabtu.com>  Mon, 21 Dec 2009 22:04:17 +0100

grub2 (1.98~20091210-1) unstable; urgency=low

  * Version bump.

 -- Robert Millan <rmh.debian@aybabtu.com>  Mon, 14 Dec 2009 14:52:59 +0100

grub2 (1.97+20091210-1) unstable; urgency=low

  * New Bazaar snapshot.
    - patches/02_fix_mountpoints_in_mkrelpath.diff: Remove (merged). 
    - Fixes FTBFS on powerpc (again) and sparc.
    - patches/903_grub_legacy_0_based_partitions.diff: Resync (merged into
      debian branch).

  * Fix dpkg dependency for lenny compatibility.

 -- Robert Millan <rmh.debian@aybabtu.com>  Thu, 10 Dec 2009 00:35:20 +0100

grub2 (1.97+20091130-1ubuntu1) lucid; urgency=low

  * Resynchronise with Debian (LP: #485457). Remaining changes:
    + debian/default/grub:
      - Adjust for default Ubuntu boot options.
      - Use GRUB_CMDLINE_LINUX_DEFAULT option to set "quiet splash" for
        default items only.  These options won't be set in single user mode.
      - Default to hiding the menu; holding down Shift at boot will show it.
    + debian/templates.in:
      - Change default value of grub2/linux_cmdline_default to "quiet
        splash".
    + debian/config.in, debian/postinst.in, debian/grub-pc.templates.in:
      - Migrate timeout settings from menu.lst.
    + debian/grub.d/05_debian_theme:
      - Set a monochromatic theme for Ubuntu.
    + debian/legacy/update-grub:
      - Apply Ubuntu branding: title, recovery mode, quiet option, and tweak
        how memtest86+ is displayed.
      - Use UUIDs where appropriate.
    + debian/control:
      - Conflict with grub (<< 0.97-54) as well as grub-legacy.
    + debian/postinst.in:
      - Fix backslash-escaping in merge_debconf_into_conf.
    + debian/patches/03_ubuntu_grub_standards:
      - Remove GNU/Linux from default string.
    + debian/patches/10_crashkernel.patch:
      - Add crashkernel= options if kdump and makedumpfile are available.
    + debian/patches/951_quick_boot.diff:
      - If other operating systems are installed, then automatically unhide
        the menu.
      - Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus if
        available to check whether Shift is pressed. If it is, show the
        menu, otherwise boot immediately. If keystatus is not available,
        then fall back to a short delay interruptible with Escape.
    + debian/patches/952_sleep_shift.diff:
      - Allow Shift to interrupt 'sleep --interruptible'.
    + debian/patches/954_normal_quiet.diff:
      - Don't display introductory message about line editing unless we're
        actually offering a shell prompt. Don't clear the screen just before
        booting if we never drew the menu in the first place.
    + debian/patches/955_really_quiet.diff:
      - Remove some verbose messages printed before reading the
        configuration file.
    + debian/patches/956_linux_quiet.diff:
      - If the environment variable "quiet" is set to something other than
        0, suppress progress messages as the kernel and initrd load. Set
        this for non-recovery kernel menu entries.
    + debian/patches/957_savedefault.diff, debian/rules:
      - Add GRUB_DEFAULT=saved, as well as grub-set-default and grub-reboot
        utilities. Provides functionality essentially equivalent to GRUB
        Legacy's savedefault.
    + debian/patches/959_loopback_root.diff:
      - Keep the loopback file open so that subsequent changes to the "root"
        environment variable don't affect it.
    + debian/patches/961_handle_loopback.diff:
      - Change prepare_grub_to_access_device to handle filesystems
        loop-mounted on file images.
    + debian/patches/963_linux_no_loopmount.diff:
      - Ignore devices loop-mounted from files in 10_linux.
    + debian/patches/965_failed_boot_menu.diff, debian/grub-common.init,
      debian/grub-common.pm-sleep, debian/grub-common.dirs, debian/rules:
      - Show the boot menu if the previous boot failed, that is if it failed
        to get to the end of one of the normal runlevels.
    + debian/patches/968_raid_virtio.diff:
      - Handle RAID devices containing virtio components.
  * debian/patches/957_savedefault.diff: Fix --version output from
    grub-reboot and grub-set-default (see LP #480571).
  * debian/patches/957_savedefault.diff: Cope with /boot being on a separate
    filesystem (LP: #478035).
  * debian/patches/957_savedefault.diff, 965_failed_boot_menu.diff: Use 'set
    var=val' rather than plain 'var=val'.
  * debian/patches/969_format_errors.diff: Fix compilation errors due to
    gettext work.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 07 Dec 2009 20:04:28 +0000

grub2 (1.97+20091130-1) unstable; urgency=low

  * New Bazaar snapshot.
  * Enable ntldr-img from grub-extras.

 -- Robert Millan <rmh.debian@aybabtu.com>  Mon, 30 Nov 2009 02:33:03 +0100

grub2 (1.97+20091125-2) unstable; urgency=low

  [ Updated translations ]
  * Bulgarian (bg.po) by Damyan Ivanovi (Closes: #558039)

  [ Robert Millan ]
  * control: Remove genisoimage from Build-Depends/Suggests (no longer
    used).
  * grub.d/05_debian_theme: Make output string distro-agnostic.

  [ Felix Zielcke ]
  * patches/02_fix_mountpoints_in_mkrelpath.diff: New patch to handle
    mount points like the old shell function did. (Closes: #558042)

 -- Felix Zielcke <fzielcke@z-51.de>  Sun, 29 Nov 2009 21:38:00 +0100

grub2 (1.97+20091125-1) unstable; urgency=low

  [ Robert Millan ]
  * New upstream snapshot.
    - Fixes script parser load error.

  * Add gettext to Build-Depends and gettext-base to grub-common's
    Depends.

 -- Felix Zielcke <fzielcke@z-51.de>  Wed, 25 Nov 2009 19:22:51 +0100

grub2 (1.97+20091124-1) unstable; urgency=low

  * New upstream snapshot.
    - Fix grub-mkisofs related FTBFS on powerpc. (Closes: #557704)
    - Create fake GRUB devices for devices not listed in device.map.
      This also makes dmraid and multipath work as long as
      search --fs-uuid works. (Closes: #442382, #540549, LP: #392136)
    - rules: grub-emu is now built as a port.

  [ Felix Zielcke ]
  * Change the bt-utf-source build dependency to xfonts-unifont. It's
    more complete, better maintained and grub-mkfont supports actually
    more then BDF fonts as input, thanks to libfreetype.
  * Use grub-probe to get the GRUB device of /boot/grub instead of
    passing (hd0) to grub-install when creating the core.img with
    chainloading. This avoids the (UUID=) hack slowness in case
    /boot/grub is on a different disk then (hd0) in device.map.
  * patches/903_grub_legacy_0_based_partitions.diff: Update.
  * Add a build dependency on automake and python.
  * Set TARGET_CC=$(CC) to really use gcc-4.4 everywhere. Also pass it
    and CC as arguments to ./configure instead of env vars so they get
    preserved.
  * Ship grub-mkrelpath in grub-common.
  * Ship the locale files in grub-common.
  * Add a dependency on 'dpkg (>= 1.15.4) | install-info' for grub-common
    as recommended by Policy and lintian.


 -- Felix Zielcke <fzielcke@z-51.de>  Tue, 24 Nov 2009 21:20:00 +0100

grub2 (1.97+20091115-1) unstable; urgency=low

  * New upstream snapshot.
    - Fix security problem with password checking.  (Closes: #555195)
    - Fix the generated GNU/Hurd menu entries and also add support for
      it in 30_os-prober. (Closes: #555188)
    - Same grub-mkrescue for grub-pc and grub-coreboot, used by
      grub-rescue-pc during postinst now. (Closes: #501867)

  [ Felix Zielcke ]
  * Ship grub-mkisofs in grub-common.
  * patches/002_grub.d_freebsd.in.diff: Remove (merged upstream).
  * patches/906_grub_extras.diff: Remove. Superseded by GRUB_CONTRIB variable
    in recent upstream trunk.
  * rules: Export GRUB_CONTRIB to enable grub-extras add-ons.
  * Pass --force to grub-install in the postinst. (Closes: #553415) 
  * Don't strip debug symbols from grub-emu. It's meant for debugging
    and with them it's much more useful.
  * Ship grub-mkfloppy in grub-pc.
  * Revert the Replaces: grub-common to (<= 1.96+20080413-1) on the
    grub-pc package. It was wrongly modified long ago.

  [ Robert Millan ]
  * copyright: Document mkisofs.
  * control: Update Vcs- fields (moved to Bazaar).
  * rules: Update debian/legacy/update-grub rule to Bazaar.

 -- Felix Zielcke <fzielcke@z-51.de>  Sun, 15 Nov 2009 19:13:31 +0100

grub2 (1.97-1) unstable; urgency=low

  [ Robert Millan ]
  * patches/905_setup_force.diff: Remove, no longer needed as of
    grub-installer >= 1.47.
  * grub.d/05_debian_theme: Attempt to source grub_background.sh from
    desktop-base (Needed for #495282, #495616, #500134, see also
    #550984).

  [ Felix Zielcke ]
  * Add a build dependency on texinfo.
  * Fix little typo in /etc/default/grub. (LP: #457703)

  [ Updated translations ]
  * Finnish (fi.po) by Esko Arajärvi. (Closes: #551912)

 -- Felix Zielcke <fzielcke@z-51.de>  Sun, 25 Oct 2009 19:50:21 +0100

grub2 (1.97~beta4-1ubuntu4) karmic-proposed; urgency=low

  * New patch, 969_os_prober_separate_boot, fixes wrong kernel/initrd
    pathnames and wrong partition UUID/GRUB path when generating menuentries
    from os-prober output of a detected system with a separate /boot; thanks
    Colin Watson; LP: #462961.

 -- Loïc Minier <loic.minier@ubuntu.com>  Thu, 29 Oct 2009 02:30:35 +0000

grub2 (1.97~beta4-1ubuntu3) karmic; urgency=low

  * Backport from Debian (Felix Zielcke):
    - Add a build dependency on texinfo (LP: #453442).
  * debian/patches/968_raid_virtio.diff: Handle RAID devices containing
    virtio components (LP: #457687).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 23 Oct 2009 21:58:13 +0100

grub2 (1.97~beta4-1ubuntu2) karmic; urgency=low

  * debian/patches/967_no_mmx_sse.diff: Build with -mno-mmx -mno-sse
    -mno-sse2 on i386/lpia, since otherwise lpia is unbootable (LP:
    #444562).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 16 Oct 2009 16:31:12 +0100

grub2 (1.97~beta4-1ubuntu1) karmic; urgency=low

  * Resynchronise with Debian. Remaining changes:
    + debian/default/grub:
      - Adjust for default Ubuntu boot options.
      - Use GRUB_CMDLINE_LINUX_DEFAULT option to set "quiet splash" for
        default items only.  These options won't be set in single user mode.
      - Default to hiding the menu; holding down Shift at boot will show it.
    + debian/templates.in:
      - Change default value of grub2/linux_cmdline_default to "quiet
        splash".
    + debian/config.in, debian/postinst.in, debian/grub-pc.templates.in:
      - Migrate timeout settings from menu.lst.
    + debian/grub.d/05_debian_theme:
      - Set a monochromatic theme for Ubuntu.
    + debian/legacy/update-grub:
      - Apply Ubuntu branding: title, recovery mode, quiet option, and tweak
        how memtest86+ is displayed.
      - Use UUIDs where appropriate.
    + debian/control:
      - Conflict with grub (<< 0.97-54) as well as grub-legacy.
    + debian/patches/03_ubuntu_grub_standards:
      - Remove GNU/Linux from default string.
    + debian/patches/10_crashkernel.patch:
      - Add crashkernel= options if kdump and makedumpfile are available.
    + debian/patches/951_quick_boot.diff:
      - If other operating systems are installed, then automatically unhide
        the menu.
      - Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus if
        available to check whether Shift is pressed. If it is, show the
        menu, otherwise boot immediately. If keystatus is not available,
        then fall back to a short delay interruptible with Escape.
    + debian/patches/952_sleep_shift.diff:
      - Allow Shift to interrupt 'sleep --interruptible'.
    + debian/patches/954_normal_quiet.diff:
      - Don't display introductory message about line editing unless we're
        actually offering a shell prompt. Don't clear the screen just before
        booting if we never drew the menu in the first place.
    + debian/patches/955_really_quiet.diff:
      - Remove some verbose messages printed before reading the
        configuration file.
    + debian/patches/956_linux_quiet.diff:
      - If the environment variable "quiet" is set to something other than
        0, suppress progress messages as the kernel and initrd load. Set
        this for non-recovery kernel menu entries.
    + debian/patches/957_savedefault.diff, debian/rules:
      - Add GRUB_DEFAULT=saved, as well as grub-set-default and grub-reboot
        utilities. Provides functionality essentially equivalent to GRUB
        Legacy's savedefault.
    + debian/patches/959_loopback_root.diff:
      - Keep the loopback file open so that subsequent changes to the "root"
        environment variable don't affect it.
    + debian/patches/961_handle_loopback.diff:
      - Change prepare_grub_to_access_device to handle filesystems
        loop-mounted on file images.
    + debian/patches/963_linux_no_loopmount.diff:
      - Ignore devices loop-mounted from files in 10_linux.
    + debian/patches/965_failed_boot_menu.diff, debian/grub-common.init,
      debian/rules:
      - Show the boot menu if the previous boot failed, that is if it failed
        to get to the end of one of the normal runlevels.
  * debian/patches/957_savedefault.diff,
    debian/patches/965_failed_boot_menu.diff: Silently ignore zero-sized
    environment blocks (thanks, Felix Zielcke; LP: #439784).
  * debian/grub-common.pm-sleep, debian/grub-common.dirs, debian/rules:
    Record a successful boot on resume from hibernate (thanks, Maxim
    Levitsky; LP: #447725).
  * debian/postinst.in: Fix backslash-escaping in merge_debconf_into_conf
    (LP: #448413).
  * debian/patches/966_mkconfig_probe_option.diff: Backport upstream patch
    to make the grub-install --grub-probe option work, which is useful for
    vm-builder.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 14 Oct 2009 12:07:42 +0100

grub2 (1.97~beta4-1) unstable; urgency=low

  * New upstream beta release.

  [ Felix Zielcke ]
  * Change the Recommends: os-prober to (>= 1.33).
  * patches/907_grub.cfg_400.diff: Really add it. Somehow it was a 0 byte file.
    (Closes: #547409)
  * Convert newlines back to spaces when parsing kopt from
    GRUB Legacy's menu.lst, before giving the value to Debconf.
    Thanks to Colin Watson. (Closes: #547649)
  * Ship the info docs in grub-common. (Closes: #484074)
  * Remove generated /usr/share/info/dir* files.
  * Update the presubj bug file and also install it for grub-common.

  [ Robert Millan ]
  * Enable ZFS and 915resolution in grub-extras (now requires explicit
    switch).
  * grub-common conflicts with grub-doc (<< 0.97-32) and grub-legacy-doc
    (<< 0.97-59).
  * Move grub-emu to a separate package.

  [ Updated translations ]
  * Japanese (ja.po) by Hideki Yamane. (Closes: #549599)

 -- Robert Millan <rmh.debian@aybabtu.com>  Mon, 05 Oct 2009 20:03:04 +0200

grub2 (1.97~beta3-1ubuntu8) karmic; urgency=low

  [ Colin Watson ]
  * debian/control: Conflict with grub (<< 0.97-54) as well as grub-legacy
    (see LP #410886).
  * debian/grub-common.init: Create /boot/grub if it doesn't exist, to avoid
    noise on fresh installations.

  [ Tormod Volden ]
  * debian/grub-common.init: do not call log_end_msg if not VERBOSE
    (LP: #440879)

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 06 Oct 2009 23:32:54 +0100

grub2 (1.97~beta3-1ubuntu7) karmic; urgency=low

  * debian/grub-common.init: /boot/grub/grubenv sometimes seems to end up
    zero-sized for some reason. If it is, just delete it (LP: #439784).

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 04 Oct 2009 21:52:10 +0100

grub2 (1.97~beta3-1ubuntu6) karmic; urgency=low

  * debian/patches/965_failed_boot_menu.diff, debian/grub-common.init,
    debian/rules: Show the boot menu if the previous boot failed, that is if
    it failed to get to the end of one of the normal runlevels.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 28 Sep 2009 09:29:34 +0100

grub2 (1.97~beta3-1ubuntu5) karmic; urgency=low

  * debian/patches/957_savedefault.diff: Quote the value assigned to
    'default', in case it contains spaces (LP: #431179).
  * debian/patches/964_os-prober_errors.diff: Don't throw away errors from
    os-prober; it makes things hard to debug.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 18 Sep 2009 18:47:06 +0100

grub2 (1.97~beta3-1ubuntu4) karmic; urgency=low

  * debian/patches/963_linux_no_loopmount.diff: Ignore devices loop-mounted
    from files in 10_linux.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 16 Sep 2009 17:46:10 +0100

grub2 (1.97~beta3-1ubuntu3) karmic; urgency=low

  * debian/patches/962_os-prober_windows_7.diff: Cope with Windows 7 in
    os-prober output.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 15 Sep 2009 06:48:13 +0100

grub2 (1.97~beta3-1ubuntu2) karmic; urgency=low

  * debian/config.in: Fix logic if GRUB_HIDDEN_TIMEOUT is entirely missing
    from /etc/default/grub.
  * debian/patches/961_handle_loopback.diff: Change
    prepare_grub_to_access_device to handle filesystems loop-mounted on file
    images.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 15 Sep 2009 00:34:11 +0100

grub2 (1.97~beta3-1ubuntu1) karmic; urgency=low

  * Resynchronise with Debian. Remaining changes:
    + debian/default/grub:
      - Adjust for default Ubuntu boot options.
      - Use GRUB_CMDLINE_LINUX_DEFAULT option to set "quiet splash" for
        default items only.  These options won't be set in single user mode.
      - Default to hiding the menu; holding down Shift at boot will show it.
    + debian/templates.in:
      - Change default value of grub2/linux_cmdline_default to "quiet
        splash".
    + debian/config.in, debian/postinst.in, debian/grub-pc.templates.in:
      - Migrate timeout settings from menu.lst.
    + debian/grub.d/05_debian_theme:
      - Set a monochromatic theme for Ubuntu.
    + debian/legacy/update-grub:
      - Apply Ubuntu branding: title, recovery mode, quiet option, and tweak
        how memtest86+ is displayed.
      - Use UUIDs where appropriate.
    + debian/patches/03_ubuntu_grub_standards:
      - Remove GNU/Linux from default string.
    + debian/patches/10_crashkernel.patch:
      - Add crashkernel= options if kdump and makedumpfile are available.
    + debian/patches/951_quick_boot.diff:
      - If other operating systems are installed, then automatically unhide
        the menu.
      - Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus if
        available to check whether Shift is pressed. If it is, show the
        menu, otherwise boot immediately. If keystatus is not available,
        then fall back to a short delay interruptible with Escape.
    + debian/patches/952_sleep_shift.diff:
      - Allow Shift to interrupt 'sleep --interruptible'.
    + debian/patches/954_normal_quiet.diff:
      - Don't display introductory message about line editing unless we're
        actually offering a shell prompt. Don't clear the screen just before
        booting if we never drew the menu in the first place.
    + debian/patches/955_really_quiet.diff:
      - Remove some verbose messages printed before reading the
        configuration file.
    + debian/patches/956_linux_quiet.diff:
      - If the environment variable "quiet" is set to something other than
        0, suppress progress messages as the kernel and initrd load. Set
        this for non-recovery kernel menu entries.
    + debian/patches/957_savedefault.diff, debian/rules:
      - Add GRUB_DEFAULT=saved, as well as grub-set-default and grub-reboot
        utilities. Provides functionality essentially equivalent to GRUB
        Legacy's savedefault.
    + debian/patches/959_loopback_root.diff:
      - Keep the loopback file open so that subsequent changes to the "root"
        environment variable don't affect it.
  * debian/patches/960_test_invalid_fs.diff: Fix test crash if loopback
    device does not contain a filesystem.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 14 Sep 2009 10:52:59 +0100

grub2 (1.97~beta3-1) unstable; urgency=high

  * New upstream beta release.
    - Make it more clear how to use /etc/grub.d/40_custom. (Closes: #545153)
    - fix a serious memory corruption in the graphical subsystem.
      (Closes: #545364, #544155, #544639, #544822, LP: #424503)
    - patches/003_grub_probe_segfault.diff: Remove (merged).

  * Change the watch file so upstream beta releases are recognized.
  * Include /etc/default/grub in bug reports.
  * Recommend os-prober (>= 1.32). (Closes: #491872)
  * Change the gcc-multilib [sparc] build dependency to gcc-4.4-multilib
    [sparc].
  * patches/907_grub.cfg_400.diff: New patch to make grub.cfg again mode
    444 if it does not contain a password line.
  * Use `su' in the bug reporting script to read grub.cfg in case the user
    is not allowed to read it.
  * Readd grub-pc/kopt-extracted template.

  [ Updated translations ]
  * Brazilian Portuguese (pt_BR.po) by Flamarion Jorge.
  * Japanese (ja.po) by Hideki Yamane. (Closes: #545331)
  * Spanish (es.po) by Francisco Javier Cuadrado. (Closes: #545566)
  * Italian (it.po) by Luca Monducci. (Closes: #546035)

 -- Felix Zielcke <fzielcke@z-51.de>  Sat, 12 Sep 2009 15:28:20 +0200

grub2 (1.97~beta2-2ubuntu2) karmic; urgency=low

  * debian/patches/951_quick_boot.diff: Only do the hidden-timeout checks if
    timeout is not already set to -1 (i.e. show menu, no timeout).
  * debian/patches/954_normal_quiet.diff: Don't clear the screen just before
    booting if we never drew the menu in the first place.
  * debian/patches/955_really_quiet.diff: Remove "Booting" message; it turns
    out to be hard to suppress any other way.
  * debian/patches/956_linux_quiet.diff: Don't try to suppress "Booting"
    based on the value of "quiet", as the menu entry commands aren't run
    until after this message.
  * debian/patches/958_ntfs_64bit.diff: Handle 64-bit file sizes in NTFS.
  * debian/patches/959_loopback_root.diff: Keep the loopback file open so
    that subsequent changes to the "root" environment variable don't affect
    it.
  * debian/config.in, debian/postinst.in, debian/grub-pc.templates.in:
    Migrate timeout settings from menu.lst (LP: #386789).
  * debian/grub-pc.templates.in: Add grub-pc/kopt_extracted template.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 11 Sep 2009 15:40:38 +0100

grub2 (1.97~beta2-2ubuntu1) karmic; urgency=low

  * Resynchronise with Debian. Remaining changes:
    + debian/control:
      - Recommend rather than Suggest os-prober.
    + debian/default/grub:
      - Adjust for default Ubuntu boot options.
      - Use GRUB_CMDLINE_LINUX_DEFAULT option to set "quiet splash" for
        default items only.  These options won't be set in single user mode.
      - Default to hiding the menu; holding down Shift at boot will show it.
    + debian/templates.in:
      - Change default value of grub2/linux_cmdline_default to "quiet
        splash".
    + debian/grub.d/05_debian_theme:
      - Set a monochromatic theme for Ubuntu.
    + debian/legacy/update-grub:
      - Apply Ubuntu branding: title, recovery mode, quiet option, and tweak
        how memtest86+ is displayed.
      - Use UUIDs where appropriate.
    + debian/patches/03_ubuntu_grub_standards:
      - Remove GNU/Linux from default string.
    + debian/patches/10_crashkernel.patch:
      - Add crashkernel= options if kdump and makedumpfile are available.
    + debian/patches/951_quick_boot.diff:
      - If other operating systems are installed, then automatically unhide
        the menu.
      - Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus if
        available to check whether Shift is pressed. If it is, show the
        menu, otherwise boot immediately. If keystatus is not available,
        then fall back to a short delay interruptible with Escape.
    + debian/patches/952_sleep_shift.diff:
      - Allow Shift to interrupt 'sleep --interruptible'.
    + debian/patches/954_normal_quiet.diff:
      - Don't display introductory message about line editing unless we're
        actually offering a shell prompt.
    + debian/patches/955_really_quiet.diff:
      - Remove some verbose messages printed before reading the
        configuration file.
    + debian/patches/956_linux_quiet.diff:
      - If the environment variable "quiet" is set to something other than
        0, suppress progress messages as the kernel and initrd load. Set
        this for non-recovery kernel menu entries.
    + debian/patches/957_savedefault.diff, debian/rules:
      - Add GRUB_DEFAULT=saved, as well as grub-set-default and grub-reboot
        utilities. Provides functionality essentially equivalent to GRUB
        Legacy's savedefault.
  * Drop 953_no_eh_frame.diff, merged upstream.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 07 Sep 2009 13:33:12 +0100

grub2 (1.97~beta2-2) unstable; urgency=low

  [ Updated translations ]
  * Dutch (nl.po) by Paul Gevers. (Closes: #545050)

  [ Felix Zielcke ]
  * Move GRUB Legacy's grub-set-default to /usr/lib/grub-legacy in
    preparation for GRUB 2's grub-set-default.
  * Remove password lines in bug script.

  [ Robert Millan ]
  * Do not conflict with `grub' dummy package (this prevented upgrades).
  * patches/003_grub_probe_segfault.diff: Disable file test codepath, which
    wasn't normally used before.

 -- Felix Zielcke <fzielcke@z-51.de>  Sat, 05 Sep 2009 00:27:22 +0200

grub2 (1.97~beta2-1) unstable; urgency=low

  * New upstream beta release.
    - Fix loading of FreeBSD modules. (Closes: #544305)

  [ Updated translations ]
  * French (fr.po) by Christian Perrier. (Closes: #544320)
  * Czech (cs.po) by Miroslav Kure. (Closes: #544327)
  * Belarusian (be.po) by Hleb Rubanau.
  * Arabic (ar.po) by Ossama M. Khayat.
  * Catalan (ca.po) by Juan Andrés Gimeno Crespo.
  * Russian (ru.po) by Yuri Kozlov. (Closes: #544730)
  * Swedish (sv.po) by Martin Ågren. (Closes: #544759)
  * Brazilian Portuguese (pt_BR.po) by Flamarion Jorge. (Closes: #544810)
  * German (de.po) by Helge Kreutzmann. (Closes: #544912)

  [ Robert Millan ]
  * Build with GCC 4.4.

 -- Robert Millan <rmh.debian@aybabtu.com>  Fri, 04 Sep 2009 14:40:20 +0200

grub2 (1.97~beta1-1ubuntu4) karmic; urgency=low

  * Move grub-reboot and grub-set-default to grub-$platform, since
    grub-common is also used by GRUB Legacy (LP: #424425).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 04 Sep 2009 17:54:10 +0100

grub2 (1.97~beta1-1ubuntu3) karmic; urgency=low

  * Restore legacy version of grub-set-default, now moved to
    /usr/lib/grub-legacy.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 04 Sep 2009 15:35:19 +0100

grub2 (1.97~beta1-1ubuntu2) karmic; urgency=low

  * debian/patches/953_no_eh_frame.diff: Build with -fno-dwarf2-cfi-asm to
    stop gcc-4.4 generating .eh_frame sections that cause core.img to be too
    big to embed in some common cases (LP: #423412).
  * debian/patches/954_normal_quiet.diff: Don't display introductory message
    about line editing unless we're actually offering a shell prompt.
  * debian/patches/955_really_quiet.diff: Remove some verbose messages
    printed before reading the configuration file. In some ways this is
    awkward because it makes debugging harder, but it's a requirement for a
    smooth-looking boot process; we may be able to do better in future (LP:
    #386922).
  * debian/patches/956_linux_quiet.diff: If the environment variable "quiet"
    is set to something other than 0, suppress progress messages as the
    kernel and initrd load. Set this for non-recovery kernel menu entries
    (LP: #386922).
  * debian/patches/957_savedefault.diff: Add GRUB_DEFAULT=saved, as well as
    grub-set-default and grub-reboot utilities. Provides functionality
    essentially equivalent to GRUB Legacy's savedefault (LP: #216178).
  * debian/rules, debian/grub-pc.install.in: Install grub-reboot and
    grub-set-default only in grub-common.
  * Add tag information to old Ubuntu patches.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 04 Sep 2009 15:02:36 +0100

grub2 (1.97~beta1-1ubuntu1) karmic; urgency=low

  * Resynchronise with Debian. Remaining changes:
    + debian/control:
      - Recommend rather than Suggest os-prober.
    + debian/default/grub:
      - Adjust for default Ubuntu boot options.
      - Use GRUB_CMDLINE_LINUX_DEFAULT option to set "quiet splash" for
        default items only.  These options won't be set in single user mode.
      - Default to hiding the menu; holding down Shift at boot will show it.
    + debian/templates.in:
      - Change default value of grub2/linux_cmdline_default to "quiet
        splash".
    + debian/grub.d/05_debian_theme:
      - Set a monochromatic theme for Ubuntu.
    + debian/legacy/update-grub:
      - Apply Ubuntu branding: title, recovery mode, quiet option, and tweak
        how memtest86+ is displayed.
      - Use UUIDs where appropriate.
    + debian/patches/03_ubuntu_grub_standards:
      - Remove GNU/Linux from default string.
    + debian/patches/10_crashkernel.patch:
      - Add crashkernel= options if kdump and makedumpfile are available.
    + debian/patches/951_quick_boot.diff:
      - If other operating systems are installed, then automatically unhide
        the menu.
      - Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus if
        available to check whether Shift is pressed. If it is, show the
        menu, otherwise boot immediately. If keystatus is not available,
        then fall back to a short delay interruptible with Escape.
    + debian/patches/952_sleep_shift.diff:
      - Allow Shift to interrupt 'sleep --interruptible'.
  * Drop 950_getkeystatus.diff, merged upstream.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 01 Sep 2009 17:37:19 +0100

grub2 (1.97~beta1-1) unstable; urgency=low

  * New upstream beta release.

  [ Updated translations ]
  * German (de.po) by Helge Kreutzmann. (Closes: #544261)
  * Asturian (ast.po) by Marcos.
  * Georgian (ka.po) by Aiet Kolkhi.

  [ Robert Millan ]
  * Merge config, templates, postinst, postrm, dirs and install files
    into a single source.
  * Disable Linux-specific strings on GNU/kFreeBSD.  Enable translations
    in grub2/linux_cmdline_default.  Add grub2/kfreebsd_* strings (still
    unused).

 -- Felix Zielcke <fzielcke@z-51.de>  Sun, 30 Aug 2009 18:01:40 +0200

grub2 (1.96+20090829-1) unstable; urgency=low

  * New SVN snapshot.
    - Fix filesystem mapping on GNU/kFreeBSD.  (Closes: #543950)

  * New grub-extras SVN snapshot.
    - Add 915resolution support to the GMA500 (poulsbo) graphics chipset.
      Thanks to Pedro Bulach Gapski. (Closes: #543917)

  * Use `cp -p' to copy /usr/share/grub/default/grub to the temporary
    file to preverse permissions.
  * Remove also efiemu files from /boot/grub on purge if requested.
  * Check that GRUB_CMDLINE_LINUX and GRUB_CMDLINUX_LINUX_DEFAULT is at
    the start of line in *.postinst.
  * Don't check that $GRUB_CMDLINE_LINUX{,DEFAULT} are non empty strings
    in *.config.
  * Add empty GRUB_CMDLINE_LINUX to /usr/share/grub/default/grub.
  * Factorise the editing of the temporary file. Thanks to Martin F
    Krafft.
  * Read in /etc/default/grub in *.config files.

  [ Updated translations ]
  * French (fr.po) by Christian Perrier. (Closes: #544023)
  * Russian (ru.po) by Yuri Kozlov. (Closes: #544077)
  * Italian (it.po) by Luca Monducci. (Closes: #544200)

 -- Felix Zielcke <fzielcke@z-51.de>  Sat, 29 Aug 2009 17:01:17 +0200

grub2 (1.96+20090826-3ubuntu3) karmic; urgency=low

  * 951_quick_boot.diff: Always initialise timeout from GRUB_TIMEOUT,
    otherwise there'll be no timeout when other operating systems are
    installed.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 27 Aug 2009 14:13:03 +0100

grub2 (1.96+20090826-3ubuntu2) karmic; urgency=low

  * 952_sleep_shift.patch: New patch. Allow Shift to interrupt 'sleep
    --interruptible', for consistency with the quick-boot scheme.
  * debian/*.templates: Change default value of grub2/linux_cmdline_default
    to 'quiet splash', to match debian/default/grub.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 27 Aug 2009 11:29:24 +0100

grub2 (1.96+20090826-3ubuntu1) karmic; urgency=low

  * Resynchronise with Debian (LP: #413151). Remaining changes:
    + debian/control:
      - Recommend rather than Suggest os-prober.
    + debian/default/grub:
      - Adjust for default Ubuntu boot options.
      - Use GRUB_CMDLINE_LINUX_DEFAULT option to set "quiet splash" for
        default items only.  These options won't be set in single user mode.
      - Default to hiding the menu with a three-second timeout. Pressing
        Escape during this time will show the menu.
    + debian/grub.d/05_debian_theme:
      - Set a monochromatic theme for Ubuntu.
    + debian/legacy/update-grub:
      - Apply Ubuntu branding: title, recovery mode, quiet option, and tweak
        how memtest86+ is displayed.
      - Use UUIDs where appropriate.
    + debian/patches/03_ubuntu_grub_standards:
      - Remove GNU/Linux from default string.
    + debian/patches/10_crashkernel.patch:
      - add crashkernel= options if kdump and makedumpfile
        is available (part of the kernel-crashdump spec)
  * Drop 950_hidden_timeout.diff, merged upstream.
  * Drop 951_gfxpayload_keep.diff. It doesn't make as much sense as I
    thought, and it needs better kernel support anyway.
  * 950_getkeystatus.diff: New patch. Add getkeystatus terminal method, and
    add a new keystatus command to query it.
  * 951_quick_boot.diff: New patch:
    - If other operating systems are installed, then automatically unhide
      the menu (LP: #411584).
    - Otherwise, if GRUB_HIDDEN_TIMEOUT is 0, then use keystatus if
      available to check whether Shift is pressed. If it is, show the menu,
      otherwise boot immediately. If keystatus is not available, then fall
      back to a short delay interruptible with Escape.
  * debian/default/grub: Adjust defaults to match new quick-boot code.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 27 Aug 2009 00:35:22 +0100

grub2 (1.96+20090826-3) unstable; urgency=low

  * Add missing quotes in grub-pc.config and *.postinst.

 -- Felix Zielcke <fzielcke@z-51.de>  Wed, 26 Aug 2009 19:14:23 +0200

grub2 (1.96+20090826-2) unstable; urgency=low

  * Really use the correct templates in grub-pc.config. ARGS.

 -- Felix Zielcke <fzielcke@z-51.de>  Wed, 26 Aug 2009 14:10:41 +0200

grub2 (1.96+20090826-1) unstable; urgency=low

  * New SVN snapshot.

  * Use the right templates in grub-pc.config. (Closes: #543615)

 -- Felix Zielcke <fzielcke@z-51.de>  Wed, 26 Aug 2009 11:00:36 +0200

grub2 (1.96+20090825-1) unstable; urgency=low

  * New SVN snapshot.
    - Enable gfxterm only if there's a suitable video backend and don't
      print an error if not. (Closes: #520846)

  [ Felix Zielcke ]
  * Copy unicode.pf2 instead of ascii.pf2 to /boot/grub in grub-pc
    postinst (Closes: #542314).
  * Update Standards version to 3.8.3.
  * Use DEB_HOST_ARCH_CPU for the generation of the lintian overrides.
  * Fix calling the grub-pc/postrm_purge_boot_grub template in
    grub-pc.postinst.
  * Handle GRUB_CMDLINE_LINUX and GRUB_CMDLINE_LINUX_DEFAULT via
    debconf. Thanks to Martin F. Krafft and Colin Watson for idea and
    hints.
  * Use ucfr --force when /etc/default/grub is registered to a grub-* package.
  * Use #!/bin/sh in *.config and fix a small bashism in grub-pc.config.

  [ Robert Millan ]
  * patches/907_terminal_output_workaround.diff: Remove.  It seems that
    it wasn't really necessary.
  * grub-pc.postinst: Avoid printing an error if /etc/kernel-img.conf
    doesn't exist, because it is misleading.  We simply refrain from
    fixing it and move along.
  * grub-pc.postinst: Don't schedule generation of grub.cfg via "grub-install"
    code path unless we actually run grub-install.
  * grub-pc.postinst: Only copy unicode.pf2 and moreblue-orbit-grub.png when
    /boot/grub/grub.cfg is scheduled to be generated.
  * legacy/upgrade-from-grub-legacy: Reset grub-pc/install_devices.
    Thanks Colin Watson.  (Closes: #541230)

 -- Felix Zielcke <fzielcke@z-51.de>  Tue, 25 Aug 2009 21:45:24 +0200

grub2 (1.96+20090808-1) unstable; urgency=low

  * New SVN snapshot.
    - Fix XFS with inode size different then 256. (Closes: #528761)
    - Add support for multiple LVM metadata areas. (LP: #408580)
    - patches/008_dac_palette_width.diff: Remove. (merged)
    - Prefer unicode over ascii font. (LP: #352034)

  [ Felix Zielcke ]
  * Fix the generation of the lintian override for efiemu64.o.
  * Remove the Conflicts dmsetup.
  * Use ?= for setting DEB_HOST_ARCH.
  * Document GRUB_DISABLE_LINUX_RECOVERY in /etc/default/grub.
    (Closes: #476536 LP: #190207)
  * Add docs/grub.cfg to examples.
  * patches/01_uuids_and_lvm_dont_play_along_nicely.diff: Updated to
    also disable UUIDs on LVM over RAID.
  * Add a debconf prompt to remove all grub2 files from /boot/grub on
    purge. (Closes: #527068, #470400)
  * Move the Suggests: os-prober from grub-pc to grub-common. 
  * patches/901_dpkg_version_comparison.diff: Updated.
  * Update the Replaces on grub-common for the other packages to (<<
    1.96+20080831-1). (Closes: #540492)

  [ Robert Millan ]
  * Reorganize grub-pc.{config,postinst} logic.  The idea being that if there's
    no trace of GRUB Legacy, the grub-pc/install_devices template will be
    shown even if this is the first install.
  * When setting grub-pc/install_devices, obtain input dynamically from
    grub-mkdevicemap (rather than devices.map). (Closes: #535525)
  * Add a note to grub-pc/install_devices template that it's also possible
    to install GRUB to a partition boot record.
  * patches/002_grub.d_freebsd.in.diff: New patch.  Reimplement
    10_freebsd.in to handle multiple kernel versions & acpi.ko.

 -- Robert Millan <rmh.debian@aybabtu.com>  Mon, 10 Aug 2009 18:49:52 +0200

grub2 (1.96+20090725-1ubuntu2) karmic; urgency=low

  * 950_hidden_timeout.diff: New patch. Add GRUB_HIDDEN_TIMEOUT support.
    Move the timeout setting to the end so that the sleep comes after
    terminal setup.
  * debian/default/grub: Default to hiding the menu with a three-second
    timeout. Pressing Escape during this time will show the menu.
    grub-installer will unhide it if other operating systems are installed.
  * debian/grub.d/05_debian_theme: Set a monochromatic theme for Ubuntu.
  * 951_gfxpayload_keep.diff: New patch. If gfxpayload starts with "keep" or
    if GRUB_ASSUME_LINUX_HAS_FB_SUPPORT is defined, then tell Linux to use
    the current video mode.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 10 Aug 2009 13:08:21 +0100

grub2 (1.96+20090725-1ubuntu1) karmic; urgency=low

  * New upstream version.
    + Fixes offering Windows (LP: #402795)
    + Fixes Vista/Win7 fails to boot (LP: #402154)
    + Fixes installation onto VFAT (LP: #401971)
  * Merge from debian unstable, remaining changes:
    + debian/control:
      - Depend on rather than Suggest os-prober; Ubuntu version does not
        suffer from the mount problem that prevents Debian from marking this
        Depends.
    + debian/default/grub:
      - Adjust for default Ubuntu boot options.
      - Use new GRUB_CMDLINE_LINUX_DEFAULT option to set "quiet splash" for
        default items only.  These options won't be set in single user mode.
    + debian/legacy/update-grub:
      - Apply Ubuntu branding: title, recovery mode, quiet option, and tweak
        how memtest86+ is displayed.
      - Use UUIDs where appropriate.
    + debian/patches/03_ubuntu_grub_standards:
      - Remove GNU/Linux from default string.
    + debian/patches/10_crashkernel.patch:
      - add crashkernel= options if kdump and makedumpfile
        is available (part of the kernel-crashdump spec)
  * Update 10_crashkernel.patch for changes upstream.
  * Drop 999_os-prober_drivemap_root.diff, upstream.

 -- Mario Limonciello <mario_limonciello@dell.com>  Thu, 30 Jul 2009 12:41:19 -0500

grub2 (1.96+20090725-1) unstable; urgency=high

  * New SVN snapshot.
    - Don't add drivemap call with Windows Vista/7. It breaks Win 7.
      (LP: #402154)

  [ Felix Zielcke ]
  * Don't build grub-efi-amd64 on hurd-i386.
  * Change DEB_BUILD_ARCH to DEB_HOST_ARCH in the check for sparc.
  * Don't add the lintian override for kernel.img for sparc and grub-pc.
  * Add a lintian override for binary-from-other-architecture for
    grub-efi-amd64 and grub-pc on i386.
  * Use wildcards in the lintian overrides.
  * Add a Conflicts/Replaces for all packages except grub-common.
    (Closes: #538177)

  [ Robert Millan ]
  * 008_dac_palette_width.diff: New patch.  Fix blank screen when booting
    Linux with vga= parameter set to a packed color mode (<= 8-bit).
    (Closes: #535026)
  * Set urgency=high because #535026 affects 1.96+20090709-1 which is in
    testing now.
  * patches/907_terminal_output_workaround.diff: Work around recent regression
    with terminal_output command (not critical, just breaks gfxterm).

 -- Robert Millan <rmh.debian@aybabtu.com>  Sat, 25 Jul 2009 19:00:53 +0200

grub2 (1.96+20090721-4) unstable; urgency=low

  * Place grub-ofpathname only in grub-common. (Closes: #537999)

 -- Felix Zielcke <fzielcke@z-51.de>  Wed, 22 Jul 2009 13:38:24 +0200

grub2 (1.96+20090721-3) unstable; urgency=low

  * Don't strip kernel.img on sparc.
  * Suggest efibootmgr on grub-efi-{amd64,ia32}.
  * Pass --disable-grub-fstest to configure. (Closes: #537897)

 -- Felix Zielcke <fzielcke@z-51.de>  Tue, 21 Jul 2009 21:46:01 +0200

grub2 (1.96+20090721-2) unstable; urgency=low

  * Add back Conflicts/Replaces grub.

 -- Felix Zielcke <fzielcke@z-51.de>  Tue, 21 Jul 2009 11:24:45 +0200

grub2 (1.96+20090721-1) unstable; urgency=low

  * New SVN snapshot.

  * Change License of my update-grub(8) and update-grub2(8) manpages to
    GPL3+ to match new copyright file.
  * Merge from Ubuntu: Don't build grub-efi-amd64 on lpia.
  * Don't pass `--enable-efiemu' to configure. On kfreebsd-i386 it won't
    compile and it should be now auto detected if it's compilable.
    (Closes: #536783)
  * Don't build grub-efi-amd64 on kfreebsd-i386. It lacks 64bit compiler
    support.
  * Rename the lintian override for kernel.elf to kernel.img.
  * Strip kernel.img not kernel.elf, but not in the case of grub-pc.
  * Rename the Conflicts/Replaces grub to grub-legacy. (Closes: #537824)

 -- Felix Zielcke <fzielcke@z-51.de>  Tue, 21 Jul 2009 10:50:20 +0200

grub2 (1.96+20090709-1) unstable; urgency=low

  * New SVN snapshot.

  * control (Build-Depends): Add gcc-multilib [sparc].
  * copyright: Rewrite using DEP-5 format.
  * Merge grub-extras into the package, and integrate it with GRUB's
    build system.
    - patches/906_grub_extras.diff
    - rules
    - copyright

 -- Robert Millan <rmh.debian@aybabtu.com>  Thu, 09 Jul 2009 00:26:49 +0200

grub2 (1.96+20090702-1) unstable; urgency=low

  * New SVN snapshot.
  * rules: Remove duplicated files in sparc64-ieee1275 port.
  * rules: Comment out -DGRUB_ASSUME_LINUX_HAS_FB_SUPPORT=1 setting.  We'll
    re-evaluate using it when it's more mature.  (Closes: #535026).

 -- Robert Millan <rmh.debian@aybabtu.com>  Thu, 02 Jul 2009 13:23:51 +0200

grub2 (1.96+20090629-1) unstable; urgency=low

  * New SVN snapshot.
    - Misc fixes in Linux loader.

  * control (grub-firmware-qemu): Make it buildable only on i386/amd64.
  * control: Add sparc (grub-ieee1275), remove remnants of ppc64.
  * rules: Include all modules in grub-firmware-qemu build.

 -- Robert Millan <rmh.debian@aybabtu.com>  Mon, 29 Jun 2009 19:22:37 +0200

grub2 (1.96+20090628-1) unstable; urgency=low

  * New SVN snapshot.
  * Re-enable QEMU port.

 -- Robert Millan <rmh.debian@aybabtu.com>  Sun, 28 Jun 2009 01:11:10 +0200

grub2 (1.96+20090627-2) unstable; urgency=low

  * Disable QEMU port untill it goes through NEW.
  * Upload to unstable.

 -- Robert Millan <rmh.debian@aybabtu.com>  Sat, 27 Jun 2009 18:40:17 +0200

grub2 (1.96+20090627-1) experimental; urgency=low

  * New SVN snapshot.
    - Fix parsing of --output in grub-mkconfig. (Closes: #532956)

  [ Felix Zielcke ]
  * Use ucfr --force in grub-ieee1275.postinst in case we're upgrading
    from previous version. It registered /etc/default/grub wrongly with
    package iee1275.
  * Drop the build dependency on libc6-dev-i386.
  * Remove ppc64 from the Architectures. It's totally dead.
  * Add a note to /etc/default/grub that update-grub needs to be run to
    update grub.cfg. (Closes: #533026)
  * Fix the svn-snapshot rule.
  * Update Standards version to 3.8.2. No changes needed.

  [ Robert Millan ]
  * legacy/upgrade-from-grub-legacy: Invoke grub-pc.postinst directly rather
    than dpkg-reconfigure.  Since we pretend we're upgrading, it will DTRT.
  * Add grub-firmware-qemu package.
    - patches/008_qemu.diff: QEMU port (patch from upstream).
    - control (grub-firmware-qemu): New package.
    - rules: Add grub-firmware-qemu targets.
    - debian/grub-firmware-qemu.dirs
    - debian/grub-firmware-qemu.install
  * patches/906_revert_to_linux16.diff: Remove, now that gfxpayload is
    supported.

 -- Robert Millan <rmh.debian@aybabtu.com>  Sat, 27 Jun 2009 00:46:23 +0200

grub2 (1.96+20090611-1ubuntu4) karmic; urgency=low

  * debian/patches/10_crashkernel.diff:
    - make crashkernel= commandline appear before the other options
      to workaround a bug in the crashkernel parser 
      (http://lists.infradead.org/pipermail/kexec/2009-July/003444.html)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Thu, 16 Jul 2009 11:37:05 +0200

grub2 (1.96+20090611-1ubuntu3) karmic; urgency=low

  * Drop os-prober to a Recommends at Felix Zielcke's suggestion.
  * Don't build grub-efi-amd64 on lpia for the moment, since we don't seem
    to have sufficient compiler support.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 08 Jul 2009 16:25:58 +0100

grub2 (1.96+20090611-1ubuntu2) karmic; urgency=low

  * 10_crashkernel.patch:
    - add crashkernel= options if kdump and makedumpfile
      is available (part of the kernel-crashdump spec)

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 24 Jun 2009 10:19:57 +0200

grub2 (1.96+20090611-1ubuntu1) karmic; urgency=low

  * Resynchronise with Debian. Remaining changes:
    + debian/control:
      - Depend on rather than Suggest os-prober; Ubuntu version does not
        suffer from the mount problem that prevents Debian from marking this
        Depends.
    + debian/default/grub:
      - Adjust for default Ubuntu boot options.
      - Use new GRUB_CMDLINE_LINUX_DEFAULT option to set "quiet splash" for
        default items only.  These options won't be set in single user mode.
    + debian/legacy/update-grub:
      - Apply Ubuntu branding: title, recovery mode, quiet option, and tweak
        how memtest86+ is displayed.
      - Use UUIDs where appropriate.
    + debian/patches/03_ubuntu_grub_standards:
      - Remove GNU/Linux from default string.
  * debian/patches/999_os-prober_drivemap_root.diff:
    - Backport r2333 from upstream to fix chain-loading of operating systems
      detected by os-prober.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 17 Jun 2009 12:05:47 +0100

grub2 (1.96+20090611-1) experimental; urgency=low

  * New SVN snapshot.

  * Append .diff to patches/01_uuids_and_lvm_dont_play_along_nicely so
    it gets really applied.
  * Drop completely the build dependency on gcc-multilib.
  * Instead of arborting in the preinst if /etc/kernel-img.conf still
    contains /sbin/update-grub, change the file with sed. Policy allows
    thisi, because it's not a conffile, according to Colin Watson.
  * Change /etc/default/grub to an ucf managed file instead of dpkg
    conffile.

 -- Felix Zielcke <fzielcke@z-51.de>  Fri, 12 Jun 2009 11:46:24 +0200

grub2 (1.96+20090609-1) experimental; urgency=low

  * New SVN snapshot.
    - Fix variable parsing inside strings. (Closes: #486180)
    - Add `true' command. (Closes: #530736)

  [ Robert Millan ]
  * Split grub-efi in grub-efi-ia32 and grub-efi-amd64, both available
    on i386 and amd64.  (Closes: #524756)
  * Add kopensolaris-i386 to arch list.

  [ Felix Zielcke ]
  * Add a NEWS entry about the grub-efi split. 
  * Drop the build dependency on gcc-multilib for all *i386.
  * Change upgrade-from-grub-legacy to use `dpkg-reconfigure grub-pc' to
    install grub2 into MBR.

  [ New translations ]
  * Catalan (ca.po) by Jordi Mallach.

  [ Updated translations ]
  * Spanish (es.po) by Francisco Javier Cuadrado. (Closes: #532407)

 -- Jordi Mallach <jordi@debian.org>  Tue, 09 Jun 2009 19:21:15 +0200

grub2 (1.96+20090603-1) unstable; urgency=low

  * New SVN snapshot.

  * Abort the install of grub-pc if /etc/kernel-img.conf still contains
    /sbin/update-grub (Closes: #500631).

 -- Felix Zielcke <fzielcke@z-51.de>  Wed, 03 Jun 2009 20:01:11 +0200

grub2 (1.96+20090602-1) unstable; urgency=low

  * New SVN snapshot.

  [ Felix Zielcke ]
  * Skip floopies in the grub-install debconf prompt in grub-pc postinst.
    Patch by Fabian Greffrath. (Closes: #530848)

  [ Robert Millan ]
  * Change Vcs-Browser field to viewsvn.

  [ Felix Zielcke ]
  * Change Vcs-Svn field to point to the trunk. (Closes: #531391)
  * patches/01_uuids_and_lvm_dont_play_along_nicely: New patch.
    On Debian root=UUID= with lvm still doestn't work so disable it.
    (Closes: #530357)
  * Remove Otavio Salvador from Uploaders with his permission.
  * add grub-pc.preinst

 -- Felix Zielcke <fzielcke@z-51.de>  Wed, 03 Jun 2009 14:42:11 +0200

grub2 (1.96+20090523-1ubuntu1) karmic; urgency=low

  [ Colin Watson ]
  * Resynchronise with Debian. Remaining changes:
    + debian/control:
      - Depend on rather than Suggest os-prober; Ubuntu version does not 
        suffer from the mount problem that prevents Debian from marking this
      	Depends.
    + debian/default/grub 
      - Adjust for default Ubuntu boot options.
      - Use new GRUB_CMDLINE_LINUX_DEFAULT option to set "quiet splash" for
        default items only.  These options won't be set in single user mode.
    + debian/patches/03_ubuntu_grub_standards
      - Remove GNU/Linux from default string.
  * debian/legacy/update-grub: Apply Ubuntu branding: title, recovery mode,
    quiet option, and tweak how memtest86+ is displayed.

  [ Andy Whitcroft ]
  * debian/legacy/update-grub: fix generation to use the uuid command for
    the root specifier when the groot is a UUID.  Use the same test as is
    used in the 'grub' package.  LP: #376879

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 04 Jun 2009 11:20:12 +0100

grub2 (1.96+20090523-1) unstable; urgency=low

  * New SVN snapshot.
    - Add drivemap command, similar to grub-legacy's map command.
      (Closes: 503630)
    - Export GRUB_TERMINAL_INPUT in grub-mkconfig. (Closes: #526741)

  [ Robert Millan ]
  * rules: Set GRUB_ASSUME_LINUX_HAS_FB_SUPPORT=1 in CFLAGS.
  * patches/905_setup_force.diff: Relax blocklist warnings.
  * patches/906_revert_to_linux16.diff: Keep using linux16 for now.

  [ Felix Zielcke ]
  * patches/07_core_in_fs.diff: Updated.
  * Remove /etc/grub.d/10_hurd on non-Hurd systems in the grub-common
    preinst. Likewise for 10_freebsd for non kFreebsd and 10_linux on
    kFreebsd and Hurd. (Closes: #523777)

 -- Felix Zielcke <fzielcke@z-51.de>  Sat, 23 May 2009 20:05:10 +0200

grub2 (1.96+20090504-1) experimental; urgency=low

  * New SVN snapshot.
    - Add support for parttool command, which can be used to hide partitions.
      (Closes: #505905)
    - Fix a segfault with LVM on RAID. (Closes: #520637)
    - Add support for char devices on (k)FreeBSD. (Closes: #521292)
    - patches/08_powerpc-ieee1275_build_fix.patch: Remove (merged).

  [ Updated translations ]
  * Basque (eu.po) by Piarres Beobide. (Closes: #522457)
  * German (de.po) by Helge Kreutzmann. (Closes: #522815)

  [ Robert Millan ]
  * Update my email address.
  * Remove 04_uuids_and_abstraction_dont_play_along_nicely.diff now that
    bugs #435983 and #455746 in mdadm and dmsetup have been fixed.

  [ Felix Zielcke ]
  * Place new grub-dumpbios in grub-common.
  * Add lpia to the archictectures to reduce the ubuntu delta.
  * Add a manpage for the update-grub and update-grub2 stubs, written by
    me. (Closes: #523876)
  * Suggest genisoimage on grub-pc and grub-ieee1275, because grub-mkrescue
    needs it to create a cd image. (Closes: #525845)
  * Add a dependency on $(AUTOGEN_FILES) for the configure/grub-common target,
    this is needed now that upstream removed the autogenerated files from SVN.
  * Add `--enable-efiemu to' `./configure' flags.
  * Add a build dependency on gcc-multilib for i386.
  * Drop alternate build dependency on gcc-4.1 (<< 4.1.2).

 -- Felix Zielcke <fzielcke@z-51.de>  Mon, 04 May 2009 21:01:22 +0200

grub2 (1.96+20090402-1) experimental; urgency=low

  * New SVN snapshot.
    - Fix regression in disk/raid.c.  (Closes: #521897, #514338)
    - Fix handling of filename string lengths in HFS.
      (Really closes: #516458).
  * Add myself to Uploaders.
  * Add patch 08_powerpc-ieee1275_build_fix.patch to fix powerpc-ieee1275
    builds which were lacking header files for kernel_elf_HEADERS. Thanks
    Vladimir Serbinenko.

 -- Jordi Mallach <jordi@debian.org>  Fri, 03 Apr 2009 20:58:37 +0200

grub2 (1.96+20090401-1) experimental; urgency=low

  [ Felix Zielcke ]
  * New SVN snapshot.
    - Pass grub's gfxterm mode to Linux kernel. (Closes: #519506)
    - Fix ext4 extents on powerpc. (Closes: #520286)

  [ Robert Millan ]
  * Remove grub-of transitional package (Lenny had grub-ieee1275 already).
  * Fix kopt parsing in grub-pc.config. Thanks Marcus Obst. (Closes: #514837)
  * Add debconf template to automatically run grub-install during upgrades
    (prior user confirmation).  (Closes: #514705)

 -- Robert Millan <rmh@aybabtu.com>  Wed, 01 Apr 2009 01:19:45 +0200

grub2 (1.96+20090317-1) unstable; urgency=low

  * New SVN snapshot.
    - Fix loading of files with underscore in HFS. (Closes: #516458)

  * Update Standards version to 3.8.1. No changes needed.

  [ Updated translations ]
  * Brazilian Portuguese (pt_BR.po) by Flamarion Jorge. (Closes: #519417)

 -- Felix Zielcke <fzielcke@z-51.de>  Tue, 17 Mar 2009 14:42:10 +0100

grub2 (1.96+20090309-1) unstable; urgency=low

  * New SVN snapshot.

 -- Felix Zielcke <fzielcke@z-51.de>  Mon, 09 Mar 2009 10:03:13 +0100

grub2 (1.96+20090307-1) unstable; urgency=low

  * New SVN snapshot.
    - Add support for /dev/md/dNNpNN mdraid devices. (Closes: #509960)
    - Add new PF2 fontengine. (Closes: #510344)
    - Avoid mounting ext2 partitions with backward-incompatible features.
      (Closes: #502333)
    - Try to avoid false positives with FAT. (Closes: #514263)

  [ Felix Zielcke ]
  * Remove build-dependency on unifont package and add one for bf-utf-source
    package and libfreetype6-dev
  * grub-pc.postinst: Copy new ascii.pf2 instead of old ascii.pff to /boot/grub.
  * Add `--enable-grub-mkfont' to configure flags.
  * Put new grub-mkfont in grub-common package.
  * Add a dependency for ${misc:Depends} to all packages to make lintian a bit
    more happy.
  * Detect when grub-setup leaves core.img in filesystem, and include that
    info in bug report templates.
    - debian/patches/07_core_in_fs.diff
    - debian/script
  * Add myself to Uploads and add `DM-Upload-Allowed: yes' tag.

  [ Updated translations ]
  * Asturian (ast.po) by Marcos Alvarez Costales. (Closes: #511144)
  * Traditional Chinese (zh_TW.po) by Tetralet. (Closes: #513918)
  * Belarusian (be.po) by Pavel Piatruk. (Closes: #516243)

 -- Felix Zielcke <fzielcke@z-51.de>  Sat, 07 Mar 2009 11:54:43 +0100

grub2 (1.96+20081201-1) experimental; urgency=low

  * New SVN snapshot.

 -- Robert Millan <rmh@aybabtu.com>  Mon,  1 Dec 2008 00:07:31 +0100

grub2 (1.96+20081120-1) experimental; urgency=low

  * New SVN snapshot.

  * Update to new debian theme.
    - grub-pc.postinst: Switch to moreblue-orbit-grub.png.
    - grub.d/05_debian_theme: Likewise.
  * grub.d/05_debian_theme:
      - Update to use new grub-mkconfig_lib instead of the deprecated
        update-grub_lib.
      - Update to check if `GRUB_TERMINAL_OUTPUT' is `gfxterm' instead of
        `GRUB_TERMINAL'.

   [ Updated translations ]
  * Romanien (ro.po) by Eddy Petrișor. (Closes: #506039)

 -- Felix Zielcke <fzielcke@z-51.de>  Thu, 20 Nov 2008 20:25:56 +0100

grub2 (1.96+20081108-1) experimental; urgency=low

  * New SVN snapshot.
    - Add support for /dev/md/N style mdraid devices. (Closes: #475585)
    - Handle LVM dash escaping. (Closes: #464215)
    - Use case insensitive match in NTFS. (Closes: #497889)
    - Use hd%d drive names in grub-mkdevicemap for all architectures.
      (Closes: #465365)
    - Handle LVM circular metadata. (Closes: #462835, #502953)
    - Fix NULL dereference and failure paths in LVM.  Thanks Guillem Jover.
      (Closes: #500482)
    - Provides GRUB header files (only in grub-common).

  [ Updated translations ]
  * Dutch (nl.po) by Paul Gevers. (Closes: #500514)
  * French (fr.po) by Christian Perrier. (Closes: #503708)
  * Georgian (ka.po) by Aiet Kolkhi. (Closes: #503715)
  * Czech (cs.po) by Miroslav Kure. (Closes: #503809)
  * German (de.po) by Helge Kreutzmann. (Closes: #503841)
  * Japanese (ja.po) by Hideki Yamane. (Closes: #503869)
  * Italian (it.po) by Luca Monducci. (Closes: #504076)
  * Swedish (sv.po) by Martin Ågren. (Closes: #504207)
  * Arabic (ar.po) by Ossama Khayat. (Closes: #504254)
  * Portuguese (pt.po) by Miguel Figueiredo. (Closes: #504280)
  * Russian (ru.po) by Yuri Kozlov. (Closes: #504324)
  * Finnish (fi.po) by Esko Arajärvi. (Closes: #504310)
  * Basque (eu.po) by Piarres Beobide. (Closes: #504466)
  * Dutch (nl.po) by Paul Gevers. (Closes: #504683)

  [ Felix Zielcke ]
  * patches/01_grub_legacy_0_based_partitions.diff: Rename to
  * patches/903_grub_legacy_0_based_partitions.diff: this and adapt for
    s/biosdisk.c/hostdisk.c/ rename upstream.
  * patches/03_disable_floppies.diff
    patches/904_disable_floppies.diff: Likewise.
  * update-grub has been renamed to grub-mkconfig, so provide a stub for
    compatibility.
  * Make grub-pc/linux_cmdline debconf template translatable. (Closes: #503478)
  * Remove ro.po and ta.po. They don't contain a single translated
    message.

  [ Robert Millan ]
  * control: Make grub-common dependency = ${binary:Version}.
  * default/grub: Set GRUB_CMDLINE_LINUX=quiet to syncronize with
    default D-I settings.

 -- Robert Millan <rmh@aybabtu.com>  Sat,  8 Nov 2008 13:54:10 +0100

grub2 (1.96+20080831-1) experimental; urgency=low

  * New SVN snapshot.
   - patches/00_fix_double_prefix.diff: Remove (merged). (Closes: #487565)
   - patches/00_getline.diff: Remove (merged). (Closes: #493289)
   - Handle errors in RAID/LVM scan routine (rather than letting the upper
     layer cope with them).  (Closes: #494501, #495049)
   - patches/901_linux_coreboot.diff: Remove (replaced).
   - Add support for GFXMODE variable (Closes: #493106)
   - Skips /dev/.* in grub-probe.  (Closes: #486624)
   - RAID code has various fixes. (Closes: #496573)
   - Buffered file read is now used to read the background image faster.
     (Closes: #490584)

  * We are already using LZMA, because upstream includes it's own lzma encoder,
    so drop completely the liblzo handling in control and rules files.

  [ Felix Zielcke ]
  * Remove the 1.95 partition numbering transition debconf warning
    from grub2 package and removed it from all languages (*.po).
    (Closes: #493744)
  * Add a comment for the new GFXMODE in default/grub.
  * debian/rules:
      - Remove 2 ./configure options which it didn't understand.
      - New grub-mkelfimage belongs to grub-common.
  * debian/control:
      - Change debhelper compat level to 7 and build depend on it >= 7.
      - Remove ${misc:Depend} dependency on all packages except grub-pc which is
        the only one using debconf.
      - Replace deprecated ${Source-Version} with ${source:Version} for <<
        dependency and with ${build:Version} for = ones.
      - Remove versioned dependency of Build-Depends patchutils and cdbs,
        because etch has newer versions then the one used.
      - Remove dpkg-dev completely from Build-Depends because it's
        build-essentail and a non versioned dependency results in a lintian error.
      - Remove Conflict/Replaces pupa, it has been removed from Debian 2004.
      - Change build-dependency of unifont-bin to unifont (>= 1:5.1.20080820),
        it's the new package containing unifont.hex and that version to avoid
        licensing problems (Closes: #496061)
      - Remove Jason Thomas from Uploaders with his permission.
  * Preserve arguments in update-grub2 stub. (Closes: #496610)

  [ Updated translations ]
  * Japanese (ja.po) by Hideki Yamane (Closes: #493347)

  [ Robert Millan ]
  * Move a few files to grub-common and remove them from the arch-
    specific packages.
  * patches/02_old_linux_version_comparison.diff: Replace with ...
  * patches/901_dpkg_version_comparison.diff: ... this.
    Use dpkg --compare-versions in update-grub. (Closes: #494158)
  * patches/03_disable_floppies.diff: Free .drive struct member when skipping
    floppy drives.  (Closes: #496040)
  * patches/902_boot_blocklist_hack.diff: Support separate /boot when using
    blocklists.  (Closes: #496820, #489287, #494589)

 -- Robert Millan <rmh@aybabtu.com>  Sun, 31 Aug 2008 18:40:09 +0200

grub2 (1.96+20080730-1) experimental; urgency=low

  * New SVN snapshot.
    - patches/00_fix_overflow.diff: Remove (merged).
    - patches/00_uuid_boot.diff: Remove (merged).
    - patches/00_raid_duped_disks.diff: Remove (merged).
    - patches/00_xfs.diff: Remove (merged).
    - patches/00_strengthen_apple_partmap_check.diff: Remove (merged).
    - patches/00_skip_dev_dm.diff: Remove (merged).

  * patches/901_linux_coreboot.diff: Implements Linux load on Coreboot
    (patch from Coresystems).

  * grub-linuxbios -> grub-coreboot rename again.

 -- Robert Millan <rmh@aybabtu.com>  Wed, 30 Jul 2008 22:12:07 +0200

grub2 (1.96+20080724-12ubuntu2) jaunty; urgency=low

  * Build for lpia.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 25 Feb 2009 18:28:37 +0000

grub2 (1.96+20080724-12ubuntu1) jaunty; urgency=low

  * Merge from Debian Unstable (LP: #298872, LP: #256578).  
    Remaining Ubuntu changes:
    + debian/control:
      - Depend on rather than Suggest os-prober; Ubuntu version does not 
        suffer from the mount problem that prevents Debian from marking this
      	Depends.
    + debian/default/grub 
      - Adjust for default Ubuntu boot options.
      - Use new GRUB_CMDLINE_LINUX_DEFAULT option to set "quiet splash" for
        default items only.  These options won't be set in single user mode.
    + debian/patches/03_ubuntu_grub_standards
      - Remove GNU/Linux from default string.
  * New upstream snapshot includes ext4 extents support (LP: #294763)
  * Debian patch 02_dpkg_version_comparison.diff fixes kernel ordering
    (LP: #215513)
  * debian/patches/04_uuids_and_abstraction_dont_play_along_nicely:
    + Drop.  Ubuntu's mdadm and lvm properly populate /dev/disk/by-uuid, so
      this workaround is unnecessary.
  * debian/changelog:
    + Drop duplicated 1.96+20080203-1ubuntu2 and 1.96+20080203-1ubuntu1 
      entries.  We only really need them in there once!
  * Drop debian/patches/04_convert_root_uuid:
    - GRUB2 upstream now uses UUIDs when possible.

 -- Christopher James Halse Rogers <raof@ubuntu.com>  Mon, 17 Nov 2008 10:06:18 +1100

grub2 (1.96+20080724-4) unstable; urgency=high

  * patches/00_fix_overflow.diff: fix overflow with a big grub.cfg.
    (Closes: #473543)

 -- Felix Zielcke <fzielcke@z-51.de>  Tue, 29 Jul 2008 17:10:59 +0200

grub2 (1.96+20080724-3) unstable; urgency=low

  [ Felix Zielcke ]
  * changed dependency for debconf to also support debconf-2.0. (Closes: #492543)
  * patches/00_xfs.diff: Fix "out of partition" error with XFS.
    (Closes: #436943)

  [ Robert Millan ]
  * patches/00_raid_duped_disks.diff: Do not abort when two RAID disks with
    the same number are found.  (Closes: #492656)
  * patches/00_strengthen_apple_partmap_check.diff: Be more strict when probing
    for Apple partition maps (this prevents false positives on i386-pc
    installs).  (Closes: #475718)

 -- Robert Millan <rmh@aybabtu.com>  Tue, 29 Jul 2008 00:48:01 +0200

grub2 (1.96+20080724-2) unstable; urgency=high

  [ Felix Zielcke ]
  * fixed lintian override for kernel.elf
  * debian/rules: changed cvs targets to use svn

  [ Robert Millan ]
  * patches/00_skip_dev_dm.diff: Skip /dev/dm-[0-9] devices also (implicitly)
    for RAID.  (Closes: #491977)
  * patches/00_uuid_boot.diff: Fix cross-disk installs by using UUIDs.
    (Closes: #492204)

 -- Robert Millan <rmh@aybabtu.com>  Sat, 26 Jul 2008 01:06:07 +0200

grub2 (1.96+20080724-1) unstable; urgency=high

  * New SVN snapshot.
    - Support for ext4dev extents.
    - patches/00_speed_up_font_load.diff: Remove (merged).

  [ Felix Zielcke ]
  * upgrade-from-grub-legacy now calls update-grub if grub.cfg doestn't exist
    and prints a big warning if it failed.
  * Update Standards version to 3.8.0. No changes need.
  * Added Build-Dep for po-debconf and a lintian override, to make it happy.

  [ Updated translations ]
  * Swedish (sv.po) by Martin Ågren (Closes: #492056)

  [ Robert Millan ]
  * Revert r844.  grub-coreboot is stuck on NEW, and it was too early
    for branching.

 -- Robert Millan <rmh@aybabtu.com>  Thu, 24 Jul 2008 13:27:53 +0200

grub2 (1.96+20080717-1) experimental; urgency=low

  * New SVN snapshot.
    - Provides LZMA support (not yet used in the package).
    - Fix grub-mkrescue manpage generation.  (Closes: #489440)

  * Rename grub-linuxbios to grub-coreboot (and leave a dummy grub-linuxbios
    package to handle upgrades).

  [ Updated translations ]
  * Spanish (es.po) by Maria Germana Oliveira Blazetic  (Closes: #489877)
  * Portuguese (pt.po) by Ricardo Silva  (Closes: #489807)

 -- Robert Millan <rmh@aybabtu.com>  Sat, 12 Jul 2008 17:47:09 +0200

grub2 (1.96+20080704-2) unstable; urgency=high

  * patches/02_old_linux_version_comparison.diff: Set interpreter to /bin/bash.
    (Closes: #489426, #489446)

 -- Robert Millan <rmh@aybabtu.com>  Mon,  7 Jul 2008 15:17:58 +0200

grub2 (1.96+20080704-1) unstable; urgency=high

  * New SVN snapshot.
  * default/grub: Add commented example to disable graphical terminal.
  * Use substvars to support linking with liblzo1.
  * Bring 03_disable_floppies.diff to pre-r805 state.  (Closes: #488375)
  * patches/02_old_linux_version_comparison.diff: New patch.  Steal version
    comparison code from GRUB Legacy's update-grub.  (Closes: #464086, #489133)
  * patches/00_speed_up_font_load.diff: New patch.  Generate font files with
    only the needed characters.  (Closes: #476479, #477083)

 -- Robert Millan <rmh@aybabtu.com>  Fri,  4 Jul 2008 21:39:07 +0200

grub2 (1.96+20080626-1) unstable; urgency=high

  * New CVS snapshot.
    - Avoids passing UUID to Linux when not using initrd.  (Closes: #484228)
    - patches/04_uuids_and_abstraction_dont_play_along_nicely.diff: Resync.

 -- Robert Millan <rmh@aybabtu.com>  Thu, 26 Jun 2008 16:43:48 +0200

grub2 (1.96+20080621-1) unstable; urgency=high

  * Urgency set to "high" because of #482688.
  * New CVS snapshot.
    - Fix module load hook in prepare_grub_to_access_device().
      (Closes: #486804)
    - Call prepare_grub_to_access_device() before accessing devices, never
      afterwards.  (Closes: #487198)
  * grub.d/05_debian_theme: Prefer /boot/grub over /usr for image
    loading, since chances are it's less LVMed.

 -- Robert Millan <rmh@aybabtu.com>  Sat, 21 Jun 2008 15:52:48 +0200

grub2 (1.96+20080617-1) unstable; urgency=low

  * New CVS snapshot.
    - Supports IDA block devices.  (Closes: #483858)
    - Fixes some problems in ext2/ext3.  (Closes: #485068, #485065)
    - Uses EUID instead of UID in update-grub.  (Closes: #486043, #486039,
      #486040, #486041).
    - Fixes incomplete I2O device support.  Thanks Sven Mueller.
      (Closes: #486505)
    - Fixes recent regressions in fs/ext2.c.  (Closes: #485279)
    - Only use UUIDs when requested device is not the same as the one
      providing /boot.  (Closes: #486119)
    - patches/02_libgcc_powerpc_hack.diff: Remove.  Probably not needed
      anymore.
    - patches/04_uuids_and_abstraction_dont_play_along_nicely.diff: Update.
  * patches/06_olpc_prefix_hack.diff: Hardcode prefix to (sd,1) on OLPC.
  * Refurbish 03_disable_floppy_support_in_util_biosdisk.diff into
    03_disable_floppies.diff.

 -- Robert Millan <rmh@aybabtu.com>  Tue, 17 Jun 2008 01:07:52 +0200

grub2 (1.96+20080601-2) unstable; urgency=low

  * 04_run_grub_mkdevicemap_when_grub_probe_fails.diff: Remove.  Argueably
    makes grub-probe unreliable and is quite annoying.
  * 04_uuids_and_abstraction_dont_play_along_nicely.diff: New patch.  Disable
    UUID parameter to Linux when LVM or dmRAID is in use.  (Closes: #484228)
    This is a workaround for bug #484297 in udev.

 -- Robert Millan <rmh@aybabtu.com>  Tue,  3 Jun 2008 16:29:53 +0200

grub2 (1.96+20080601-1) unstable; urgency=low

  * New CVS snapshot.
    - patches/06_backward_compat_in_uuid_support.diff: Merged.
    - Fixes NULL pointer dereference in biosdisk.c.  (Closes: #483895, #483900)
    - Extends UUID support for XFS and ReiserFS.

 -- Robert Millan <rmh@aybabtu.com>  Sun,  1 Jun 2008 15:44:08 +0200

grub2 (1.96+20080531-1) unstable; urgency=low

  * New CVS snapshot.
    - Work around BIOS bug affecting keyboard on macbooks.  (Closes: #482860)
    - Adjust grub.d/05_debian_theme to use the new UUID-compatible API.
    - default/grub: Add commented GRUB_DISABLE_LINUX_UUID variable.
    - patches/06_backward_compat_in_uuid_support.diff: New.  Make update-grub
      generate code that is compatible with older GRUB installs.
    - util/biosdisk.c no longer complains about duplicated device.map entries.
      (Closes: #481236)

  [ Updated translations ]
  * Galician (gl.po) by Jacobo Tarrio  (Closes: #480977)

 -- Robert Millan <rmh@aybabtu.com>  Sat, 31 May 2008 00:02:54 +0200

grub2 (1.96+20080512-1ubuntu2) intrepid; urgency=low

  [ Onkar Shinde ]
  * debian/patches:
    - Add 03_ubuntu_grub_standards to remove GNU/Linux from the
      default string. (LP: #192955) Don't show splash screen or quiet mode
      in single user mode.
    - Add 04_convert_root_uuid.diff to default to using UUIDs
      on new GRUB2 installations.  (LP: #192956)
  * debian/control:
    - Move os-prober to 'Depends' since Ubuntu version does not suffer from
      the mount problem in Debian version. 'os-prober' is needed for probing
      other operating systems. (LP: #214642)
  * Other bugs fixed - LP: #219580

  [ Mario Limonciello ]
  * Add items from missed merge bug (LP: #234288)

 -- Onkar Shinde <onkarshinde@gmail.com>  Fri, 23 May 2008 14:28:36 +0530

grub2 (1.96+20080512-1ubuntu1) intrepid; urgency=low

  * Merge from debian unstable, remaining changes:
    - Adjust debian/default/grub for default Ubuntu boot options.

 -- Mario Limonciello <mario_limonciello@dell.com>  Tue, 27 May 2008 11:32:41 -0500

grub2 (1.96+20080512-1) unstable; urgency=low

  * New CVS snapshot.
    - Adds support for default-only Linux cmdline options.  (Closes: #460843)
    - Supports Xen virtual block devices.  (Closes: #456777)
    - Supports Virtio block devices.  (Closes: #479056)
    - Supports CCISS block devices.  (Closes: #479735)
    - Fixes handling of more LVM abnormal conditions.  (Closes: #474343,
      #474931, #477175)

  * Switch to liblzo2 now that it's GPLv3-compatible.  (Closes: #466375)
  * grub-pc.postinst: Escape \ and / in cmdline sed invokation.
    (Closes: #479279)

  [ Updated translations ]
  * Italian (it.po) by Luca Monducci  (Closes: #480740)

 -- Robert Millan <rmh@aybabtu.com>  Mon, 12 May 2008 17:46:38 +0200

grub2 (1.96+20080429-1) unstable; urgency=high

  * New CVS snapshot.
    - Includes sample grub.cfg file; we use it for grub-rescue-pc.
      (Closes: #478324)
  * grub-common: Upgrade Replaces to << 1.96+20080426-3.  (Closes: #478224,
    #478353, #478144)

  [ Updated translations ]
  * French (fr.po) by Christian Perrier  (Closes: #471291)

 -- Robert Millan <rmh@aybabtu.com>  Tue, 29 Apr 2008 13:27:52 +0200

grub2 (1.96+20080426-1) unstable; urgency=high

  * New CVS snapshot.
    - Fixes syntax error when setting GRUB_PRELOAD_MODULES.  (Closes: #476517)
  * Move os-prober to Suggests, to avoid trouble with #476184.
    (Closes: #476684)
  * patches/04_run_grub_mkdevicemap_when_grub_probe_fails.diff: New patch,
    does what its name says.  (Closes: #467127)
    - Also move grub-mkdevicemap from grub-pc to grub-common, so that GRUB
      Legacy can use it.

  [ Updated translations ]
  * Basque (eu.po) by Piarres Beobide  (Closes: #476708)

 -- Robert Millan <rmh@aybabtu.com>  Sat, 26 Apr 2008 20:06:55 +0200

grub2 (1.96+20080413-1) unstable; urgency=high

  * New CVS snapshot.
    - Provides 30_os-prober update-grub add-on.  Thanks Fabian Greffrath.
      (Closes: #461442)
    - Improves robustness when handling LVM.
      (Closes: #474931, #474343)
  * patches/03_disable_floppy_support_in_util_biosdisk.diff: New.  Does
    what its name says.  (Closes: #475177)

 -- Robert Millan <rmh@aybabtu.com>  Sun, 13 Apr 2008 13:53:28 +0200

grub2 (1.96+20080408-1) unstable; urgency=low

  * New CVS snapshot.
    - grub-probe skips non-existant devices when processing device.map.
    (Closes: #473209)
  * control: Fix syntax error.

  [ Updated translations ]
  * Finnish (fi.po) by Esko Arajärvi (Closes: #468641)

 -- Robert Millan <rmh@aybabtu.com>  Tue,  8 Apr 2008 15:45:25 +0200

grub2 (1.96+20080228-1) unstable; urgency=low

  * New CVS snapshot.
  * Split grub-probe into grub-common package.  Make all flavours depend on it.
    (Closes: #241972)
  * Suggest multiboot-doc.
  * patches/01_grub_legacy_0_based_partitions.diff: New patch.  Add a hack that
    tells grub-probe you want 0-based partition count
    (GRUB_LEGACY_0_BASED_PARTITIONS variable)
  * Stop depending on lsb-release (too heavy! we don't need python in base).
    Instead of assuming it's there, try calling it and otherwise just echo
    Debian.

 -- Robert Millan <rmh@aybabtu.com>  Thu, 28 Feb 2008 16:43:40 +0100

grub2 (1.96+20080219-3) unstable; urgency=low

  * default/grub: Use lsb_release to support Debian derivatives.
    (Closes: #466561)
  * grub.d/05_debian_theme: Only setup background image when a reader for it
    is present in /boot/grub.  (Closes: #467111)

  [ Updated translations ]
  * Russian (ru.po) by Yuri Kozlov (Closes: #467181)

 -- Robert Millan <rmh@aybabtu.com>  Sun, 24 Feb 2008 15:39:50 +0100

grub2 (1.96+20080219-2) unstable; urgency=high

  * grub-pc.postinst: Create /boot/grub if it doesn't exist.

 -- Robert Millan <rmh@aybabtu.com>  Wed, 20 Feb 2008 07:15:14 +0100

grub2 (1.96+20080219-1) unstable; urgency=high

  * New CVS snapshot.
    - Improves GPT support, allowing it to work without blocklists.

 -- Robert Millan <rmh@aybabtu.com>  Tue, 19 Feb 2008 15:05:10 +0100

grub2 (1.96+20080216-1) unstable; urgency=high

  * New CVS snapshot.
    - Fixes offset calculation issue when installing on GPT (urgency set
      to high because of this).
  * Fix Vcs-Browser tag.  Thanks James.  (Closes: #465697)
  * Only process grub-pc/linux_cmdline if /boot/grub/menu.lst exists.
    (Closes: #465708)

  [ Updated translations ]
  * French (fr.po) by Christian Perrier  (Closes: #465706)

 -- Robert Millan <rmh@aybabtu.com>  Sat, 16 Feb 2008 23:30:55 +0100

grub2 (1.96+20080213-1) unstable; urgency=low

  * New CVS snapshot.
    - Failure to read one device in a RAID-1 array no longer causes boot
      to fail (so long as there's a member that works).  (Closes: #426341)
  * script: For /proc/mounts, only report lines that start with /dev/.
  * Add new upgrade-from-grub-legacy script for the user to complete the upgrade
    process from GRUB Legacy, and advertise it prominently in menu.lst.
    (Closes: #464912)
  * Add a hack to support gfxterm / background_image on systems where /usr
    isn't accessible.  (Closes: #464911, #463144)
    - grub-pc.postinst
    - grub.d/05_debian_theme
  * Fix a pair of spelling mistakes in debconf.  (Closes: #465296)
  * Migrate kopt from menu.lst.  (Closes: #461164, #464918)

  [ Updated translations ]
  * Portuguese (pt.po) by Ricardo Silva (Closes: #465137)
  * German (de.po) by Helge Kreutzmann (Closes: #465295)

 -- Robert Millan <rmh@aybabtu.com>  Wed, 13 Feb 2008 16:37:13 +0100

grub2 (1.96+20080210-1) unstable; urgency=high

  * New CVS snapshot.
    - Errors that cause GRUB to enter rescue mode are displayed now.
      (Closes: #425149)
    - Build LVM/RAID modules into a few commands that were missing them
      (notably, grub-setup).  (Closes: #465033)
  * Fix license violation (incompatibility between GRUB and LZO2).
    (Closes: #465056)
    - Urgency set to high.
    - control: Move liblzo2-dev from Build-Depends to Build-Conflicts
      (leaving liblzo-dev as the only option).

 -- Robert Millan <rmh@aybabtu.com>  Sun, 10 Feb 2008 17:09:15 +0100

grub2 (1.96+20080209-1) unstable; urgency=low

  * New CVS snapshot.
    - Fix a root device setting issue in grub-setup.  (Closes: #463391)
    - Fix partmap detection under LVM/RAID.
    - Add scripting commands that would allow user to implement hiddenmenu-like
      functionality (http://grub.enbug.org/Hiddenmenu).
    - Provide manpages for grub-setup, grub-emu, grub-mkimage and others.
      (Closes: #333516, #372890)
  * Fix a pair of spelling errors in debconf templates.  Thanks Christian
    Perrier.  (Closes: #464133)
  * Run debconf-updatepo.  (Closes: #463918)
  * Lower base-files versioned dependency to >= 4.0.1~bpo40+1.

 -- Robert Millan <rmh@aybabtu.com>  Sat,  9 Feb 2008 13:43:49 +0100

grub2 (1.96+20080203-1ubuntu2) hardy; urgency=low

  * Update 03_ubuntu_grub_standards.
    - Don't show splash screen or quiet mode in single user mode.

 -- Mario Limonciello <mario_limonciello@dell.com>  Wed, 05 Mar 2008 19:05:04 -0600

grub2 (1.96+20080203-1ubuntu1) hardy; urgency=low

  * debian/default/grub
    - Show lsb_release rather than statically displaying "Debian" (LP: #192955)
    - Include Ubuntu specific "quiet splash" on default grub command line.
      (LP: #193024)
  * debian/patches:
    - Add 03_ubuntu_grub_standards to remove GNU/Linux from the
      default string. (LP: #192955)
    - Add 04_convert_root_uuid.diff to default to using UUIDs
      on new GRUB2 installations.  (LP: #192956)
  * debian/control:
    - Update maintainer per XSBC-Original-Maintainer spec.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 18 Feb 2008 14:05:06 -0600

grub2 (1.96+20080203-1) unstable; urgency=low

  * New CVS snapshot (and release, but we skipped that ;-))
    - patches/01_regparm.diff: Delete.
    - Improved XFS support.
    - util/grub.d/00_header.in: Add runtime error detection (for gfxterm).
    - Fixes problem when chainloading to Vista.
  * Fix po-debconf errors.  Thanks Thomas Huriaux.  (Closes: #402972)
  * grub.d/05_debian_theme:
    - Add runtime error detection.
    - Detect/Enable PNG background when it is present.
  * control (grub-ieee1275): Remove versioned dependency on powerpc-ibm-utils.

 -- Robert Millan <rmh@aybabtu.com>  Sun,  3 Feb 2008 19:31:23 +0100

grub2 (1.95+20080201-1) unstable; urgency=low

  * New CVS snapshot.
  * presubj: Improve notice.
  * patches/01_regparm.diff: Fix CPU context corruption affecting fs/xfs.c.
    (Closes: #463081, #419766, #462159)
  * patches/02_libgcc_powerpc_hack.diff: Fix FTBFS on powerpc. (Closes: #457491)
  * patches/disable_xfs.diff: Actually remove this time...

 -- Robert Millan <rmh@aybabtu.com>  Fri,  1 Feb 2008 17:06:00 +0100

grub2 (1.95+20080128-1) unstable; urgency=low

  * New CVS snapshot.
    - Fixes bogus CLAIM problems on Apple firmware.  (Closes: #449135, #422729)
    - grub-probe performs sanity checks to make sure our filesystem drivers
      are usable.  (Closes: #462449)
    - patches/disable_ata.diff: Remove.  ATA module isn't auto-loaded in
      rescue floppies now.
    - patches/disable_xfs.diff: Remove.  See above (about grub-probe).
  * Bring back grub-emu; it can help a lot with debugging feedback.
    - control
    - rules

 -- Robert Millan <rmh@aybabtu.com>  Mon, 28 Jan 2008 00:01:11 +0100

grub2 (1.95+20080116-2) unstable; urgency=low

  * grub.d/05_debian_theme: Enable swirlish beauty.
  * rules: Obtain debian/legacy/update-grub dynamicaly from GRUB Legacy svn.

 -- Robert Millan <rmh@aybabtu.com>  Sat, 19 Jan 2008 13:16:18 +0100

grub2 (1.95+20080116-1) unstable; urgency=low

  * New CVS snapshot.
    - update-grub ignores stale *.dpkg-* files.  (Closes: #422708, #424223)
    - LVM/RAID now working properly (except when it affects /boot).
      (Closes: #425666)
    - Fixes flickery in timeout message.  (Closes: #437275)
  * grub-pc.postinst: Use `--no-floppy' whenever possible.  Die, floppies,
    die!
  * Resync with latest version of GRUB Legacy's update-grub.  This time,
    using the $LET_US_TRY_GRUB_2 hack to reuse the same script both for
    addition of core.img and its removal.
  * grub-*.install: Add update-grub2 stub.  Packages providing /etc/grub.d/
    scripts should invoke update-grub2 in both postinst and postrm (whenever
    it is found, of course).
  * control: Reorganize a bit, including a complete rewrite of the
    package descriptions.
  * control (grub-ieee1275): Enable for i386/amd64.

 -- Robert Millan <rmh@aybabtu.com>  Wed, 16 Jan 2008 15:00:54 +0100

grub2 (1.95+20080107-1) unstable; urgency=low

  * New CVS snapshot.
    - Supports ReiserFS.  (Closes: #430742)
    - patches/disable_ata.diff: Resync.

 -- Robert Millan <rmh@aybabtu.com>  Mon,  7 Jan 2008 12:46:39 +0100

grub2 (1.95+20080105-2) unstable; urgency=low

  * grub-pc.postinst: Fix covered assumption that menu.lst exists.
    (Closes: #459247)
  * copyright: Fix copyright/license reference.

 -- Robert Millan <rmh@aybabtu.com>  Sun,  6 Jan 2008 18:02:28 +0100

grub2 (1.95+20080105-1) unstable; urgency=low

  * New CVS snapshot.
    - Fixes install on non-devfs systems with devfs-style paths (ouch).
      (Closes: #450709).
    - Fixes boot of "Linux" zImages (including memtest86+).  (Closes: #436113).
    - Corrects usage message in grub-setup.  (Closes: #458600).
    - patches/menu_color.diff: Remove.  Made obsolete by `menu_color_normal'
      and `menu_color_highlight' variables.  Add/install grub.d/05_debian_theme
      to make use of them.
  * Reestructure grub-pc.postinst.  Notably:
    - Do not touch menu.lst unless user has confirmed it (via debconf).
      (Closes: #459247)
    - When we do, keep a backup in /boot/grub/menu.lst_backup_by_grub2_postinst.

 -- Robert Millan <rmh@aybabtu.com>  Sat,  5 Jan 2008 17:55:37 +0100

grub2 (1.95+20080101-1) unstable; urgency=low

  * New CVS snapshot.
    - patches/disable_xfs.diff: Rewrite in a way that won't collide with
      upstream changes so often.
    - unifont.hex now processed by upstream.
      - rules: Disable build of unifont.pff.
      - *.install: Remove build/unifont.pff line.
    - patches/menu_color.diff: Change menu color to our traditional blue theme.
  * Support new dpkg fields (Homepage, Vcs-Svn, Vcs-Browser).
  * patches/disable_ata.diff: Prevent ATA module from being built on i386-pc.

 -- Robert Millan <rmh@aybabtu.com>  Tue,  1 Jan 2008 19:45:30 +0100

grub2 (1.95+20071101-1) unstable; urgency=low

  * New CVS snapshot.
    - patches/linuxbios.diff: Remove (supported in upstream now).

 -- Robert Millan <rmh@aybabtu.com>  Thu,  1 Nov 2007 13:18:51 +0100

grub2 (1.95+20071004-2) unstable; urgency=low

  * Rename debian/grub-of.* to debian/grub-ieee1275.*.
  * Add debian/grub-linuxbios.{postinst,dirs,install}.
  * rules: Fix/Overrride lintian warnings (unstripped-binary-or-object).
  * Remove grub-linuxbios.postinst.

 -- Robert Millan <rmh@aybabtu.com>  Wed, 10 Oct 2007 23:56:35 +0200

grub2 (1.95+20071004-1) unstable; urgency=low

  * New CVS snapshot.
  * Add grub-linuxbios package.
    - patches/linuxbios.diff
    - control
    - rules
  * Rename grub-of to grub-ieee1275 to match with upstream conventions.
    - control
    - rules

 -- Robert Millan <rmh@aybabtu.com>  Thu,  4 Oct 2007 14:42:30 +0200

grub2 (1.95+20070829-1) unstable; urgency=low

  * New CVS snapshot.
    - Includes fix for parallel builds.
  * rules: Append -j flag to $(MAKE) to take advantage of >1 processors.
  * Add reference to /usr/share/common-licenses.
    - debian/copyright
    - debian/control (all packages): Add base-files (>= 4.0.1) dependency.

 -- Robert Millan <rmh@debian.org>  Sat,  1 Sep 2007 19:00:22 +0200

grub2 (1.95+20070828-2) unstable; urgency=low

  * control (grub-of): Make depends on powerpc-ibm-utils versioned as
    >= 1.0.6 (older versions don't have -a flag).

 -- Robert Millan <rmh@debian.org>  Tue, 28 Aug 2007 23:32:32 +0200

grub2 (1.95+20070828-1) unstable; urgency=low

  * New CVS snapshot.
    - Adds ntfs support.
    - Fixes a pair of issues indirectly breaking grub-probe on powerpc.
      (Closes: #431488)
    - patches/disable_xfs.diff: Resync.
    - copyright: License upgraded to GPLv3.
  * control (grub-of Depends): Add powerpc-utils (for nvsetenv) and bc.

 -- Robert Millan <rmh@debian.org>  Tue, 28 Aug 2007 21:24:14 +0200

grub2 (1.95+20070626-1) unstable; urgency=low

  * New CVS snapshot.
    - More fixes to cope with unreadable /.  (Closes: #427289)
    - update-grub supports multiple terminals.
  * control (Build-Depends): Add genisoimage.
  * patches/partmap_fallback.diff: Remove.  It didn't archieve anything as
    it also needs support for proper identification of raid / lvm (this is
    being worked on).
  * patches/disable_xfs.diff: Disable xfs in grub-probe.
  * grub-rescue-pc.README.Debian: New.  Explain how to use the rescue
    images.

 -- Robert Millan <rmh@debian.org>  Tue, 26 Jun 2007 08:39:14 +0200

grub2 (1.95+20070614-1) unstable; urgency=low

  * New CVS snapshot.
    - update-grub is tollerant to unreadable / (as long as /boot is
    accessible). (Closes: #427289)
  * grub-pc.postinst: Generate new grub.cfg when menu.lst exists.
  * New package grub-rescue-pc.
    - control: Add it.
    - README.Debian.in: Remove obsolete documentation.
    - rules: Build rescue images using grub-mkrescue.
    - grub-rescue-pc.dirs: Prepare their directory.
    - grub-rescue-pc.install: Install them.
  * legacy/update-grub: Fix core.img detection on separate /boot.

 -- Robert Millan <rmh@debian.org>  Thu, 14 Jun 2007 08:17:21 +0200

grub2 (1.95+20070604-1) unstable; urgency=low

  * New CVS snapshot.
    - patches/grub_probe_for_everyone.diff: Remove (merged).
    - update-grub exports user-defined GRUB_CMDLINE_LINUX.  (Closes: #425453)
    - Fix those nasty powerpc bugs.  (Closes: #422729)

 -- Robert Millan <rmh@aybabtu.com>  Mon,  4 Jun 2007 21:30:55 +0200

grub2 (1.95+20070520-1) unstable; urgency=low

  * New CVS snapshot.
    - LVM / RAID fixes.  (Closes: #423648, #381150)
    - Fix memory management bug.  (Closes: #423409)
    - patches/efi.diff: Remove (merged).
    - patches/grub_probe_for_everyone.diff: Use the new paths for
      util/grub-probe.c, util/biosdisk.c, util/getroot.c.  Enable
      grub-mkdevicemap.  (Closes: #424985)
  * legacy/update-grub: Get rid of all grub-set-default calls.  (Closes: #425054)
  * grub-{pc,efi,of}.postinst: Only run update-grub if grub.cfg already exists.
  * grub-pc.postinst: Only run GRUB Legacy compat stuff if menu.lst is found.
  * patches/partmap_fallback.diff: New.  Implement fallback "pc gpt" for partmap
    detection failures.  (Closes: #423022)
  * control: Update XS-Vcs-* fields.  Thanks Sam Morris <sam@robots.org.uk>.
    (Closes: #425146)
  * grub-{pc,efi,of}.{dirs,postinst}: Move unifont.pff to /usr/share/grub.

 -- Robert Millan <rmh@aybabtu.com>  Sun, 20 May 2007 11:13:03 +0200

grub2 (1.95+20070515-1) unstable; urgency=low

  * New CVS snapshot.
    - Fix assumptions about /, /boot and /boot/grub being the same device.
    (Closes: #423268, #422459)
    - Proper sorting of Linux images.  (Closes: #422580)
    - update-grub lets /etc/default/grub override its variables now.
    (Closes: #423649)
    - update-grub mentions /etc/default/grub in the grub.cfg header.
    (Closes: #423651)
    - update-grub sets 800x600x16 as the default gfxmode.  (Closes: #422794)
    - update-grub runs grub-mkdevicemap before attempting to use grub-probe
    (part of #423217)

  [ Otavio Salvador ]
  * Add support to DEB_BUILD_OPTIONS=noopt. Thanks to Sam Morris
    <sam@robots.org.uk> for the patch. (Closes: #423005)
  * Add Robert Millan as uploader.
  * Change build-dependency from liblzo-dev to liblzo2-dev. (Closes: #423358)

  [ Robert Millan ]
  * grub-pc.postinst:
    - Remove /boot/grub/device.map before running grub-install.
      (Closes: #422851)
    - Always run update-grub after grub-install. (part of #423217)
    - Use grub-mkdevicemap instead of removing device.map, since update-grub
      needs it but grub-install is not run unconditionaly.
    - Redirect grub-install invocation to /dev/null, since it can mislead
      users into thinking that MBR was overwritten.  (part of #423217)
  * default/grub: Stop exporting the variables (update-grub does that now).
  * Misc EFI fixes, including new grub-install.
    - patches/efi.diff: New.
    - patches/grub_probe_for_everyone.diff: Move some bits to efi.diff.
    - grub-efi.install: Stop installing dummy grub-install.
    - grub-install: Remove.
  * grub-pc.postinst: Avoid generating core.img when menu.lst is not present,
    to avoid duplicated work (this is specialy important for d-i).  (part of
    #423217).
  * See multiple references above.  (Closes: #423217)
  * grub-{pc,efi,of}.{dirs,install}: Install presubj in the right directory
    to make it work again (oops).
  * Add reportbug script to gather debugging information.  (Closes: #423218)
    - script: New.
    - grub-{pc,efi,of}.install: Install it.
  * Install the reportbug scripts for grub2 too, since users might still use
    it for bugfiling.
    - grub2.dirs
    - grub2.install
  * Fix some lintian warnings.
    - control (grub2): Depend on debconf.
    - README.Debian.in: Fix mispell.
    - grub2.templates: Remove extra dot.

 -- Robert Millan <rmh@aybabtu.com>  Tue, 15 May 2007 22:08:53 +0200

grub2 (1.95+20070507-1) unstable; urgency=low

  [ Robert Millan ]
  * New CVS snapshot.
    - patches/build_neq_src.diff: Remove (merged).
  * Fix debhelper files to ensure each package gets the right thing.
  * Enable gfxterm/unifont support.
  * On grub-pc, if there's no core.img setup, create one (but do not
    risk writing to MBR).
  * On grub-pc, if menu.lst is found, regenerate it to include our
    core.img.

  [ Otavio Salvador ]
  * Move debian/update-grub to debian/legacy/update-grub otherwise the
    source gets messy.

 -- Otavio Salvador <otavio@ossystems.com.br>  Mon, 07 May 2007 18:48:14 -0300

grub2 (1.95+20070505.1-3) unstable; urgency=low

  * Split postinst into grub2.postinst (with the transition warning) and
    postinst.in, with update-grub invocation for grub-{pc,efi,of}.
    - postinst.in
    - grub2.postinst
    - rules

 -- Robert Millan <rmh@aybabtu.com>  Sun,  6 May 2007 01:20:04 +0200

grub2 (1.95+20070505.1-2) unstable; urgency=low

  * Add EFI build of GRUB.
  - control: Restructure to provide 3 packages: grub-pc (x86),
    grub-efi (x86) and grub-of (powerpc).
  - rules: Handle a separate build for each package.
  - patches/build_neq_src.diff: Fix builddir == srcdir assumptions.
  - patches/grub_probe_for_everyone.diff: New (superceds
    powerpc_probe.diff).  Enable grub-probe on powerpc and i386-efi.
  - grub-install: Dummy informational grub-install for EFI.
  - grub-efi.install: Installs it.

 -- Robert Millan <rmh@aybabtu.com>  Sun,  6 May 2007 00:23:56 +0200

grub2 (1.95+20070505.1-1) unstable; urgency=low

  * New CVS snapshot.
  * patches/powerpc_probe.diff: Add partmap/gpt.c to grub-probe.
  * control (Architecture): Temporarily disable powerpc.  Sorry, but runtime
    is currently broken and we don't have the hardware to debug it.  Will be
    re-enabled in next upload.

 -- Robert Millan <rmh@aybabtu.com>  Sat,  5 May 2007 21:52:49 +0200

grub2 (1.95+20070505-1) unstable; urgency=low

  * New CVS snapshot.
    - Improved grub.cfg parser.  (Closes: #381215)
    - patches/fix-grub-install.diff: Remove (merged).
    - control (Build-Depends): Remove libncurses5-dev (no longer needed).
    - provides update-grub2.  (Closes: #419151)
    - Supports GPT in PC/BIOS systems.  (Closes: #409073)
  * control (Build-Depends): Add gcc-multilib to fix FTBFS.
  * control (Description): Make it less scary, and more informative.
  * postinst: Run update-grub to ensure the latest improvements always are
    applied.
  * patches/powerpc_probe.diff: Attempt at making grub-probe build/install
    on powerpc (and hopefuly update-grub).

 -- Robert Millan <rmh@aybabtu.com>  Sat,  5 May 2007 01:49:07 +0200

grub2 (1.95-5) unstable; urgency=low

  * Fix FTBFS on kFreeBSD. Thanks to Aurelien Jarno <aurel32@debian.org>
    by providing the patch. Closes: #416408

 -- Otavio Salvador <otavio@ossystems.com.br>  Fri, 30 Mar 2007 19:20:48 -0300

grub2 (1.95-4) unstable; urgency=low

  * Fix powerpc grub-install binary path. Closes: #402838

 -- Otavio Salvador <otavio@ossystems.com.br>  Thu, 22 Mar 2007 23:45:56 -0300

grub2 (1.95-3) unstable; urgency=low

  [ Christian Perrier ]
  * Switch to po-debconf for debconf templates. Closes: #402972
  * Depend on ${misc:Depends} and not "debconf" to allow cdebconf to be used
  * Debconf translations:
    - French
    - Czech. Closes: #413327
    - Galician. Closes: #413323
    - Swedish. Closes: #413325
    - Portuguese. Closes: #413332
    - German. Closes: #413365
    - Tamil. Closes: #413478
    - Russian. Closes: #413542
    - Italian. Closes: #413904
    - Romanian. Closes: #414443

 -- Otavio Salvador <otavio@ossystems.com.br>  Tue, 20 Mar 2007 23:46:38 -0300

grub2 (1.95-2) unstable; urgency=low

  [ Robert Millan ]
  * update-grub: Fix for Xen hypervisor entries, thanks Aaron Schrab.
    (Closes: #394706)
  * Transition to new numbering scheme for partitions. (Closes: #395019)
    - update-grub: Don't substract 1 when converting partition device names to
      grub drives.
    - Add debconf warning explaining the situation.
  * Rewrite Architecture line back to hardcoded list :(.  (Closes: #398060)

 -- Otavio Salvador <otavio@debian.org>  Mon, 11 Dec 2006 05:08:41 -0200

grub2 (1.95-1) unstable; urgency=low

  * New upstream release.
    - patches/03_revert_partition_numbering.diff: Delete (obsoleted).

 -- Robert Millan <rmh@aybabtu.com>  Sat, 14 Oct 2006 21:19:21 +0200

grub2 (1.94+20061003-1) unstable; urgency=high

  * New CVS snapshot.

  [ Otavio Salvador ]
  * Change debhelper compatibility mode to 5:
    - debian/compat: setted to 5;
  * control (Build-Depends): Add lib32ncurses5-dev for ppc64.
    Closes: #389873
  * Set urgency=high since it's experimental stuff and tagged likewise. It
    also solved a serious bug on PowerPC that leave users with a black
    screen.

  [ Robert Millan ]
  * control (Depends):  Add powerpc-ibm-utils for powerpc/ppc64.
    (Closes: #372186)

 -- Otavio Salvador <otavio@debian.org>  Tue,  3 Oct 2006 16:49:32 -0300

grub2 (1.94+20060926-1) unstable; urgency=high

  * New CVS snapshot.
    - Command-line editting fix (Closes: #381214).
    - Fixes runtime breakage on amd64 (not in BTS).
    - Delete a few patches (merged).

  [ Robert Millan ]
  * Set urgency=high.  Might seem like a rush, but it can't possibly be worse than
    1.94-5 (broken on systems that use udev, broken on amd64...).
  * Pure ppc64 support.
    - control (Architecture): Add any-ppc64.
    - control (Build-Depends): Add libc6-dev-powerpc [ppc64].
  * rules: Remove moddep.lst install command (no longer needed).
  * patches/03_revert_partition_numbering.diff:  New.  Revert a commit that
    broke grub-probefs.
  * Add bug template to encourage sending upstream stuff directly to
    upstream.
    - presubj: New.

  [ Otavio Salvador ]
  * Add XS-X-Vcs-Svn on control file and point it to our current svn
    repository.
  * Add cvs-snapshot to rules.

 -- Otavio Salvador <otavio@debian.org>  Tue, 26 Sep 2006 16:14:36 -0300

grub2 (1.94-6) unstable; urgency=low

  [ Robert Millan ]
  * update-grub:  Set interpreter to /bin/bash to cope with non-POSIX
    extensions.  (mentioned in #361929)
  * patches/03_avoid_recursing_into_dot_static.diff:  New.  Avoid recursing into
    dotdirs (e.g. ".static").
  * patches/04_mkdevicemap_dont_assume_floppies.diff:  New.  Don't assume
    /dev/fd0 exists when generating device.map.

 -- Otavio Salvador <otavio@debian.org>  Thu, 14 Sep 2006 16:07:30 -0300

grub2 (1.94-5) unstable; urgency=low

  [ Robert Millan ]
  * control (Build-Depends): s/any-amd64/amd64 kfreebsd-amd64/g (this seems to
    confuse buildds).
  * 02_not_remove_menu_lst.patch: New patch.  Skip menu.lst removal in
    grub-install.  (Closes: #372934)

 -- Otavio Salvador <otavio@debian.org>  Sun, 20 Aug 2006 12:02:13 -0300

grub2 (1.94-4) unstable; urgency=low

  [ Otavio Salvador ]
  * 01_fix_amd64_building.patch: dropped since it now supports amd64
    native building.
  * Remove convert_kernel26 usage since it's not necessary anymore and due
    initramfs-tools changes it's bug too.
  
  [ Robert Millan ]
  * Fork update-grub from grub legacy, and tweak a few commands in output to
    make it work for grub2.
  * Update README.Debian.in with more recent (and easier) install instructions.
  * Add grub to Conflicts/Replaces.  Too many commands with the same name,
    even if they don't use the same path yet (but will likely do in the
    future, see #361929).
  * Get rid of control.in, which I introduced in 0.6+20040805-1 and turned out
    to be an endless source of problems (and forbidden by policy as well).
  * Fix FTBFS on amd64. Really closes: #372548.

 -- Otavio Salvador <otavio@debian.org>  Fri, 18 Aug 2006 15:38:25 -0300

grub2 (1.94-3) unstable; urgency=low

  * Fix FTBFS in amd64. Closes: 372548

 -- Otavio Salvador <otavio@debian.org>  Sat, 10 Jun 2006 19:57:01 -0300

grub2 (1.94-2) unstable; urgency=low

  * Update grub images paths in README.Debian
  * 01_fix_grub-install.patch: add to fix a problem with PowerPC
    installation. Refs: #371069
  * Fix FTBFS in amd64. Closes: #370803

 -- Otavio Salvador <otavio@debian.org>  Fri,  9 Jun 2006 09:29:40 -0300

grub2 (1.94-1) unstable; urgency=low

  * New upstream release.
    - Fix powerpc building. Closes: #370259
    - 01_fix_grub-install.patch: merged upstream.
    - Moved modules to /usr/lib/grub since they are architecture 
      dependent.
  * Leave CDBS set debhelper compatibility level.
  * Allow amd64 build to happen. Closes: #364956
  * Enforce building in 32bits while running in x86_64 machines.
  * Update Standards version to 3.7.2. No changes need.

 -- Otavio Salvador <otavio@debian.org>  Mon,  5 Jun 2006 12:49:09 -0300

grub2 (1.93-1) unstable; urgency=low

  * New upstream release.
    - Added support to PowerPC. Closes: #357853
    - 01_fix_grub-install.patch: rediff.
  * Update Standards version to 3.6.2. No changes need.
  * Start to use new dpkg architecture definition. Closes: #360134

 -- Otavio Salvador <otavio@debian.org>  Sat,  1 Apr 2006 10:07:17 -0300

grub2 (1.92-2) unstable; urgency=low

  * Add bison on build-depends field. Closes: #346178
  * Add more fixes in 01_fix_grub-install.patch. Closes: #346177

 -- Otavio Salvador <otavio@debian.org>  Fri,  6 Jan 2006 09:48:08 -0200

grub2 (1.92-1) unstable; urgency=low

  * New upstream release.
    - Add support for GPT partition table format.
    - Add a new command "play" to play an audio file on PC.
    - Add support for Linux/ADFS partition table format.
    - Add support for BASH-like scripting.
    - Add support for Apple HFS+ filesystems.
  * 01_fix_grub-install.patch: Added. Fix grub-install to use
    /bin/grub-mkimage instead of /sbin/grub-mkimage. Closes: #338824
  * Do not use CDBS tarball mode anymore. Closes: #344272  
  
 -- Otavio Salvador <otavio@debian.org>  Thu,  5 Jan 2006 15:20:40 -0200

grub2 (1.91-0) unstable; urgency=low

  * New upstream release. Closes: #331211
  * debian/watch: added.
  * debian/control.in, debian/control: Add libncurses5-dev in
    Build-Depends. Closes: #304638
  * Remove Robert Millan as uploader;
  * Add myself as uploader;

 -- Otavio Salvador <otavio@debian.org>  Sat, 12 Nov 2005 16:35:18 -0200

grub2 (0.6+20050203-2) unstable; urgency=low

  * Disable for powerpc.  Reportedly it fails to boot.

 -- Robert Millan <rmh@debian.org>  Fri,  4 Feb 2005 01:52:09 +0100

grub2 (0.6+20050203-1) unstable; urgency=low

  * New upstream snapshot.
  * Install moddep.lst properly in a cpu-independant way. (Closes: #264115)
  * Use cdbs debian/control autogeneration.
    - Set DEB_AUTO_UPDATE_DEBIAN_CONTROL = yes.
    - Move control to control.in.
    - Add a @cdbs@ tag and replace Architecture with Cpu/System.
  * control.in (Build-Depends):  Add ruby.

 -- Robert Millan <rmh@debian.org>  Thu,  3 Feb 2005 22:33:39 +0100

grub2 (0.6+20040805-1) unstable; urgency=low

  * New upstream snapshot.
  * Uploading to unstable so that powerpc users can be blessed by GRUB too.
  * Use type-handling to generate dpkg arch list.
    - control.in
    - rules

 -- Robert Millan <rmh@debian.org>  Thu,  5 Aug 2004 20:50:16 +0200

grub2 (0.6+20040502-1) experimental; urgency=low

  * New upstream snapshot.
    - Fix FTBFS on powerpc.

 -- Robert Millan <rmh@debian.org>  Sun,  2 May 2004 18:16:29 +0200

grub2 (0.6+20040429-1) experimental; urgency=low

  * New upstream snapshot.
    - control (Architecture): Add powerpc.

 -- Robert Millan <rmh@debian.org>  Thu, 29 Apr 2004 20:41:31 +0200

grub2 (0.6+20031125-1) experimental; urgency=low

  * New upstream snapshot.
    - patches/multiboot.diff: Nuked.
    - install,docs: Update directory name.
  * control (Maintainer): Set to pkg-grub-devel mailing list.
  * control (Uploaders): Add myself.
  * control (Architecture): Add freebsd-i386 and netbsd-i386.

 -- Robert Millan <rmh@debian.org>  Tue, 25 Nov 2003 23:48:18 +0100

grub2 (0.6+20031114-1) experimental; urgency=low

  * New upstream snapshot.
    - README.Debian: s/fat/ext2/g (We now have ext2fs support).
  * Add multiboot support, thanks to Jeroen Dekkers for his patch.
    - patches/multiboot.diff: New.
    - control (Architecture): Add hurd-i386 (which needed multiboot).
  * Rename package to grub2 (to follow upstream tendency).
    - control: Ditto.
    - README.Debian: Likewise.
  * Switch to tarball mode.
    - rules: Ditto.
    - docs: Prefix paths in order to workaround dh_installdocs bug.
    - install: Likewise, but not because of bug (should be in rules, actualy).
  * Fix FTBFS. (Closes: #213868)
    - control (Build-Depends): Add autoconf.
    - control (Build-Conflicts): Add autoconf2.13.

 -- Robert Millan <rmh@debian.org>  Fri, 14 Nov 2003 13:16:12 +0100

pupa (0.6+20031008-1) experimental; urgency=low

  * New upstream snapshot.
  * Uploading to experimental.
  * debian/control: Add Jason Thomas to Uploaders.

 -- Robert Millan <rmh@debian.org>  Wed,  8 Oct 2003 13:22:50 +0000

pupa (0.6+20030915-1) unstable; urgency=low

  * Initial Release. (Closes: #211030)

 -- Robert Millan <rmh@debian.org>  Mon, 15 Sep 2003 14:58:42 +0000
